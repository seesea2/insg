!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t){e.exports=require("express")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(24);t.ObjectID=u.ObjectID;var o,a="mongodb+srv://admin:admin@cluster0-dxwkg.mongodb.net/insg?retryWrites=true";function i(){return r(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,u.MongoClient.connect(a,{useNewUrlParser:!0})];case 1:return e=t.sent(),[2,o=e.db("insg")];case 2:throw t.sent(),"Database connection failed.";case 3:return[2]}})})}t.MongoDb=function(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:if(o)return[2,o];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,i()];case 2:return e.sent(),[2,o];case 3:throw e.sent();case 4:return[2]}})})},t.DbCollection=function(e){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:if(o)return[2,o.collection(e)];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,i()];case 2:return t.sent(),[2,o.collection(e)];case 3:throw t.sent();case 4:return[2]}})})}},function(e,t){e.exports=require("axios")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.busArrivalUrl="http://datamall2.mytransport.sg/ltaodataservice/BusArrivalv2";t.busStopsUrl="http://datamall2.mytransport.sg/ltaodataservice/BusStops";var r={headers:{AccountKey:"6sVzf9zXRaCgkJUdjxIw2A=="}};t.headerConfig=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),o=n(3),a=[];function i(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=o.busStopsUrl,e&&(t+="?$skip="+e),[4,u.default.get(t,o.headerConfig)];case 1:if(200!=(n=r.sent()).status)throw{status:n.status};return[2,n.data.value];case 2:throw r.sent();case 3:return[2]}})})}function c(e){if(e)for(var t=0;t<a.length;t++)if(e===a[t].BusStopCode)return a[t]}t.busStops=a,function e(){return r(this,void 0,void 0,function(){var n,r,u;return s(this,function(s){switch(s.label){case 0:s.trys.push([0,5,,6]),n=0,r=[],s.label=1;case 1:return[4,i(n)];case 2:r=s.sent(),u=a,t.busStops=a=u.concat(r),n+=500,s.label=3;case 3:if(500===r.length)return[3,1];s.label=4;case 4:return[3,6];case 5:return s.sent(),t.busStops=a=[],e(),[3,6];case 6:return[2]}})})}(),t.checkBusStopLocally=c,t.getBusStopInfo=function(e,t){if(!e)return t.status(400).send("Invalid Bus Stop Code.");var n=c(e);return n?t.status(200).send(n):t.status(400).send("Bus Stop Info not found.")},t.getNearbyBusStops=function(e,t,n){if(void 0===e||void 0===t)return n.status(400).send("Invalid coordinates.");for(var r=[],s=0;s<a.length;s++){var u=(a[s].Latitude-e)*Math.PI/180,o=(a[s].Longitude-t)*Math.PI/180,i=Math.sin(u/2)*Math.sin(u/2)+Math.cos(a[s].Latitude*Math.PI/180)*Math.cos(e*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2),c=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371e3;Math.abs(c)<400&&r.push(a[s])}n.status(200).send(r)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1);t.GetInventory=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,u.DbCollection("gifts-inventory")];case 1:return[4,r.sent().find().toArray()];case 2:return t=r.sent(),[2,e.status(200).send(t)];case 3:return n=r.sent(),[2,e.status(500).send(n)];case 4:return[2]}})})},t.AdjustInventory=function(e,t,n){return r(this,void 0,void 0,function(){var r,o;return s(this,function(s){switch(s.label){case 0:if(!e||!t)return[2,n.status(400).send("Invalid input.")];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,u.DbCollection("gifts-inventory")];case 2:return[4,s.sent().updateOne({_id:new u.ObjectID(e)},{$set:{modifiedOn:new Date,qty:t}},{upsert:!0})];case 3:return r=s.sent(),[2,n.status(200).send(r)];case 4:return o=s.sent(),[2,n.status(500).send(o)];case 5:return[2]}})})},t.ReserveInventory=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,a;return s(this,function(s){switch(s.label){case 0:if(!t||t.length<=0)throw"The cart is empty.";s.label=1;case 1:return s.trys.push([1,7,,8]),n=[],r=[],[4,u.DbCollection("gifts-inventory")];case 2:o=s.sent(),a=0,s.label=3;case 3:return a<t.length?[4,o.updateOne({_id:new u.ObjectID(t[a].product._id),qty:{$gte:t[a].qty}},{$inc:{qty:-t[a].qty},$push:{reservations:{qty:t[a].qty,_id:new u.ObjectID(e),createdOn:new Date}}})]:[3,6];case 4:if(0===s.sent().result.nModified)return r.push(t[a].product),[3,6];n.push(t[a].product),s.label=5;case 5:return a++,[3,3];case 6:if(r.length>0){for(a=0;a<n.length;a++)o.updateOne({_id:n[a]._id,"reservations._id":e},{$inc:{qty:n[a].qty},$pull:{reservations:{_id:e}}});throw"Not enough storage."}return[2,"Success."];case 7:throw s.sent();case 8:return[2]}})})},t.DeleteInventoryReservation=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,u.DbCollection("gifts-inventory")];case 1:return[4,r.sent().updateOne({"reservations._id":new u.ObjectID(e)},{$pull:{reservations:{_id:new u.ObjectID(e)}}})];case 2:if((t=r.sent()).result.nModified<=0)throw"delete reservation failed.";return[2,t];case 3:throw n=r.sent(),console.log(n),"delete reservation failed with exception.";case 4:return[2]}})})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},u=this;Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(7);function i(e){return!(!e||!e.user)}r(u,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,o.DbCollection("gifts-users")];case 1:return e.sent().createIndex("uid",{unique:!0}),[2]}})}),t.Login=function(e,t){return r(this,void 0,void 0,function(){var n,r;return s(this,function(s){switch(s.label){case 0:if(e.session&&e.session.user)return[2,t.status(200).send({uid:e.session.user.uid})];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,o.DbCollection("gifts-users")];case 2:return n=s.sent(),r=e.session,[4,n.findOne({uid:e.body.uid,pwd:a.encrypt(e.body.pwd)})];case 3:return r.user=s.sent(),e.session.user?[2,t.status(200).send({uid:e.session.user.uid})]:[2,t.status(403).send("Incorrect username or password")];case 4:return s.sent(),[2,t.status(500).send("server error.")];case 5:return[2]}})})},t.Logout=function(e,t){return e.session&&e.session.user&&(e.session.user=null),t.status(200).send({result:"ok"})},t.Register=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!(e.body.uid&&e.body.pwd&&e.body.email&&e.body.firstName&&e.body.lastName))return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,o.DbCollection("gifts-users")];case 2:return[4,r.sent().insertOne({uid:e.body.uid,pwd:a.encrypt(e.body.pwd),email:e.body.email,firstName:e.body.firstName,lastName:e.body.lastName,createdOn:new Date})];case 3:return 1===(n=r.sent()).insertedCount?[2,t.status(200).send(n.ops[0])]:[2,t.status(500).send("Register failed. Please try again later.")];case 4:return r.sent(),[2,t.status(500).send("Register failed. Please try again later.")];case 5:return[2]}})})},t.DeleteUser=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e||!e.user)return[2,t.status(403).send("Login is required.")];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.MongoDb()];case 2:return r.sent().collection("gifts-users").deleteOne({_id:e.user._id}),e.user=null,[2,t.status(200).send({result:"User deleted."})];case 3:return n=r.sent(),[2,t.status(400).send(n)];case 4:return[2]}})})},t.UserInfo=function(e,t){return i(e)?t.status(200).send({_id:e.user._id,uid:e.user.uid,email:e.user.email}):t.status(403).send("User Not login.")},t.bLogin=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,s=n(32),u="aes-192-cbc",o=s.scryptSync("inSGyc83","salt",24),a=Buffer.alloc(16,0);function i(e,t){var n="";if(e===r.String)n="abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";else if(e===r.Number)n="0123456789";else{if(e!==r.Capital)return"";n="ABCDEFGHIJKLMNOPQRSTUVWXYZ"}for(var s="",u=t;u>0;--u)s+=n[Math.floor(Math.random()*n.length)];return s}t.encrypt=function(e){try{var t=s.createCipheriv(u,o,a),n=t.update(e,"utf8","hex");return n+=t.final("hex")}catch(e){}},t.decrypt=function(e){try{var t=s.createDecipheriv(u,o,a),n=t.update(e,"hex","utf8");return n+=t.final("utf8")}catch(e){}},function(e){e[e.Capital=0]="Capital",e[e.Number=1]="Number",e[e.String=2]="String"}(r||(r={})),t.RandomTypes=r,t.randomNumber=function(e){return i(r.Number,e)},t.randomCapitals=function(e){return i(r.Capital,e)},t.randomString=function(e){return i(r.String,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(9),u=n(10),o=n(11),a=n(12),i=n(13),c=n(14),l=n(15),d=r();d.use(i()),d.use(c.json()),d.use(c.urlencoded({extended:!1})),d.use(s({secret:"insg-yc-ly-17",resave:!1,saveUninitialized:!0,cookie:{maxAge:864e5}})),d.use("/api",l.default),d.get("/",function(e,t){return t.status(200).sendFile(a.join(__dirname,"/client/index.html"))}),d.use(r.static(a.join(__dirname,"/client"))),d.use(r.static(a.join(__dirname,"/client/assets"),{dotfiles:"allow"})),d.all("/*",function(e,t){return t.status(200).sendFile(a.join(__dirname,"/client/index.html"))}),d.use(function(e,t,n){return t.status(500).send("Issue happened. Please retry later!")});var f={cert:o.readFileSync(a.join(__dirname,"./sslforfree/cert.pem")),key:o.readFileSync(a.join(__dirname,"./sslforfree/privkey.pem")),ca:o.readFileSync(a.join(__dirname,"./sslforfree/chain.pem"))};u.createServer(f,d).listen(3e3,function(){console.log("Node server listening on https port 3000")})},function(e,t){e.exports=require("express-session")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("body-parser")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(16),u=n(18),o=n(20),a=n(26),i=n(36),c=r.Router();c.use("/dictionary",o.dictionaryRouter),c.use("/http",u.default),c.use("/lunchfun",o.lunchfunRouter),c.use("/lta/bus",s.busRouter),c.use("/gifts",a.default),c.post("/msg",function(e,t){i.default(e.body,t)}),c.all("/*",function(e,t){return t.status(400).send("Invalid Request")}),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(17),u=n(4),o=r.Router();t.busRouter=o,o.get("/busArrival/:busStopCode",function(e,t){s.default(e.params.busStopCode,t)}),o.get("/busStop/:busStopCode",function(e,t){u.getBusStopInfo(e.params.busStopCode,t)}),o.get("/nearbyBusStops",function(e,t){u.getNearbyBusStops(e.query.latitude,e.query.longitude,t)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=n(3),u=n(4);t.default=function(e,t){if(!(e=e.trim()))return t.status(400).send("Invalid BusStopCode.");var n=u.checkBusStopLocally(e);if(!n)return t.status(400).send("Bus Stop not found.");var o=s.busArrivalUrl+"?BusStopCode="+e;r.default.get(o,s.headerConfig).then(function(e){t.status(200).send({busStopInfo:n,busArrival:e.data})}).catch(function(e){t.status(400).send(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(19),u=r.Router();u.post("",function(e,t){"DELETE"===e.body.type?s.Delete(e.body,t):"GET"===e.body.type?s.Get(e.body,t):"POST"===e.body.type?s.Post(e.body,t):"PUT"===e.body.type&&s.Put(e.body,t)}),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.Delete=function(e,t){var n=e.url;if(e.querys&&e.querys.length>0){n+="?";for(var s=0;s<e.querys.length;++s)n+=e.query[s],n+="=",n+=e.queryValue[s]}r.default.delete(n).then(function(e){t.status(200).send(e)}).catch(function(e){t.status(400).send(e)})},t.Post=function(e,t){return t.status(200).send(e)},t.Put=function(e,t){r.default.put(e.body.url).then(function(e){t.send(e.data)})},t.Get=function(e,t){r.default.post(e.body.url).then(function(e){t.send(e.data)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(21),u=n(23),o=n(25),a=r.Router();t.dictionaryRouter=a;var i=r.Router();t.lunchfunRouter=i,a.get("/oxford/:word",function(e,t){s.default(e.params.word,t)}),i.get("/pals",function(e,t){u.GetPals(t)}),i.post("/pal",function(e,t){u.AddPal(e.body.name,t)}),i.delete("/pal",function(e,t){u.DeletePal(e.query,t)}),i.get("/records",function(e,t){o.GetRecords(t)}),i.post("/record",function(e,t){o.AddRecord(e.body.payer,e.body.attendees,t)}),i.delete("/record",function(e,t){o.DeleteRecord(e.query._id,t)}),i.get("/stats/attendance",function(e,t){u.GetPalsAttendance(t)})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=new(n(22))("0314e9e2","5a6c2589474a2f83ccd69f397bfec7a2");t.default=function(e,t){return r(this,void 0,void 0,function(){return s(this,function(n){return e&&e.trim()?(u.find(e.trim(),function(e,n){return e?t.status(400).send(e):t.status(200).send(n)}),[2]):[2,t.status(400).send("Invalid word.")]})})}},function(e,t){e.exports=require("oxford-dictionary-api")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=[];function a(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,u.DbCollection("lunchfun-pals")];case 1:return[4,e.sent().find().sort({name:1}).toArray()];case 2:return o=e.sent(),[3,4];case 3:throw e.sent();case 4:return[2]}})})}t.GetPals=function(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:if(o.length>0)return[2,e.status(200).send(o)];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,a()];case 2:return n.sent(),[2,e.status(200).send(o)];case 3:return t=n.sent(),[2,e.status(500).send(t)];case 4:return[2]}})})},t.AddPal=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,u.DbCollection("lunchfun-pals")];case 2:return r.sent().insertOne({name:e}),a(),[2,t.status(200).send({result:"ok"})];case 3:return n=r.sent(),[2,t.status(500).send(n)];case 4:return[2]}})})},t.DeletePal=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e)return[2,t.status(400).send("Invalid name to delete.")];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,u.DbCollection("lunchfun-pals")];case 2:return r.sent().deleteOne({name:e}),a(),[2,t.status(200).send({result:"ok"})];case 3:return n=r.sent(),[2,t.status(500).send(n)];case 4:return[2]}})})},t.GetPalsAttendance=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,u.DbCollection("lunchfun-records")];case 1:return[4,r.sent().aggregate([{$unwind:"$attendees"},{$group:{_id:"$attendees",attendance:{$sum:1}}},{$project:{name:"$_id",attendance:"$attendance"}}]).toArray()];case 2:return t=r.sent(),[2,e.status(200).send(t)];case 3:return n=r.sent(),[2,e.status(500).send(n)];case 4:return[2]}})})}},function(e,t){e.exports=require("mongodb")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1);t.GetRecords=function(e,t){return r(this,void 0,void 0,function(){var n,r;return s(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,u.DbCollection("lunchfun-records")];case 1:return[4,s.sent().find({}).sort({createdOn:-1}).limit(30|t).toArray()];case 2:return n=s.sent(),[2,e.status(200).send(n)];case 3:return r=s.sent(),[2,e.status(500).send(r)];case 4:return[2]}})})},t.AddRecord=function(e,t,n){return r(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:if(!e||!t||t.length<=0)return[2,n.status(400).send("Invalid params to add.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.DbCollection("lunchfun-records")];case 2:return[4,r.sent().insertOne({payer:e,attendees:t,createdOn:new Date})];case 3:return r.sent(),[2,n.status(200).send({result:"ok"})];case 4:return r.sent(),[2,n.status(500).send("Error at server. Please try again later.")];case 5:return[2]}})})},t.DeleteRecord=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e)return[2,t.status(400).send("Invalid record to delete.")];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,u.DbCollection("lunchfun-records")];case 2:return r.sent().deleteOne({_id:new u.ObjectID(e)}),[2,t.status(200).send({result:"ok"})];case 3:return n=r.sent(),[2,t.status(500).send(n)];case 4:return[2]}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(27),u=n(30),o=n(31),a=n(35),i=r.Router();i.use("/products",s.default),i.use("/orders",u.default),i.use("/users",o.default),i.use("/staffs",a.default),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(28),u=n(29),o=n(5),a=r.Router();a.get("/view/:product_no",function(e,t){u.GetProduct(e.params,t)}),a.get("/categories",function(e,t){s.GetCategories(t)}),a.post("/category",function(e,t){s.AddCategory(e.body,t)}),a.delete("/category",function(e,t){s.DeleteCategory(e.query,t)}),a.get("/samples",function(e,t){s.GetSamplesOfCategories(t)}),a.get("",function(e,t){u.GetProductsByCategory(e,t)}),a.get("/product",function(e,t){u.GetProduct(e.query,t)}),a.post("/product",function(e,t){u.AddProduct(e.body,t)}),a.put("/product",function(e,t){u.UpdateProduct(e.body,t)}),a.delete("/product",function(e,t){u.DeleteProduct(e.query,t)}),a.get("/inventory",function(e,t){o.GetInventory(t)}),a.put("/inventory",function(e,t){o.AdjustInventory(e.body._id,e.body.qty,t)}),t.default=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=[],a=[];function i(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:if(!(o.length<=0))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,c()];case 2:return o=n.sent(),[3,4];case 3:throw n.sent();case 4:return 0===e?[2,o]:(t=[],o.forEach(function(n){console.log(n.category.match(new RegExp("/","g"))),n.category.match(new RegExp("/","g")).length<=e&&t.push(n)}),[2,t])}})})}function c(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,u.DbCollection("gifts-products-catalog")];case 1:return[4,e.sent().find().sort("category",1).toArray()];case 2:return[2,o=e.sent()];case 3:throw e.sent(),{errMsg:"Get categories from database failed."};case 4:return[2]}})})}function l(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,u.DbCollection("gifts-products")];case 1:return e=n.sent(),null,[4,e.aggregate([{$sort:{_id:-1}},{$group:{_id:{category:"$category"},products:{$push:{_id:"$_id",category:"$category",img:"$img"}}}},{$project:{_id:"$_id",products:{$slice:["$products",4]}}}]).toArray()];case 2:return[2,n.sent()];case 3:return t=n.sent(),console.log(t),[2,{errMsg:"Get products failed."}];case 4:return[2]}})})}t.GetCategories=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i(0)];case 1:return t=r.sent(),[2,e.status(200).send(t)];case 2:return n=r.sent(),[2,e.status(500).send(n)];case 3:return[2]}})})},t.GetSamplesOfCategories=function(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:if(a.length>0)return[2,e.status(200).send(a)];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,l()];case 2:return a=n.sent(),[2,e.status(200).send(a)];case 3:return t=n.sent(),[2,e.status(500).send(t)];case 4:return[2]}})})},t.AddCategory=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e.name||!e.category)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.DbCollection("gifts-products-catalog")];case 2:return[4,r.sent().insertOne({name:e.name,category:e.category})];case 3:return r.sent(),o=[],a=[],[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})},t.DeleteCategory=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e._id)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.DbCollection("gifts-products-catalog")];case 2:return[4,r.sent().deleteOne({_id:new u.ObjectID(e._id)})];case 3:return r.sent(),o=[],a=[],[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1);t.GetProduct=function(e,t){return r(this,void 0,void 0,function(){var n,r;return s(this,function(s){switch(s.label){case 0:if(!e._id)return[2,t.status(400).send("Invalid product no.")];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,u.MongoDb()];case 2:return[4,s.sent().collection("gifts-products").findOne({_id:new u.ObjectID(e._id)})];case 3:return n=s.sent(),[2,t.status(200).send(n)];case 4:return r=s.sent(),[2,t.status(500).send(r)];case 5:return[2]}})})},t.GetProductsByCategory=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,a;return s(this,function(s){switch(s.label){case 0:return s.trys.push([0,6,,7]),[4,u.DbCollection("gifts-products")];case 1:return n=s.sent(),r=null,e.query.category?(o=new RegExp(["^",e.query.category.trim()].join(""),"i"),[4,n.find({category:o}).toArray()]):[3,3];case 2:return r=s.sent(),[3,5];case 3:return[4,n.find().toArray()];case 4:r=s.sent(),s.label=5;case 5:return[2,t.status(200).send(r)];case 6:return a=s.sent(),[2,t.status(500).send(a)];case 7:return[2]}})})},t.AddProduct=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e.name)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.MongoDb()];case 2:return[4,r.sent().collection("gifts-products").insertOne({name:e.name,img:e.img,price:e.price,category:e.category,color:e.color,packaging:e.packaging,material:e.material,size:e.size,note:e.note,retailer:e.retailer,createdOn:new Date})];case 3:return r.sent(),[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})},t.UpdateProduct=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e._id)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.DbCollection("gifts-products")];case 2:return[4,r.sent().updateOne({_id:new u.ObjectID(e._id)},{$set:{modifiedOn:new Date,name:e.name,img:e.img,price:e.price,category:e.category,color:e.color,packaging:e.packaging,material:e.material,size:e.size,note:e.note,retailer:e.retailer}})];case 3:return r.sent(),[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})},t.DeleteProduct=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e._id)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.MongoDb()];case 2:return[4,r.sent().collection("gifts-products").deleteOne({_id:new u.ObjectID(e._id)})];case 3:return r.sent(),[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).Router();r.get("/allOrders",function(e,t){return e.session&&e.session.staff?t.status(200).send({result:"ok"}):t.sendStatus(401)}),r.put("/updateStatus",function(e,t){if(!e.session||!e.session.staff.id)return t.sendStatus(401);if(!e.body.new_status||!e.body.sno||!e.body.order_no)return t.status(400).send("Failed. Pleaes review inputs.");e.body.order_no,e.body.sno,Date.now(),e.session.staff.id,e.body.new_status,e.body.note;return t.status(200).send({result:"ok"})}),r.put("/updateContact",function(e,t){if(!e.session||!e.session.staff.id)return t.sendStatus(401);if(!e.body.order_no)return t.status(400).send("Order_no empty.");if(!(e.body.email&&e.body.email.includes("@")&&e.body.email.includes("."))||e.body.email.includes("/")||e.body.email.includes("\\"))return t.status(400).send("Invalid email.");if(!e.body.name)return t.status(400).send("Invalid name.");e.body.name,e.body.email,e.body.mobile,e.body.company,e.body.mobile2,e.body.addr,e.body.order_no;return t.status(200).send({result:"ok"})}),r.put("/updateOrderItem",function(e,t){if(!e.session||!e.session.staff.id)return t.sendStatus(401);if(!e.body.order_no)return t.status(400).send("Failed. Invalid Order No.");if(!e.body.sno||""===e.body.sno)return t.status(400).send("Failed. Invalid Order Sno.");e.body.new_sale_price,e.body.new_qty,e.body.new_status,e.body.order_no,e.body.sno;return t.status(200).send({result:"ok"})}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(6),u=n(33),o=r.Router();o.post("/login",function(e,t){s.Login(e,t)}),o.get("/info",function(e,t){s.UserInfo(e.session,t)}),o.get("/logout",function(e,t){s.Logout(e,t)}),o.post("/register",function(e,t){s.Register(e,t)}),o.delete("/deleteuser",function(e,t){s.DeleteUser(e.session,t)}),o.get("/cart",function(e,t){u.GetCart(e.session,t)}),o.post("/cart",function(e,t){u.AddToCart(e.session,e.body,t)}),o.delete("/cart",function(e,t){u.DeleteCart(e.session,t)}),o.put("/cart",function(e,t){u.UpdateCartQty(e,t)}),o.delete("/cart/product",function(e,t){u.DeleteInCart(e.session,e.query._id,t)}),o.post("/cart/checkout",function(e,t){u.CartCheckout(e,t)}),t.default=o},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=n(7),a=n(6),i=n(5),c=n(34);t.GetCart=function(e,t){return r(this,void 0,void 0,function(){var n,r;return s(this,function(s){switch(s.label){case 0:if(!a.bLogin(e))return[2,t.status(403).send("User not login")];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,u.DbCollection("gifts-carts")];case 2:return[4,s.sent().findOne({_id:new u.ObjectID(e.user._id)})];case 3:return n=s.sent(),console.log(n),[2,t.status(200).send(n)];case 4:return r=s.sent(),[2,t.status(500).send(r)];case 5:return[2]}})})},t.AddToCart=function(e,t,n){return r(this,void 0,void 0,function(){var r,o;return s(this,function(s){switch(s.label){case 0:if(!a.bLogin(e))return[2,n.status(403).send("User not login")];s.label=1;case 1:return s.trys.push([1,5,,6]),[4,u.DbCollection("gifts-carts")];case 2:return[4,(r=s.sent()).updateOne({_id:new u.ObjectID(e.user._id)},{$pull:{products:{productId:new u.ObjectID(t.product._id)}}})];case 3:return s.sent(),[4,r.updateOne({_id:new u.ObjectID(e.user._id)},{$push:{products:{productId:new u.ObjectID(t.product._id),quantity:t.qty,name:t.product.name,price:t.product.price}}},{upsert:!0})];case 4:return s.sent(),[2,n.status(200).send({result:"ok"})];case 5:return o=s.sent(),[2,n.status(500).send(o)];case 6:return[2]}})})},t.UpdateCartQty=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(a.bLogin(e.session)||t.status(403).send("User not login."),!e.body.productId||!e.body.qty)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.MongoDb()];case 2:return[4,r.sent().collection("gifts-carts").updateOne({_id:e.session.user._id,"products.productId":e.body.productId},{$set:{"products.$.qty":e.body.qty,modifiedOn:new Date}})];case 3:return r.sent(),[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})},t.DeleteCart=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!a.bLogin(e))return[2,t.status(400).send("User not login.")];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,u.DbCollection("gifts-carts")];case 2:return r.sent().deleteOne({_id:new u.ObjectID(e.user._id)}),[2,t.status(200).send({result:"ok"})];case 3:return n=r.sent(),[2,t.status(500).send(n)];case 4:return[2]}})})},t.DeleteInCart=function(e,t,n){return r(this,void 0,void 0,function(){var r;return s(this,function(s){switch(s.label){case 0:if(!a.bLogin(e))return[2,n.status(400).send("User not login.")];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,u.DbCollection("gifts-carts")];case 2:return[4,s.sent().updateOne({_id:new u.ObjectID(e.user._id)},{$pull:{products:{productId:new u.ObjectID(t)}}})];case 3:return s.sent(),[2,n.status(200).send({result:"ok"})];case 4:return r=s.sent(),[2,n.status(500).send(r)];case 5:return[2]}})})},t.CartCheckout=function(e,t){return r(this,void 0,void 0,function(){var n,r,l,d,f,p;return s(this,function(s){switch(s.label){case 0:if(!(e.body.cart&&e.body.cart.customer&&e.body.cart.customer.name&&e.body.cart.customer.mobile&&e.body.cart.customer.address))return[2,t.status(400).send("Invalid customer information.")];if(e.body.cart.total<=0)return[2,t.status(400).send("No product to checkout.")];n=a.bLogin(e.session),r="",r=n?e.session.user._id:o.randomString(20),l=e.body.cart.cartItems,d=e.body.cart.customer,s.label=1;case 1:return s.trys.push([1,10,,11]),[4,i.ReserveInventory(r,l)];case 2:return s.sent(),[4,c.NewOrder(d,l)];case 3:return s.sent().result.n<=0?[4,i.DeleteInventoryReservation(r)]:[3,5];case 4:throw s.sent(),"Create new order failed.";case 5:return[4,i.DeleteInventoryReservation(r)];case 6:return f=s.sent(),console.log(f),n?[4,u.DbCollection("gifts-carts")]:[3,9];case 7:return[4,s.sent().deleteOne({_id:new u.ObjectID(r)})];case 8:s.sent(),s.label=9;case 9:return[2,t.status(200).send({orderId:r})];case 10:return p=s.sent(),console.error(p),[2,t.status(500).send(p)];case 11:return[2]}})})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1);t.NewOrder=function(e,t){return r(this,void 0,void 0,function(){var n,r;return s(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,u.DbCollection("gifts-orders")];case 1:return n=s.sent(),r=n.insertOne({created_on:new Date,shipping:{name:e.name,mobile:e.mobile,address:e.address,message:e.message},payment:{method:"visa",transaction_id:"2312213312XXXTD"},cartItems:t}),console.log("insertRslt: ",r),[2,r];case 2:throw s.sent(),"create new order failed.";case 3:return[2]}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).Router();r.post("/login",function(e,t){}),r.get("/logout",function(e,t){}),r.post("/register",function(e,t){}),r.delete("/deleteuser",function(e,t){}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(37).createTransport({service:"outlook",auth:{user:"yuanchao@outlook.sg",pass:"pingmeHC83"}}),s={from:"yuanchao@outlook.sg",to:"seesea2@gmail.com",subject:null,html:null};t.default=function(e,t){var n='<!DOCTYPE html><head><meta http-equiv="content-type" content="text/html;charset=UTF-8"></head><body><br><b>Message from User '+e.name+" :</b><br><br><p><b>Email: </b> "+e.email+"</p><p><b>Mobile: </b> "+e.mobile+"</p><p><b>Message: </b> "+e.message+"</p></body></html>";return s.subject="User Inquiry",s.html=n,r.sendMail(s),t.status(200).send({result:"ok"})}},function(e,t){e.exports=require("nodemailer")}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZXhwcmVzc1wiIiwid2VicGFjazovLy8uL3NlcnZlci9tb25nb2RiLW9wcy50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJheGlvc1wiIiwid2VicGFjazovLy8uL3NlcnZlci9sdGEvbHRhLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9sdGEvYnVzLXN0b3BzLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9naWZ0cy1wcm9kdWN0cy9naWZ0cy1wcm9kdWN0cy1pbnZlbnRvcnkub3BzLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9naWZ0cy11c2Vycy9naWZ0cy11c2Vycy5vcHMudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL3N0cmluZy1vcHMudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL3NlcnZlci50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzLXNlc3Npb25cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJodHRwc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcImZzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicGF0aFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImNvcnNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJib2R5LXBhcnNlclwiIiwid2VicGFjazovLy8uL3NlcnZlci9hcGktcm91dGVyLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9sdGEvcm91dGVyLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9sdGEvYnVzLWFycml2YWwudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2h0dHAtcmVxdWVzdC9yb3V0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2h0dHAtcmVxdWVzdC9odHRwLXJlcXVlc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2x1bmNoZnVuLWFuZC1kaWN0aW9uYXJ5L3JvdXRlci50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvbHVuY2hmdW4tYW5kLWRpY3Rpb25hcnkvZGljdGlvbmFyeS50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJveGZvcmQtZGljdGlvbmFyeS1hcGlcIiIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvbHVuY2hmdW4tYW5kLWRpY3Rpb25hcnkvbHVuY2hmdW4tcGFscy50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb2RiXCIiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2x1bmNoZnVuLWFuZC1kaWN0aW9uYXJ5L2x1bmNoZnVuLXJlY29yZHMudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2FwaS1naWZ0cy1yb3V0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2dpZnRzLXByb2R1Y3RzL2dpZnRzLXByb2R1Y3RzLXJvdXRlci50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvZ2lmdHMtcHJvZHVjdHMvZ2lmdHMtcHJvZHVjdHMtY2F0ZWdvcmllcy5vcHMudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2dpZnRzLXByb2R1Y3RzL2dpZnRzLXByb2R1Y3RzLm9wcy50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvZ2lmdHMtb3JkZXJzL2dpZnRzLW9yZGVycy1yb3V0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2dpZnRzLXVzZXJzL2dpZnRzLXVzZXJzLXJvdXRlci50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjcnlwdG9cIiIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvZ2lmdHMtdXNlcnMvZ2lmdHMtY2FydHMub3BzLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9naWZ0cy1vcmRlcnMvZ2lmdHMtb3JkZXJzLm9wcy50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvZ2lmdHMtc3RhZmZzL2dpZnRzLXN0YWZmcy1yb3V0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2VtYWlsL2VtYWlsLm9wcy50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJub2RlbWFpbGVyXCIiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJyZXF1aXJlIiwibW9uZ29kYl8xIiwiT2JqZWN0SUQiLCJkYXRhYmFzZSIsIk1PTkdPX1VSTCIsIkluaXREYiIsIk1vbmdvQ2xpZW50IiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsImNsaWVudCIsIl9hIiwic2VudCIsImRiIiwiTW9uZ29EYiIsIkRiQ29sbGVjdGlvbiIsImNvbGxlY3Rpb24iLCJidXNBcnJpdmFsVXJsIiwiYnVzU3RvcHNVcmwiLCJoZWFkZXJDb25maWciLCJoZWFkZXJzIiwiQWNjb3VudEtleSIsImF4aW9zXzEiLCJsdGFfMSIsImJ1c1N0b3BzIiwiZ2V0QnVzU3RvcHNGcm9tTHRhIiwic2tpcCIsInVybCIsImRlZmF1bHQiLCJyZXNwb25zZSIsInN0YXR1cyIsImRhdGEiLCJjaGVja0J1c1N0b3BMb2NhbGx5IiwiYnVzU3RvcENvZGUiLCJsZW5ndGgiLCJCdXNTdG9wQ29kZSIsImdldEFsbEJ1c1N0b3BzIiwibmV3QnVzU3RvcHMiLCJ0ZW1wIiwiY29uY2F0IiwiZ2V0QnVzU3RvcEluZm8iLCJyZXMiLCJzZW5kIiwiYnVzU3RvcEluZm8iLCJnZXROZWFyYnlCdXNTdG9wcyIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwidW5kZWZpbmVkIiwibmVhcmJ5U3RvcHMiLCJkTGF0IiwiTGF0aXR1ZGUiLCJNYXRoIiwiUEkiLCJkTG9uZyIsIkxvbmdpdHVkZSIsImEiLCJzaW4iLCJjb3MiLCJkaXN0IiwiYXRhbjIiLCJzcXJ0IiwiYWJzIiwicHVzaCIsIm1vbmdvZGJfb3BzXzEiLCJHZXRJbnZlbnRvcnkiLCJmaW5kIiwidG9BcnJheSIsImludmVudG9yeSIsImVfMSIsIkFkanVzdEludmVudG9yeSIsIl9pZCIsInF0eSIsInVwZGF0ZU9uZSIsIiRzZXQiLCJtb2RpZmllZE9uIiwiRGF0ZSIsInVwc2VydCIsInJzbHQiLCJlXzIiLCJSZXNlcnZlSW52ZW50b3J5IiwiaWQiLCJjYXJ0SXRlbXMiLCJzdWNjZXNzIiwiZmFpbGVkIiwiZGJJbnZlbnRvcnkiLCJwcm9kdWN0IiwiJGd0ZSIsIiRpbmMiLCIkcHVzaCIsInJlc2VydmF0aW9ucyIsImNyZWF0ZWRPbiIsInJlc3VsdCIsIm5Nb2RpZmllZCIsInJlc2VydmF0aW9ucy5faWQiLCIkcHVsbCIsIkRlbGV0ZUludmVudG9yeVJlc2VydmF0aW9uIiwidXBkYXRlUnNsdCIsImNvbnNvbGUiLCJsb2ciLCJlXzQiLCJfdGhpcyIsInRoaXMiLCJzdHJpbmdfb3BzXzEiLCJiTG9naW4iLCJzZXNzaW9uIiwidXNlciIsIl9fYXdhaXRlciIsImNyZWF0ZUluZGV4IiwidW5pcXVlIiwiTG9naW4iLCJyZXEiLCJ1aWQiLCJkYlVzZXJzIiwiX2IiLCJmaW5kT25lIiwiYm9keSIsInB3ZCIsImVuY3J5cHQiLCJMb2dvdXQiLCJSZWdpc3RlciIsImVtYWlsIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJpbnNlcnRPbmUiLCJpbnNlcnRlZENvdW50Iiwib3BzIiwiRGVsZXRlVXNlciIsImRlbGV0ZU9uZSIsImVfMyIsIlVzZXJJbmZvIiwiUmFuZG9tVHlwZXMiLCJjcnlwdG8iLCJhbGdvcml0aG0iLCJzY3J5cHRTeW5jIiwiaXYiLCJCdWZmZXIiLCJhbGxvYyIsInJhbmRvbSIsInR5cGUiLCJyU3RyaW5nIiwiU3RyaW5nIiwiTnVtYmVyIiwiQ2FwaXRhbCIsImZsb29yIiwidGV4dCIsImNpcGhlciIsImNyZWF0ZUNpcGhlcml2IiwiY3J5cHRlZCIsInVwZGF0ZSIsImZpbmFsIiwiZSIsImRlY3J5cHQiLCJkZWNpcGhlciIsImNyZWF0ZURlY2lwaGVyaXYiLCJkZWMiLCJyYW5kb21OdW1iZXIiLCJyYW5kb21DYXBpdGFscyIsInJhbmRvbVN0cmluZyIsImV4cHJlc3MiLCJodHRwcyIsImZzIiwicGF0aF8xIiwiY29ycyIsImJvZHlQYXJzZXIiLCJhcGlfcm91dGVyXzEiLCJhcHAiLCJ1c2UiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwic2VjcmV0IiwicmVzYXZlIiwic2F2ZVVuaW5pdGlhbGl6ZWQiLCJjb29raWUiLCJtYXhBZ2UiLCJzZW5kRmlsZSIsImpvaW4iLCJfX2Rpcm5hbWUiLCJzdGF0aWMiLCJkb3RmaWxlcyIsImFsbCIsIm5leHQiLCJodHRwc09wdGlvbnMiLCJjZXJ0IiwicmVhZEZpbGVTeW5jIiwiY2EiLCJjcmVhdGVTZXJ2ZXIiLCJsaXN0ZW4iLCJleHByZXNzXzEiLCJyb3V0ZXJfMSIsInJvdXRlcl8yIiwicm91dGVyXzMiLCJhcGlfZ2lmdHNfcm91dGVyXzEiLCJlbWFpbF9vcHNfMSIsImFwaVJvdXRlciIsIlJvdXRlciIsImRpY3Rpb25hcnlSb3V0ZXIiLCJsdW5jaGZ1blJvdXRlciIsImJ1c1JvdXRlciIsInBvc3QiLCJidXNfYXJyaXZhbF8xIiwiYnVzX3N0b3BzXzEiLCJwYXJhbXMiLCJxdWVyeSIsInRyaW0iLCJ0aGVuIiwicmVzcG9zZSIsImJ1c0Fycml2YWwiLCJjYXRjaCIsImh0dHBfcmVxdWVzdF8xIiwiaHR0cFJvdXRlciIsIkRlbGV0ZSIsIkdldCIsIlBvc3QiLCJQdXQiLCJxdWVyeXMiLCJxdWVyeVZhbHVlIiwiZGVsZXRlIiwicHV0IiwiZGljdGlvbmFyeV8xIiwibHVuY2hmdW5fcGFsc18xIiwibHVuY2hmdW5fcmVjb3Jkc18xIiwid29yZCIsIkdldFBhbHMiLCJBZGRQYWwiLCJEZWxldGVQYWwiLCJHZXRSZWNvcmRzIiwiQWRkUmVjb3JkIiwicGF5ZXIiLCJhdHRlbmRlZXMiLCJEZWxldGVSZWNvcmQiLCJHZXRQYWxzQXR0ZW5kYW5jZSIsIkRJQ1QiLCJlcnIiLCJsdW5jaFBhbHMiLCJyZWZyZXNoUGFscyIsInNvcnQiLCJhZ2dyZWdhdGUiLCIkdW53aW5kIiwiJGdyb3VwIiwiYXR0ZW5kYW5jZSIsIiRzdW0iLCIkcHJvamVjdCIsImF0dGVuZGFuY2VzIiwiZV81IiwibGltaXQiLCJyZWNvcmRzIiwiZ2lmdHNfcHJvZHVjdHNfcm91dGVyXzEiLCJnaWZ0c19vcmRlcnNfcm91dGVyXzEiLCJnaWZ0c191c2Vyc19yb3V0ZXJfMSIsImdpZnRzX3N0YWZmc19yb3V0ZXJfMSIsImdpZnRzUm91dGVyIiwiZ2lmdHNfcHJvZHVjdHNfY2F0ZWdvcmllc19vcHNfMSIsImdpZnRzX3Byb2R1Y3RzX29wc18xIiwiZ2lmdHNfcHJvZHVjdHNfaW52ZW50b3J5X29wc18xIiwiZ2lmdHNQcm9kdWN0c1JvdXRlciIsIkdldFByb2R1Y3QiLCJHZXRDYXRlZ29yaWVzIiwiQWRkQ2F0ZWdvcnkiLCJEZWxldGVDYXRlZ29yeSIsIkdldFNhbXBsZXNPZkNhdGVnb3JpZXMiLCJHZXRQcm9kdWN0c0J5Q2F0ZWdvcnkiLCJBZGRQcm9kdWN0IiwiVXBkYXRlUHJvZHVjdCIsIkRlbGV0ZVByb2R1Y3QiLCJnbG9iYWxDYXRlZ29yaWVzIiwiZ2xvYmFsU2FtcGxlc09mQ2F0ZWdvcmllcyIsIkdldENhdGVnb3JpZXNCeUxldmVsIiwibGV2ZWwiLCJHZXRDYXRlZ29yaWVzRnJvbURiIiwicmV0dXJuQ2F0ZWdvcmllcyIsImZvckVhY2giLCJjYXQiLCJjYXRlZ29yeSIsIm1hdGNoIiwiUmVnRXhwIiwiZXJyTXNnIiwiR2V0U2FtcGxlcyIsImRiQ29sbGVjdGlvbiIsIiRzb3J0IiwicHJvZHVjdHMiLCJpbWciLCIkc2xpY2UiLCJlXzciLCJjYXRlZ29yaWVzIiwiZG9jcyIsInJlZ2V4IiwicHJpY2UiLCJjb2xvciIsInBhY2thZ2luZyIsIm1hdGVyaWFsIiwic2l6ZSIsIm5vdGUiLCJyZXRhaWxlciIsImdpZnRzT3JkZXJzUm91dGVyIiwic3RhZmYiLCJzZW5kU3RhdHVzIiwibmV3X3N0YXR1cyIsInNubyIsIm9yZGVyX25vIiwibm93IiwiaW5jbHVkZXMiLCJtb2JpbGUiLCJjb21wYW55IiwibW9iaWxlMiIsImFkZHIiLCJuZXdfc2FsZV9wcmljZSIsIm5ld19xdHkiLCJnaWZ0c191c2Vyc19vcHNfMSIsImdpZnRzX2NhcnRzX29wc18xIiwiZ2lmdHNVc2Vyc1JvdXRlciIsIkdldENhcnQiLCJBZGRUb0NhcnQiLCJEZWxldGVDYXJ0IiwiVXBkYXRlQ2FydFF0eSIsIkRlbGV0ZUluQ2FydCIsIkNhcnRDaGVja291dCIsImdpZnRzX29yZGVyc19vcHNfMSIsImNhcnQiLCJwcm9kdWN0SWQiLCJxdWFudGl0eSIsInByb2R1Y3RzLnByb2R1Y3RJZCIsInByb2R1Y3RzLiQucXR5IiwiY3VzdG9tZXIiLCJhZGRyZXNzIiwidG90YWwiLCJiTWVtYmVyIiwiTmV3T3JkZXIiLCJvcmRlcklkIiwiZXJyb3IiLCJlXzYiLCJkYk9yZGVycyIsImluc2VydFJzbHQiLCJjcmVhdGVkX29uIiwic2hpcHBpbmciLCJtZXNzYWdlIiwicGF5bWVudCIsIm1ldGhvZCIsInRyYW5zYWN0aW9uX2lkIiwiZ2lmdHNTdGFmZnNSb3V0ZXIiLCJvdXRsb29rX3RyYW5zcG9ydGVyIiwiY3JlYXRlVHJhbnNwb3J0Iiwic2VydmljZSIsImF1dGgiLCJwYXNzIiwib3V0bG9va19tYWlsT3B0aW9ucyIsImZyb20iLCJ0byIsInN1YmplY3QiLCJodG1sIiwiZW1haWxIdG1sIiwic2VuZE1haWwiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFB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LG1CQUMzQ2pRLFVBQVdBLElBRWJnQixRQUFRQyxJQUFJLGVBQWdCME8sR0FDNUIsR0FBT0EsVUFFUCxlQUFNLGlJQ3RCVixJQUlNTyxFQUpOdFgsRUFBQSxHQUkwQnNPLFNBRTFCZ0osRUFBa0I1SSxLQUFLLFNBQVUsU0FBQ3pGLEVBQWNyRSxNQUdoRDBTLEVBQWtCclcsSUFBSSxVQUFXLFNBQUNnSSxFQUFjckUsTUFHaEQwUyxFQUFrQjVJLEtBQUssWUFBYSxTQUFDekYsRUFBY3JFLE1BR25EMFMsRUFBa0IxSCxPQUFPLGNBQWUsU0FBQzNHLEVBQWNyRSxNQUl2RDFFLEVBQUE2RCxRQUFldVQsaUZDbkJmLElBSU1DLEVBSk52WCxFQUFBLElBSTRCd1gsZ0JBQWdCLENBQzFDQyxRQUFTLFVBQ1RDLEtBQU0sQ0FDSjlPLEtBQU0sc0JBQ04rTyxLQUFNLGdCQUlKQyxFQUFzQixDQUMxQkMsS0FBTSxzQkFDTkMsR0FBSSxvQkFDSkMsUUFBUyxLQUNUQyxLQUFNLE1BdUJSOVgsRUFBQTZELFFBcEJBLFNBQW1CdUYsRUFBVzFFLEdBQzVCLElBQU1xVCxFQUNKLGdJQUVrQzNPLEVBQUszSSxLQUN2QyxtQ0FDcUIySSxFQUFLSyxNQUMxQiwwQkFDc0JMLEVBQUsyTCxPQUMzQiwyQkFDdUIzTCxFQUFLNE4sUUFDNUIscUJBTUYsT0FIQVUsRUFBb0JHLFFBQVUsZUFDOUJILEVBQW9CSSxLQUFPQyxFQUMzQlYsRUFBb0JXLFNBQVNOLEdBQ3RCaFQsRUFBSVgsT0FBTyxLQUFLWSxLQUFLLENBQUVpRCxPQUFRLHVCQ3BDeEMzSCxFQUFBRCxRQUFBa0MsUUFBQSIsImZpbGUiOiJzZXJ2ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gOCk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJleHByZXNzXCIpOyIsImltcG9ydCB7IE1vbmdvQ2xpZW50LCBEYiwgT2JqZWN0SUQgfSBmcm9tICdtb25nb2RiJztcclxuXHJcbmNvbnN0IE1PTkdPX1VSTCA9XHJcbiAgJ21vbmdvZGIrc3J2Oi8vYWRtaW46YWRtaW5AY2x1c3RlcjAtZHh3a2cubW9uZ29kYi5uZXQvaW5zZz9yZXRyeVdyaXRlcz10cnVlJztcclxuXHJcbmxldCBkYXRhYmFzZTogRGI7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBJbml0RGIoKTogUHJvbWlzZTxEYj4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjbGllbnQgPSBhd2FpdCBNb25nb0NsaWVudC5jb25uZWN0KE1PTkdPX1VSTCwge1xyXG4gICAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIChkYXRhYmFzZSA9IGNsaWVudC5kYignaW5zZycpKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICB0aHJvdyAnRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQuJztcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIE1vbmdvRGIoKTogUHJvbWlzZTxEYj4ge1xyXG4gIGlmIChkYXRhYmFzZSkge1xyXG4gICAgcmV0dXJuIGRhdGFiYXNlO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IEluaXREYigpO1xyXG4gICAgcmV0dXJuIGRhdGFiYXNlO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgdGhyb3cgZTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIERiQ29sbGVjdGlvbihuYW1lOiBzdHJpbmcpIHtcclxuICBpZiAoZGF0YWJhc2UpIHtcclxuICAgIHJldHVybiBkYXRhYmFzZS5jb2xsZWN0aW9uKG5hbWUpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IEluaXREYigpO1xyXG4gICAgcmV0dXJuIGRhdGFiYXNlLmNvbGxlY3Rpb24obmFtZSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgdGhyb3cgZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IERiQ29sbGVjdGlvbiwgTW9uZ29EYiwgT2JqZWN0SUQgfTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYXhpb3NcIik7IiwiY29uc3QgbHRhQWNjb3VudEtleSA9ICc2c1Z6Zjl6WFJhQ2drSlVkanhJdzJBPT0nO1xyXG5cclxuY29uc3QgYnVzQXJyaXZhbFVybCA9XHJcbiAgJ2h0dHA6Ly9kYXRhbWFsbDIubXl0cmFuc3BvcnQuc2cvbHRhb2RhdGFzZXJ2aWNlL0J1c0Fycml2YWx2Mic7XHJcbmNvbnN0IGJ1c1N0b3BzVXJsID0gJ2h0dHA6Ly9kYXRhbWFsbDIubXl0cmFuc3BvcnQuc2cvbHRhb2RhdGFzZXJ2aWNlL0J1c1N0b3BzJztcclxuXHJcbmNvbnN0IGhlYWRlckNvbmZpZyA9IHtcclxuICBoZWFkZXJzOiB7XHJcbiAgICBBY2NvdW50S2V5OiBsdGFBY2NvdW50S2V5XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IHsgYnVzQXJyaXZhbFVybCwgYnVzU3RvcHNVcmwsIGhlYWRlckNvbmZpZyB9O1xyXG4iLCJpbXBvcnQgQXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5cclxuaW1wb3J0IHsgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBidXNTdG9wc1VybCwgaGVhZGVyQ29uZmlnIH0gZnJvbSAnLi9sdGEnO1xyXG5pbXBvcnQgeyBCdXNTdG9wSW5mbyB9IGZyb20gJy4vYnVzLXN0b3BzLWludGVyZmFjZSc7XHJcblxyXG5sZXQgYnVzU3RvcHM6IEJ1c1N0b3BJbmZvW10gPSBbXTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEJ1c1N0b3BzRnJvbUx0YShza2lwPzogbnVtYmVyKTogUHJvbWlzZTxCdXNTdG9wSW5mb1tdPiB7XHJcbiAgdHJ5IHtcclxuICAgIGxldCB1cmwgPSBidXNTdG9wc1VybDtcclxuICAgIGlmIChza2lwKSB7XHJcbiAgICAgIHVybCArPSBgPyRza2lwPSR7c2tpcH1gO1xyXG4gICAgfVxyXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgQXhpb3MuZ2V0KHVybCwgaGVhZGVyQ29uZmlnKTtcclxuICAgIGlmIChyZXNwb25zZS5zdGF0dXMgIT0gMjAwKSB7XHJcbiAgICAgIHRocm93IHsgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMgfTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXNwb25zZS5kYXRhLnZhbHVlO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHRocm93IGU7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBnZXRBbGxCdXNTdG9wcygpIHtcclxuICB0cnkge1xyXG4gICAgbGV0IHNraXAgPSAwO1xyXG4gICAgbGV0IG5ld0J1c1N0b3BzOiBCdXNTdG9wSW5mb1tdID0gW107XHJcbiAgICBkbyB7XHJcbiAgICAgIG5ld0J1c1N0b3BzID0gYXdhaXQgZ2V0QnVzU3RvcHNGcm9tTHRhKHNraXApO1xyXG4gICAgICBsZXQgdGVtcCA9IGJ1c1N0b3BzO1xyXG4gICAgICBidXNTdG9wcyA9IHRlbXAuY29uY2F0KG5ld0J1c1N0b3BzKTtcclxuICAgICAgc2tpcCArPSA1MDA7XHJcbiAgICB9IHdoaWxlIChuZXdCdXNTdG9wcy5sZW5ndGggPT09IDUwMCk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgYnVzU3RvcHMgPSBbXTtcclxuICAgIGdldEFsbEJ1c1N0b3BzKCk7XHJcbiAgfVxyXG59XHJcbmdldEFsbEJ1c1N0b3BzKCk7XHJcblxyXG5mdW5jdGlvbiBjaGVja0J1c1N0b3BMb2NhbGx5KGJ1c1N0b3BDb2RlOiBzdHJpbmcpIHtcclxuICBpZiAoIWJ1c1N0b3BDb2RlKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnVzU3RvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgIGlmIChidXNTdG9wQ29kZSA9PT0gYnVzU3RvcHNbaV0uQnVzU3RvcENvZGUpIHtcclxuICAgICAgcmV0dXJuIGJ1c1N0b3BzW2ldO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm47XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEJ1c1N0b3BJbmZvKGJ1c1N0b3BDb2RlOiBzdHJpbmcsIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIWJ1c1N0b3BDb2RlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgQnVzIFN0b3AgQ29kZS4nKTtcclxuICB9XHJcbiAgbGV0IGJ1c1N0b3BJbmZvID0gY2hlY2tCdXNTdG9wTG9jYWxseShidXNTdG9wQ29kZSk7XHJcbiAgaWYgKGJ1c1N0b3BJbmZvKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoYnVzU3RvcEluZm8pO1xyXG4gIH1cclxuICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0J1cyBTdG9wIEluZm8gbm90IGZvdW5kLicpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXROZWFyYnlCdXNTdG9wcyhsYXRpdHVkZTogbnVtYmVyLCBsb25naXR1ZGU6IG51bWJlciwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmIChsYXRpdHVkZSA9PT0gdW5kZWZpbmVkIHx8IGxvbmdpdHVkZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgY29vcmRpbmF0ZXMuJyk7XHJcbiAgfVxyXG5cclxuICBsZXQgbmVhcmJ5U3RvcHMgPSBbXTtcclxuICBjb25zdCBSID0gNjM3MWUzO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnVzU3RvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgIGxldCBkTGF0ID0gKChidXNTdG9wc1tpXS5MYXRpdHVkZSAtIGxhdGl0dWRlKSAqIE1hdGguUEkpIC8gMTgwO1xyXG4gICAgbGV0IGRMb25nID0gKChidXNTdG9wc1tpXS5Mb25naXR1ZGUgLSBsb25naXR1ZGUpICogTWF0aC5QSSkgLyAxODA7XHJcblxyXG4gICAgbGV0IGEgPVxyXG4gICAgICBNYXRoLnNpbihkTGF0IC8gMikgKiBNYXRoLnNpbihkTGF0IC8gMikgK1xyXG4gICAgICBNYXRoLmNvcygoYnVzU3RvcHNbaV0uTGF0aXR1ZGUgKiBNYXRoLlBJKSAvIDE4MCkgKlxyXG4gICAgICAgIE1hdGguY29zKChsYXRpdHVkZSAqIE1hdGguUEkpIC8gMTgwKSAqXHJcbiAgICAgICAgTWF0aC5zaW4oZExvbmcgLyAyKSAqXHJcbiAgICAgICAgTWF0aC5zaW4oZExvbmcgLyAyKTtcclxuICAgIGxldCBjID0gMiAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGEpLCBNYXRoLnNxcnQoMSAtIGEpKTtcclxuICAgIGxldCBkaXN0ID0gUiAqIGM7XHJcbiAgICBpZiAoTWF0aC5hYnMoZGlzdCkgPCA0MDApIHtcclxuICAgICAgbmVhcmJ5U3RvcHMucHVzaChidXNTdG9wc1tpXSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJlcy5zdGF0dXMoMjAwKS5zZW5kKG5lYXJieVN0b3BzKTtcclxufVxyXG5cclxuZXhwb3J0IHsgYnVzU3RvcHMsIGNoZWNrQnVzU3RvcExvY2FsbHksIGdldEJ1c1N0b3BJbmZvLCBnZXROZWFyYnlCdXNTdG9wcyB9O1xyXG4iLCJpbXBvcnQgeyBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCB7IERiQ29sbGVjdGlvbiwgT2JqZWN0SUQgfSBmcm9tICcuLi9tb25nb2RiLW9wcyc7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBHZXRJbnZlbnRvcnkocmVzOiBSZXNwb25zZSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYkludmVudG9yeSA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtaW52ZW50b3J5Jyk7XHJcbiAgICBjb25zdCBpbnZlbnRvcnkgPSBhd2FpdCBkYkludmVudG9yeS5maW5kKCkudG9BcnJheSgpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGludmVudG9yeSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gcXR5IGJ5IHByb2R1Y3Q7IFRvZG86IGJ5IGNvbG91ciwgc2l6ZSwgZXRjLlxyXG5hc3luYyBmdW5jdGlvbiBBZGp1c3RJbnZlbnRvcnkoX2lkOiBzdHJpbmcsIHF0eTogbnVtYmVyLCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFfaWQgfHwgIXF0eSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIGlucHV0LicpO1xyXG4gIH1cclxuICB0cnkge1xyXG4gICAgY29uc3QgZGJJbnZlbnRvcnkgPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLWludmVudG9yeScpO1xyXG4gICAgY29uc3QgcnNsdCA9IGF3YWl0IGRiSW52ZW50b3J5LnVwZGF0ZU9uZShcclxuICAgICAge1xyXG4gICAgICAgIF9pZDogbmV3IE9iamVjdElEKF9pZClcclxuICAgICAgfSxcclxuICAgICAgeyAkc2V0OiB7IG1vZGlmaWVkT246IG5ldyBEYXRlKCksIHF0eTogcXR5IH0gfSxcclxuICAgICAgeyB1cHNlcnQ6IHRydWUgfVxyXG4gICAgKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChyc2x0KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBSZXNlcnZlSW52ZW50b3J5KGlkOiBzdHJpbmcsIGNhcnRJdGVtczogYW55KSB7XHJcbiAgaWYgKCFjYXJ0SXRlbXMgfHwgY2FydEl0ZW1zLmxlbmd0aCA8PSAwKSB7XHJcbiAgICB0aHJvdyAnVGhlIGNhcnQgaXMgZW1wdHkuJztcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzdWNjZXNzID0gW107XHJcbiAgICBjb25zdCBmYWlsZWQgPSBbXTtcclxuXHJcbiAgICBjb25zdCBkYkludmVudG9yeSA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtaW52ZW50b3J5Jyk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcnRJdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYkludmVudG9yeS51cGRhdGVPbmUoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgX2lkOiBuZXcgT2JqZWN0SUQoY2FydEl0ZW1zW2ldLnByb2R1Y3QuX2lkKSxcclxuICAgICAgICAgIHF0eTogeyAkZ3RlOiBjYXJ0SXRlbXNbaV0ucXR5IH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICRpbmM6IHsgcXR5OiAtY2FydEl0ZW1zW2ldLnF0eSB9LFxyXG4gICAgICAgICAgJHB1c2g6IHtcclxuICAgICAgICAgICAgcmVzZXJ2YXRpb25zOiB7XHJcbiAgICAgICAgICAgICAgcXR5OiBjYXJ0SXRlbXNbaV0ucXR5LFxyXG4gICAgICAgICAgICAgIF9pZDogbmV3IE9iamVjdElEKGlkKSxcclxuICAgICAgICAgICAgICBjcmVhdGVkT246IG5ldyBEYXRlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgKTtcclxuICAgICAgaWYgKHJlc3VsdC5yZXN1bHQubk1vZGlmaWVkID09PSAwKSB7XHJcbiAgICAgICAgZmFpbGVkLnB1c2goY2FydEl0ZW1zW2ldLnByb2R1Y3QpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN1Y2Nlc3MucHVzaChjYXJ0SXRlbXNbaV0ucHJvZHVjdCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoZmFpbGVkLmxlbmd0aCA+IDApIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdWNjZXNzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZGJJbnZlbnRvcnkudXBkYXRlT25lKFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBfaWQ6IHN1Y2Nlc3NbaV0uX2lkLFxyXG4gICAgICAgICAgICAncmVzZXJ2YXRpb25zLl9pZCc6IGlkXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICAkaW5jOiB7IHF0eTogc3VjY2Vzc1tpXS5xdHkgfSxcclxuICAgICAgICAgICAgJHB1bGw6IHsgcmVzZXJ2YXRpb25zOiB7IF9pZDogaWQgfSB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyAnTm90IGVub3VnaCBzdG9yYWdlLic7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJ1N1Y2Nlc3MuJztcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICB0aHJvdyBlO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gRGVsZXRlSW52ZW50b3J5UmVzZXJ2YXRpb24oX2lkOiBzdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGJJbnZlbnRvcnkgPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLWludmVudG9yeScpO1xyXG4gICAgbGV0IHVwZGF0ZVJzbHQgPSBhd2FpdCBkYkludmVudG9yeS51cGRhdGVPbmUoXHJcbiAgICAgIHtcclxuICAgICAgICAncmVzZXJ2YXRpb25zLl9pZCc6IG5ldyBPYmplY3RJRChfaWQpXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICAkcHVsbDogeyByZXNlcnZhdGlvbnM6IHsgX2lkOiBuZXcgT2JqZWN0SUQoX2lkKSB9IH1cclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIGlmICh1cGRhdGVSc2x0LnJlc3VsdC5uTW9kaWZpZWQgPD0gMCkge1xyXG4gICAgICB0aHJvdyAnZGVsZXRlIHJlc2VydmF0aW9uIGZhaWxlZC4nO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVwZGF0ZVJzbHQ7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5sb2coZSk7XHJcbiAgICB0aHJvdyAnZGVsZXRlIHJlc2VydmF0aW9uIGZhaWxlZCB3aXRoIGV4Y2VwdGlvbi4nO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtcclxuICBBZGp1c3RJbnZlbnRvcnksXHJcbiAgRGVsZXRlSW52ZW50b3J5UmVzZXJ2YXRpb24sXHJcbiAgR2V0SW52ZW50b3J5LFxyXG4gIFJlc2VydmVJbnZlbnRvcnlcclxufTtcclxuIiwiaW1wb3J0IHsgRGJDb2xsZWN0aW9uLCBNb25nb0RiLCBPYmplY3RJRCB9IGZyb20gJy4uL21vbmdvZGItb3BzJztcclxuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBlbmNyeXB0IH0gZnJvbSAnLi4vc3RyaW5nLW9wcyc7XHJcblxyXG4oYXN5bmMgKCkgPT4ge1xyXG4gIGNvbnN0IGRiID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy11c2VycycpO1xyXG4gIGRiLmNyZWF0ZUluZGV4KCd1aWQnLCB7IHVuaXF1ZTogdHJ1ZSB9KTtcclxufSkoKTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIExvZ2luKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmIChyZXEuc2Vzc2lvbiAmJiByZXEuc2Vzc2lvbi51c2VyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyB1aWQ6IHJlcS5zZXNzaW9uLnVzZXIudWlkIH0pO1xyXG4gIH1cclxuICB0cnkge1xyXG4gICAgbGV0IGRiVXNlcnMgPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLXVzZXJzJyk7XHJcbiAgICByZXEuc2Vzc2lvbi51c2VyID0gYXdhaXQgZGJVc2Vycy5maW5kT25lKHtcclxuICAgICAgdWlkOiByZXEuYm9keS51aWQsXHJcbiAgICAgIHB3ZDogZW5jcnlwdChyZXEuYm9keS5wd2QpXHJcbiAgICB9KTtcclxuICAgIGlmICghcmVxLnNlc3Npb24udXNlcikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLnNlbmQoJ0luY29ycmVjdCB1c2VybmFtZSBvciBwYXNzd29yZCcpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgdWlkOiByZXEuc2Vzc2lvbi51c2VyLnVpZCB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoJ3NlcnZlciBlcnJvci4nKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIExvZ291dChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAocmVxLnNlc3Npb24gJiYgcmVxLnNlc3Npb24udXNlcikge1xyXG4gICAgcmVxLnNlc3Npb24udXNlciA9IG51bGw7XHJcbiAgfVxyXG4gIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gUmVnaXN0ZXIocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKFxyXG4gICAgIXJlcS5ib2R5LnVpZCB8fFxyXG4gICAgIXJlcS5ib2R5LnB3ZCB8fFxyXG4gICAgIXJlcS5ib2R5LmVtYWlsIHx8XHJcbiAgICAhcmVxLmJvZHkuZmlyc3ROYW1lIHx8XHJcbiAgICAhcmVxLmJvZHkubGFzdE5hbWVcclxuICApIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBpbnB1dC4nKTtcclxuICB9XHJcbiAgdHJ5IHtcclxuICAgIGxldCBkYlVzZXJzID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy11c2VycycpO1xyXG4gICAgbGV0IHJzbHQgPSBhd2FpdCBkYlVzZXJzLmluc2VydE9uZSh7XHJcbiAgICAgIHVpZDogcmVxLmJvZHkudWlkLFxyXG4gICAgICBwd2Q6IGVuY3J5cHQocmVxLmJvZHkucHdkKSxcclxuICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxyXG4gICAgICBmaXJzdE5hbWU6IHJlcS5ib2R5LmZpcnN0TmFtZSxcclxuICAgICAgbGFzdE5hbWU6IHJlcS5ib2R5Lmxhc3ROYW1lLFxyXG4gICAgICBjcmVhdGVkT246IG5ldyBEYXRlKClcclxuICAgIH0pO1xyXG4gICAgaWYgKHJzbHQuaW5zZXJ0ZWRDb3VudCA9PT0gMSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQocnNsdC5vcHNbMF0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKCdSZWdpc3RlciBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coZSk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoJ1JlZ2lzdGVyIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIERlbGV0ZVVzZXIoc2Vzc2lvbjogYW55LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFzZXNzaW9uIHx8ICFzZXNzaW9uLnVzZXIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuc2VuZCgnTG9naW4gaXMgcmVxdWlyZWQuJyk7XHJcbiAgfVxyXG4gIHRyeSB7XHJcbiAgICBsZXQgZGIgPSBhd2FpdCBNb25nb0RiKCk7XHJcbiAgICBkYi5jb2xsZWN0aW9uKCdnaWZ0cy11c2VycycpLmRlbGV0ZU9uZSh7XHJcbiAgICAgIF9pZDogc2Vzc2lvbi51c2VyLl9pZFxyXG4gICAgfSk7XHJcbiAgICBzZXNzaW9uLnVzZXIgPSBudWxsO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnVXNlciBkZWxldGVkLicgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gVXNlckluZm8oc2Vzc2lvbjogYW55LCByZXMpIHtcclxuICBpZiAoIWJMb2dpbihzZXNzaW9uKSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKCdVc2VyIE5vdCBsb2dpbi4nKTtcclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcclxuICAgIF9pZDogc2Vzc2lvbi51c2VyLl9pZCxcclxuICAgIHVpZDogc2Vzc2lvbi51c2VyLnVpZCxcclxuICAgIGVtYWlsOiBzZXNzaW9uLnVzZXIuZW1haWxcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYkxvZ2luKHNlc3Npb246IGFueSkge1xyXG4gIGlmICghc2Vzc2lvbiB8fCAhc2Vzc2lvbi51c2VyKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgeyBiTG9naW4sIExvZ2luLCBMb2dvdXQsIFJlZ2lzdGVyLCBEZWxldGVVc2VyLCBVc2VySW5mbyB9O1xyXG4iLCJpbXBvcnQgKiBhcyBjcnlwdG8gZnJvbSAnY3J5cHRvJztcclxuXHJcbmNvbnN0IGFsZ29yaXRobSA9ICdhZXMtMTkyLWNiYyc7XHJcbmNvbnN0IHBhc3N3b3JkID0gJ2luU0d5YzgzJztcclxuY29uc3Qga2V5ID0gY3J5cHRvLnNjcnlwdFN5bmMocGFzc3dvcmQsICdzYWx0JywgMjQpO1xyXG5jb25zdCBpdiA9IEJ1ZmZlci5hbGxvYygxNiwgMCk7XHJcblxyXG5mdW5jdGlvbiBlbmNyeXB0KHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgdHJ5IHtcclxuICAgIGxldCBjaXBoZXIgPSBjcnlwdG8uY3JlYXRlQ2lwaGVyaXYoYWxnb3JpdGhtLCBrZXksIGl2KTtcclxuICAgIGxldCBjcnlwdGVkOiBzdHJpbmcgPSBjaXBoZXIudXBkYXRlKHRleHQsICd1dGY4JywgJ2hleCcpO1xyXG4gICAgY3J5cHRlZCArPSBjaXBoZXIuZmluYWwoJ2hleCcpO1xyXG4gICAgcmV0dXJuIGNyeXB0ZWQ7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2VuY3J5cHQgPT4gJywgZSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkZWNyeXB0KHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgdHJ5IHtcclxuICAgIGxldCBkZWNpcGhlciA9IGNyeXB0by5jcmVhdGVEZWNpcGhlcml2KGFsZ29yaXRobSwga2V5LCBpdik7XHJcbiAgICBsZXQgZGVjOiBzdHJpbmcgPSBkZWNpcGhlci51cGRhdGUodGV4dCwgJ2hleCcsICd1dGY4Jyk7XHJcbiAgICBkZWMgKz0gZGVjaXBoZXIuZmluYWwoJ3V0ZjgnKTtcclxuICAgIHJldHVybiBkZWM7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2RlY3J5cHQgPT4gJywgZSk7XHJcbiAgfVxyXG59XHJcblxyXG4vKlxyXG4gKiBzdHJpbmcgb3BlcmF0aW9uXHJcbiAqL1xyXG5lbnVtIFJhbmRvbVR5cGVzIHtcclxuICBDYXBpdGFsLFxyXG4gIE51bWJlcixcclxuICBTdHJpbmdcclxufVxyXG5cclxuLy8gcmV0dXJuIHN0cmluZyBvZiByYW5kb20gbnVtYmVycyB3aXRoIHNwZWNpZmllZCBsZW5ndGguXHJcbmZ1bmN0aW9uIHJhbmRvbU51bWJlcihsZW5ndGg6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgcmV0dXJuIHJhbmRvbShSYW5kb21UeXBlcy5OdW1iZXIsIGxlbmd0aCk7XHJcbn1cclxuXHJcbi8vIHJldHVybiBzdHJpbmcgb2YgcmFuZG9tIGNhcGl0YWwgY2hhcmFjdGVycyB3aXRoIHNwZWNpZmllZCBsZW5ndGguXHJcbmZ1bmN0aW9uIHJhbmRvbUNhcGl0YWxzKGxlbmd0aDogbnVtYmVyKTogc3RyaW5nIHtcclxuICByZXR1cm4gcmFuZG9tKFJhbmRvbVR5cGVzLkNhcGl0YWwsIGxlbmd0aCk7XHJcbn1cclxuXHJcbi8vIHJldHVybiBzdHJpbmcgb2YgcmFuZG9tIGNoYXJhY3RlcnMgb3IgbnVtYmVycyB3aXRoIHNwZWNpZmllZCBsZW5ndGguXHJcbmZ1bmN0aW9uIHJhbmRvbVN0cmluZyhsZW5ndGg6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgcmV0dXJuIHJhbmRvbShSYW5kb21UeXBlcy5TdHJpbmcsIGxlbmd0aCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJhbmRvbSh0eXBlOiBSYW5kb21UeXBlcywgbGVuZ3RoOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gIGxldCByU3RyaW5nOiBzdHJpbmcgPSAnJztcclxuICBpZiAodHlwZSA9PT0gUmFuZG9tVHlwZXMuU3RyaW5nKSB7XHJcbiAgICByU3RyaW5nID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJztcclxuICB9IGVsc2UgaWYgKHR5cGUgPT09IFJhbmRvbVR5cGVzLk51bWJlcikge1xyXG4gICAgclN0cmluZyA9ICcwMTIzNDU2Nzg5JztcclxuICB9IGVsc2UgaWYgKHR5cGUgPT09IFJhbmRvbVR5cGVzLkNhcGl0YWwpIHtcclxuICAgIHJTdHJpbmcgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVonO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG5cclxuICBsZXQgcmVzdWx0OiBzdHJpbmcgPSAnJztcclxuICBmb3IgKGxldCBpID0gbGVuZ3RoOyBpID4gMDsgLS1pKSB7XHJcbiAgICByZXN1bHQgKz0gclN0cmluZ1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiByU3RyaW5nLmxlbmd0aCldO1xyXG4gIH1cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIGVuY3J5cHQsXHJcbiAgZGVjcnlwdCxcclxuICByYW5kb21DYXBpdGFscyxcclxuICByYW5kb21OdW1iZXIsXHJcbiAgcmFuZG9tU3RyaW5nLFxyXG4gIFJhbmRvbVR5cGVzXHJcbn07XHJcbiIsImltcG9ydCAqIGFzIGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCAqIGFzIHNlc3Npb24gZnJvbSAnZXhwcmVzcy1zZXNzaW9uJztcclxuaW1wb3J0ICogYXMgaHR0cHMgZnJvbSAnaHR0cHMnO1xyXG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcclxuaW1wb3J0ICogYXMgY29ycyBmcm9tICdjb3JzJztcclxuaW1wb3J0ICogYXMgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XHJcblxyXG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSwgTmV4dEZ1bmN0aW9uIH0gZnJvbSAnLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQgYXBpUm91dGVyIGZyb20gJy4vYXBpLXJvdXRlcic7XHJcblxyXG4vLyBFeHByZXNzIHNlcnZlclxyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcblxyXG5hcHAudXNlKGNvcnMoKSk7XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSk7XHJcblxyXG5hcHAudXNlKFxyXG4gIHNlc3Npb24oe1xyXG4gICAgc2VjcmV0OiAnaW5zZy15Yy1seS0xNycsXHJcbiAgICByZXNhdmU6IGZhbHNlLFxyXG4gICAgc2F2ZVVuaW5pdGlhbGl6ZWQ6IHRydWUsXHJcbiAgICBjb29raWU6IHtcclxuICAgICAgbWF4QWdlOiAxMDAwICogNjAgKiA2MCAqIDI0IC8vIG1pbGxzZWNvbmRzIG9mIDI0aHJzICB9XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxuXHJcbmFwcC51c2UoJy9hcGknLCBhcGlSb3V0ZXIpO1xyXG5cclxuYXBwLmdldCgnLycsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKGpvaW4oX19kaXJuYW1lLCAnL2NsaWVudC9pbmRleC5odG1sJykpO1xyXG59KTtcclxuXHJcbi8vIFNlcnZlciBzdGF0aWMgZmlsZXMgZnJvbSAvY2xpZW50XHJcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMoam9pbihfX2Rpcm5hbWUsICcvY2xpZW50JykpKTtcclxuYXBwLnVzZShcclxuICBleHByZXNzLnN0YXRpYyhqb2luKF9fZGlybmFtZSwgJy9jbGllbnQvYXNzZXRzJyksIHsgZG90ZmlsZXM6ICdhbGxvdycgfSlcclxuKTtcclxuXHJcbi8vIGVycm9yIGhhbmRsaW5nIC0gMVxyXG5hcHAuYWxsKCcvKicsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKGpvaW4oX19kaXJuYW1lLCAnL2NsaWVudC9pbmRleC5odG1sJykpO1xyXG59KTtcclxuLy8gZXJyb3IgaGFuZGxpbmcgLSAyXHJcbmFwcC51c2UoKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSwgbmV4dDogTmV4dEZ1bmN0aW9uKSA9PiB7XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKCdJc3N1ZSBoYXBwZW5lZC4gUGxlYXNlIHJldHJ5IGxhdGVyIScpO1xyXG59KTtcclxuXHJcbi8vIFN0YXJ0IHVwIHRoZSBOb2RlIGh0dHBzIHNlcnZlciBkZWZhdWx0IHBvcnRcclxuY29uc3QgaHR0cHNPcHRpb25zID0ge1xyXG4gIGNlcnQ6IGZzLnJlYWRGaWxlU3luYyhqb2luKF9fZGlybmFtZSwgJy4vc3NsZm9yZnJlZS9jZXJ0LnBlbScpKSxcclxuICBrZXk6IGZzLnJlYWRGaWxlU3luYyhqb2luKF9fZGlybmFtZSwgJy4vc3NsZm9yZnJlZS9wcml2a2V5LnBlbScpKSxcclxuICBjYTogZnMucmVhZEZpbGVTeW5jKGpvaW4oX19kaXJuYW1lLCAnLi9zc2xmb3JmcmVlL2NoYWluLnBlbScpKVxyXG59O1xyXG5jb25zdCBodHRwc19zZXJ2ZXIgPSBodHRwcy5jcmVhdGVTZXJ2ZXIoaHR0cHNPcHRpb25zLCBhcHApO1xyXG5odHRwc19zZXJ2ZXIubGlzdGVuKDMwMDAsICgpID0+IHtcclxuICBjb25zb2xlLmxvZyhgTm9kZSBzZXJ2ZXIgbGlzdGVuaW5nIG9uIGh0dHBzIHBvcnQgMzAwMGApO1xyXG59KTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXhwcmVzcy1zZXNzaW9uXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImh0dHBzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhdGhcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY29yc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJib2R5LXBhcnNlclwiKTsiLCJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICcuL2ludGVyZmFjZSc7XHJcblxyXG5pbXBvcnQgeyBidXNSb3V0ZXIgfSBmcm9tICcuL2x0YS9yb3V0ZXInO1xyXG5pbXBvcnQgaHR0cFJvdXRlciBmcm9tICcuL2h0dHAtcmVxdWVzdC9yb3V0ZXInO1xyXG5pbXBvcnQge1xyXG4gIGRpY3Rpb25hcnlSb3V0ZXIsXHJcbiAgbHVuY2hmdW5Sb3V0ZXJcclxufSBmcm9tICcuL2x1bmNoZnVuLWFuZC1kaWN0aW9uYXJ5L3JvdXRlcic7XHJcbmltcG9ydCBnaWZ0c1JvdXRlciBmcm9tICcuL2FwaS1naWZ0cy1yb3V0ZXInO1xyXG5pbXBvcnQgU2VuZEVtYWlsIGZyb20gJy4vZW1haWwvZW1haWwub3BzJztcclxuXHJcbmNvbnN0IGFwaVJvdXRlciA9IFJvdXRlcigpO1xyXG5cclxuLy8gdXJsOiAvYXBpXHJcbmFwaVJvdXRlci51c2UoJy9kaWN0aW9uYXJ5JywgZGljdGlvbmFyeVJvdXRlcik7XHJcbmFwaVJvdXRlci51c2UoJy9odHRwJywgaHR0cFJvdXRlcik7XHJcbmFwaVJvdXRlci51c2UoJy9sdW5jaGZ1bicsIGx1bmNoZnVuUm91dGVyKTtcclxuYXBpUm91dGVyLnVzZSgnL2x0YS9idXMnLCBidXNSb3V0ZXIpO1xyXG5hcGlSb3V0ZXIudXNlKCcvZ2lmdHMnLCBnaWZ0c1JvdXRlcik7XHJcblxyXG4vLyBtc2cgZnJvbSB1c2VyczsgZm9yd2FyZCBpdCB2aWEgbm9kZW1haWxlci5cclxuYXBpUm91dGVyLnBvc3QoJy9tc2cnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgU2VuZEVtYWlsKHJlcS5ib2R5LCByZXMpO1xyXG59KTtcclxuXHJcbi8vIGVycm9yIGhhbmRsaW5nXHJcbmFwaVJvdXRlci5hbGwoJy8qJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBSZXF1ZXN0Jyk7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXBpUm91dGVyO1xyXG4iLCJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcclxuXHJcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuaW1wb3J0IGdldEJ1c0Fycml2YWwgZnJvbSAnLi9idXMtYXJyaXZhbCc7XHJcbmltcG9ydCB7IGdldEJ1c1N0b3BJbmZvLCBnZXROZWFyYnlCdXNTdG9wcyB9IGZyb20gJy4vYnVzLXN0b3BzJztcclxuXHJcbi8vIHVybDogL2FwaS9sdGEvYnVzXHJcbmNvbnN0IGJ1c1JvdXRlciA9IFJvdXRlcigpO1xyXG5cclxuYnVzUm91dGVyLmdldCgnL2J1c0Fycml2YWwvOmJ1c1N0b3BDb2RlJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIGdldEJ1c0Fycml2YWwocmVxLnBhcmFtcy5idXNTdG9wQ29kZSwgcmVzKTtcclxufSk7XHJcblxyXG5idXNSb3V0ZXIuZ2V0KCcvYnVzU3RvcC86YnVzU3RvcENvZGUnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgZ2V0QnVzU3RvcEluZm8ocmVxLnBhcmFtcy5idXNTdG9wQ29kZSwgcmVzKTtcclxufSk7XHJcblxyXG5idXNSb3V0ZXIuZ2V0KCcvbmVhcmJ5QnVzU3RvcHMnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgZ2V0TmVhcmJ5QnVzU3RvcHMocmVxLnF1ZXJ5LmxhdGl0dWRlLCByZXEucXVlcnkubG9uZ2l0dWRlLCByZXMpO1xyXG59KTtcclxuXHJcbmV4cG9ydCB7IGJ1c1JvdXRlciB9O1xyXG4iLCJpbXBvcnQgQXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5cclxuaW1wb3J0IHsgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBidXNBcnJpdmFsVXJsLCBoZWFkZXJDb25maWcgfSBmcm9tICcuL2x0YSc7XHJcbmltcG9ydCB7IGNoZWNrQnVzU3RvcExvY2FsbHkgfSBmcm9tICcuL2J1cy1zdG9wcyc7XHJcblxyXG5mdW5jdGlvbiBnZXRCdXNBcnJpdmFsKGJ1c1N0b3BDb2RlOiBzdHJpbmcsIHJlczogUmVzcG9uc2UpIHtcclxuICBidXNTdG9wQ29kZSA9IGJ1c1N0b3BDb2RlLnRyaW0oKTtcclxuICBpZiAoIWJ1c1N0b3BDb2RlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgQnVzU3RvcENvZGUuJyk7XHJcbiAgfVxyXG5cclxuICBsZXQgYnVzU3RvcEluZm8gPSBjaGVja0J1c1N0b3BMb2NhbGx5KGJ1c1N0b3BDb2RlKTtcclxuICBpZiAoIWJ1c1N0b3BJbmZvKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0J1cyBTdG9wIG5vdCBmb3VuZC4nKTtcclxuICB9XHJcblxyXG4gIGxldCB1cmwgPSBgJHtidXNBcnJpdmFsVXJsfT9CdXNTdG9wQ29kZT0ke2J1c1N0b3BDb2RlfWA7XHJcbiAgQXhpb3MuZ2V0KHVybCwgaGVhZGVyQ29uZmlnKVxyXG4gICAgLnRoZW4ocmVzcG9zZSA9PiB7XHJcbiAgICAgIHJlc1xyXG4gICAgICAgIC5zdGF0dXMoMjAwKVxyXG4gICAgICAgIC5zZW5kKHsgYnVzU3RvcEluZm86IGJ1c1N0b3BJbmZvLCBidXNBcnJpdmFsOiByZXNwb3NlLmRhdGEgfSk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICByZXMuc3RhdHVzKDQwMCkuc2VuZChlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBnZXRCdXNBcnJpdmFsO1xyXG4iLCJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcclxuXHJcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRGVsZXRlLCBHZXQsIFBvc3QsIFB1dCB9IGZyb20gJy4vaHR0cC1yZXF1ZXN0JztcclxuXHJcbmNvbnN0IGh0dHBSb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbmh0dHBSb3V0ZXIucG9zdCgnJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIGlmIChyZXEuYm9keS50eXBlID09PSAnREVMRVRFJykge1xyXG4gICAgRGVsZXRlKHJlcS5ib2R5LCByZXMpO1xyXG4gIH0gZWxzZSBpZiAocmVxLmJvZHkudHlwZSA9PT0gJ0dFVCcpIHtcclxuICAgIEdldChyZXEuYm9keSwgcmVzKTtcclxuICB9IGVsc2UgaWYgKHJlcS5ib2R5LnR5cGUgPT09ICdQT1NUJykge1xyXG4gICAgUG9zdChyZXEuYm9keSwgcmVzKTtcclxuICB9IGVsc2UgaWYgKHJlcS5ib2R5LnR5cGUgPT09ICdQVVQnKSB7XHJcbiAgICBQdXQocmVxLmJvZHksIHJlcyk7XHJcbiAgfVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGh0dHBSb3V0ZXI7XHJcbiIsImltcG9ydCBBeGlvcyBmcm9tICdheGlvcyc7XHJcblxyXG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcblxyXG5mdW5jdGlvbiBEZWxldGUoYm9keTogYW55LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgbGV0IHVybCA9IGJvZHkudXJsO1xyXG4gIGlmIChib2R5LnF1ZXJ5cyAmJiBib2R5LnF1ZXJ5cy5sZW5ndGggPiAwKSB7XHJcbiAgICB1cmwgKz0gJz8nO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2R5LnF1ZXJ5cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICB1cmwgKz0gYm9keS5xdWVyeVtpXTtcclxuICAgICAgdXJsICs9ICc9JztcclxuICAgICAgdXJsICs9IGJvZHkucXVlcnlWYWx1ZVtpXTtcclxuICAgIH1cclxuICB9XHJcbiAgQXhpb3MuZGVsZXRlKHVybClcclxuICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQocmVzcG9uc2UpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoZSk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBQb3N0KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGxldCBoZWFkZXJzID0ge307XHJcblxyXG4gIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChyZXEpO1xyXG4gIGxldCB1cmw6IHN0cmluZyA9IHJlcS5ib2R5LnVybDtcclxuICBpZiAocmVxLmJvZHkuaGVhZGVycykge1xyXG4gICAgaGVhZGVycyA9IHtcclxuICAgICAgaGVhZGVyczogcmVxLmJvZHkuaGVhZGVyc1xyXG4gICAgfTtcclxuICB9XHJcbiAgaWYgKHJlcS5ib2R5LnBhcmFtZXRlcnMpIHtcclxuICAgIHVybCArPSAnPyc7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcS5ib2R5LnBhcmFtZXRlcnMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgdXJsICs9IHJlcS5ib2R5LnBhcmFtZXRlcnNbaV0gKyAnPScgKyByZXEuYm9keS5wYXJhbWV0ZXJWYWx1ZVtpXSArICcmJztcclxuICAgIH1cclxuICB9XHJcbiAgQXhpb3MuZ2V0KHVybCwgaGVhZGVycykudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICByZXMuc2VuZChyZXNwb25zZS5kYXRhKTtcclxuICB9KTtcclxufVxyXG5mdW5jdGlvbiBQdXQocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgQXhpb3MucHV0KHJlcS5ib2R5LnVybCkudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICByZXMuc2VuZChyZXNwb25zZS5kYXRhKTtcclxuICB9KTtcclxufVxyXG5mdW5jdGlvbiBHZXQocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgQXhpb3MucG9zdChyZXEuYm9keS51cmwpLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgcmVzLnNlbmQocmVzcG9uc2UuZGF0YSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IERlbGV0ZSwgR2V0LCBQb3N0LCBQdXQgfTtcclxuIiwiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCBDaGVja094Zm9yZERpY3Rpb25hcnkgZnJvbSAnLi9kaWN0aW9uYXJ5JztcclxuaW1wb3J0IHsgQWRkUGFsLCBEZWxldGVQYWwsIEdldFBhbHMsIEdldFBhbHNBdHRlbmRhbmNlIH0gZnJvbSAnLi9sdW5jaGZ1bi1wYWxzJztcclxuaW1wb3J0IHsgQWRkUmVjb3JkLCBEZWxldGVSZWNvcmQsIEdldFJlY29yZHMgfSBmcm9tICcuL2x1bmNoZnVuLXJlY29yZHMnO1xyXG5cclxuY29uc3QgZGljdGlvbmFyeVJvdXRlciA9IFJvdXRlcigpO1xyXG5jb25zdCBsdW5jaGZ1blJvdXRlciA9IFJvdXRlcigpO1xyXG5cclxuZGljdGlvbmFyeVJvdXRlci5nZXQoJy9veGZvcmQvOndvcmQnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgQ2hlY2tPeGZvcmREaWN0aW9uYXJ5KHJlcS5wYXJhbXMud29yZCwgcmVzKTtcclxufSk7XHJcblxyXG5sdW5jaGZ1blJvdXRlci5nZXQoJy9wYWxzJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIEdldFBhbHMocmVzKTtcclxufSk7XHJcbmx1bmNoZnVuUm91dGVyLnBvc3QoJy9wYWwnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgQWRkUGFsKHJlcS5ib2R5Lm5hbWUsIHJlcyk7XHJcbn0pO1xyXG5sdW5jaGZ1blJvdXRlci5kZWxldGUoJy9wYWwnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgRGVsZXRlUGFsKHJlcS5xdWVyeSwgcmVzKTtcclxufSk7XHJcblxyXG5sdW5jaGZ1blJvdXRlci5nZXQoJy9yZWNvcmRzJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIEdldFJlY29yZHMocmVzKTtcclxufSk7XHJcbmx1bmNoZnVuUm91dGVyLnBvc3QoJy9yZWNvcmQnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgQWRkUmVjb3JkKHJlcS5ib2R5LnBheWVyLCByZXEuYm9keS5hdHRlbmRlZXMsIHJlcyk7XHJcbn0pO1xyXG5sdW5jaGZ1blJvdXRlci5kZWxldGUoJy9yZWNvcmQnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgRGVsZXRlUmVjb3JkKHJlcS5xdWVyeS5faWQsIHJlcyk7XHJcbn0pO1xyXG5cclxubHVuY2hmdW5Sb3V0ZXIuZ2V0KCcvc3RhdHMvYXR0ZW5kYW5jZScsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBHZXRQYWxzQXR0ZW5kYW5jZShyZXMpO1xyXG59KTtcclxuXHJcbmV4cG9ydCB7IGRpY3Rpb25hcnlSb3V0ZXIsIGx1bmNoZnVuUm91dGVyIH07XHJcbiIsImltcG9ydCAqIGFzIE94Zm9yZERpY3Rpb25hcnkgZnJvbSAnb3hmb3JkLWRpY3Rpb25hcnktYXBpJzsgLy8gdHNsaW50OmRpc2FibGUtbGluZVxyXG5cclxuaW1wb3J0IHsgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5cclxuY29uc3QgYXBwX2lkOiBzdHJpbmcgPSAnMDMxNGU5ZTInO1xyXG5jb25zdCBhcHBfa2V5OiBzdHJpbmcgPSAnNWE2YzI1ODk0NzRhMmY4M2NjZDY5ZjM5N2JmZWM3YTInO1xyXG5jb25zdCBESUNUID0gbmV3IE94Zm9yZERpY3Rpb25hcnkoYXBwX2lkLCBhcHBfa2V5KTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIENoZWNrT3hmb3JkRGljdGlvbmFyeSh3b3JkOiBzdHJpbmcsIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIXdvcmQgfHwgIXdvcmQudHJpbSgpKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgd29yZC4nKTtcclxuICB9XHJcblxyXG4gIERJQ1QuZmluZCh3b3JkLnRyaW0oKSwgKGVyciwgZGF0YSkgPT4ge1xyXG4gICAgaWYgKGVycikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoZXJyKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChkYXRhKTtcclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2hlY2tPeGZvcmREaWN0aW9uYXJ5O1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJveGZvcmQtZGljdGlvbmFyeS1hcGlcIik7IiwiaW1wb3J0IHsgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBEYkNvbGxlY3Rpb24gfSBmcm9tICcuLi9tb25nb2RiLW9wcyc7XHJcblxyXG5sZXQgbHVuY2hQYWxzID0gW107XHJcblxyXG5hc3luYyBmdW5jdGlvbiByZWZyZXNoUGFscygpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcGFsc0NvbGxlY3Rpb24gPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2x1bmNoZnVuLXBhbHMnKTtcclxuICAgIGx1bmNoUGFscyA9IGF3YWl0IHBhbHNDb2xsZWN0aW9uXHJcbiAgICAgIC5maW5kKClcclxuICAgICAgLnNvcnQoeyBuYW1lOiAxIH0pXHJcbiAgICAgIC50b0FycmF5KCk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgdGhyb3cgZTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEdldFBhbHMocmVzOiBSZXNwb25zZSkge1xyXG4gIGlmIChsdW5jaFBhbHMubGVuZ3RoID4gMCkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGx1bmNoUGFscyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgYXdhaXQgcmVmcmVzaFBhbHMoKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChsdW5jaFBhbHMpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEFkZFBhbChuYW1lOiBzdHJpbmcsIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIW5hbWUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBpbnB1dC4nKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwYWxzQ29sbGVjdGlvbiA9IGF3YWl0IERiQ29sbGVjdGlvbignbHVuY2hmdW4tcGFscycpO1xyXG4gICAgcGFsc0NvbGxlY3Rpb24uaW5zZXJ0T25lKHsgbmFtZTogbmFtZSB9KTtcclxuICAgIHJlZnJlc2hQYWxzKCk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gRGVsZXRlUGFsKG5hbWU6IHN0cmluZywgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghbmFtZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIG5hbWUgdG8gZGVsZXRlLicpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHBhbHNDb2xsZWN0aW9uID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdsdW5jaGZ1bi1wYWxzJyk7XHJcbiAgICBwYWxzQ29sbGVjdGlvbi5kZWxldGVPbmUoeyBuYW1lOiBuYW1lIH0pO1xyXG4gICAgcmVmcmVzaFBhbHMoKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBHZXRQYWxzQXR0ZW5kYW5jZShyZXM6IFJlc3BvbnNlKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2x1bmNoZnVuLXJlY29yZHMnKTtcclxuICAgIGNvbnN0IGF0dGVuZGFuY2VzID0gYXdhaXQgY29sbGVjdGlvblxyXG4gICAgICAuYWdncmVnYXRlKFtcclxuICAgICAgICB7ICR1bndpbmQ6ICckYXR0ZW5kZWVzJyB9LFxyXG4gICAgICAgIHsgJGdyb3VwOiB7IF9pZDogJyRhdHRlbmRlZXMnLCBhdHRlbmRhbmNlOiB7ICRzdW06IDEgfSB9IH0sXHJcbiAgICAgICAgeyAkcHJvamVjdDogeyBuYW1lOiAnJF9pZCcsIGF0dGVuZGFuY2U6ICckYXR0ZW5kYW5jZScgfSB9XHJcbiAgICAgIF0pXHJcbiAgICAgIC50b0FycmF5KCk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoYXR0ZW5kYW5jZXMpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IEFkZFBhbCwgRGVsZXRlUGFsLCBHZXRQYWxzLCBHZXRQYWxzQXR0ZW5kYW5jZSB9O1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb2RiXCIpOyIsImltcG9ydCB7IFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRGJDb2xsZWN0aW9uLCBPYmplY3RJRCB9IGZyb20gJy4uL21vbmdvZGItb3BzJztcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEdldFJlY29yZHMocmVzOiBSZXNwb25zZSwgcXR5PzogbnVtYmVyKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2x1bmNoZnVuLXJlY29yZHMnKTtcclxuICAgIGNvbnN0IHJlY29yZHMgPSBhd2FpdCBjb2xsZWN0aW9uXHJcbiAgICAgIC5maW5kKHt9KVxyXG4gICAgICAuc29ydCh7IGNyZWF0ZWRPbjogLTEgfSlcclxuICAgICAgLmxpbWl0KHF0eSB8IDMwKVxyXG4gICAgICAudG9BcnJheSgpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJlY29yZHMpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEFkZFJlY29yZChwYXllcjogc3RyaW5nLCBhdHRlbmRlZXM6IHN0cmluZ1tdLCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFwYXllciB8fCAhYXR0ZW5kZWVzIHx8IGF0dGVuZGVlcy5sZW5ndGggPD0gMCkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIHBhcmFtcyB0byBhZGQuJyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IERiQ29sbGVjdGlvbignbHVuY2hmdW4tcmVjb3JkcycpO1xyXG4gICAgYXdhaXQgY29sbGVjdGlvbi5pbnNlcnRPbmUoe1xyXG4gICAgICBwYXllcjogcGF5ZXIsXHJcbiAgICAgIGF0dGVuZGVlczogYXR0ZW5kZWVzLFxyXG4gICAgICBjcmVhdGVkT246IG5ldyBEYXRlKClcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKCdFcnJvciBhdCBzZXJ2ZXIuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBEZWxldGVSZWNvcmQoX2lkOiBzdHJpbmcsIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIV9pZCkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIHJlY29yZCB0byBkZWxldGUuJyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IERiQ29sbGVjdGlvbignbHVuY2hmdW4tcmVjb3JkcycpO1xyXG4gICAgY29sbGVjdGlvbi5kZWxldGVPbmUoeyBfaWQ6IG5ldyBPYmplY3RJRChfaWQpIH0pO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IEFkZFJlY29yZCwgRGVsZXRlUmVjb3JkLCBHZXRSZWNvcmRzIH07XHJcbiIsImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xyXG5cclxuaW1wb3J0IGdpZnRzUHJvZHVjdHNSb3V0ZXIgZnJvbSAnLi9naWZ0cy1wcm9kdWN0cy9naWZ0cy1wcm9kdWN0cy1yb3V0ZXInO1xyXG5pbXBvcnQgZ2lmdHNPcmRlcnNSb3V0ZXIgZnJvbSAnLi9naWZ0cy1vcmRlcnMvZ2lmdHMtb3JkZXJzLXJvdXRlcic7XHJcbmltcG9ydCBnaWZ0c1VzZXJzUm91dGVyIGZyb20gJy4vZ2lmdHMtdXNlcnMvZ2lmdHMtdXNlcnMtcm91dGVyJztcclxuaW1wb3J0IGdpZnRzU3RhZmZzUm91dGVyIGZyb20gJy4vZ2lmdHMtc3RhZmZzL2dpZnRzLXN0YWZmcy1yb3V0ZXInO1xyXG5cclxuY29uc3QgZ2lmdHNSb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbi8vIHVybDogL2FwaS9naWZ0c1xyXG5naWZ0c1JvdXRlci51c2UoJy9wcm9kdWN0cycsIGdpZnRzUHJvZHVjdHNSb3V0ZXIpO1xyXG5naWZ0c1JvdXRlci51c2UoJy9vcmRlcnMnLCBnaWZ0c09yZGVyc1JvdXRlcik7XHJcbmdpZnRzUm91dGVyLnVzZSgnL3VzZXJzJywgZ2lmdHNVc2Vyc1JvdXRlcik7XHJcbmdpZnRzUm91dGVyLnVzZSgnL3N0YWZmcycsIGdpZnRzU3RhZmZzUm91dGVyKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGdpZnRzUm91dGVyO1xyXG4iLCJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcclxuXHJcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuaW1wb3J0IHtcclxuICBBZGRDYXRlZ29yeSxcclxuICBEZWxldGVDYXRlZ29yeSxcclxuICBHZXRDYXRlZ29yaWVzLFxyXG4gIEdldFNhbXBsZXNPZkNhdGVnb3JpZXNcclxufSBmcm9tICcuL2dpZnRzLXByb2R1Y3RzLWNhdGVnb3JpZXMub3BzJztcclxuaW1wb3J0IHtcclxuICBBZGRQcm9kdWN0LFxyXG4gIERlbGV0ZVByb2R1Y3QsXHJcbiAgR2V0UHJvZHVjdCxcclxuICBHZXRQcm9kdWN0c0J5Q2F0ZWdvcnksXHJcbiAgVXBkYXRlUHJvZHVjdFxyXG59IGZyb20gJy4vZ2lmdHMtcHJvZHVjdHMub3BzJztcclxuaW1wb3J0IHsgQWRqdXN0SW52ZW50b3J5LCBHZXRJbnZlbnRvcnkgfSBmcm9tICcuL2dpZnRzLXByb2R1Y3RzLWludmVudG9yeS5vcHMnO1xyXG5cclxuY29uc3QgZ2lmdHNQcm9kdWN0c1JvdXRlciA9IFJvdXRlcigpO1xyXG5cclxuZ2lmdHNQcm9kdWN0c1JvdXRlci5nZXQoJy92aWV3Lzpwcm9kdWN0X25vJywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgR2V0UHJvZHVjdChyZXEucGFyYW1zLCByZXMpO1xyXG59KTtcclxuXHJcbi8qXHJcbiAqIGlucXVpcnk6IC9hcGkvZ2lmdHMvcHJvZHVjdHNcclxuICovXHJcbmdpZnRzUHJvZHVjdHNSb3V0ZXIuZ2V0KCcvY2F0ZWdvcmllcycsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBHZXRDYXRlZ29yaWVzKHJlcyk7XHJcbn0pO1xyXG5naWZ0c1Byb2R1Y3RzUm91dGVyLnBvc3QoJy9jYXRlZ29yeScsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBBZGRDYXRlZ29yeShyZXEuYm9keSwgcmVzKTtcclxufSk7XHJcbmdpZnRzUHJvZHVjdHNSb3V0ZXIuZGVsZXRlKCcvY2F0ZWdvcnknLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgRGVsZXRlQ2F0ZWdvcnkocmVxLnF1ZXJ5LCByZXMpO1xyXG59KTtcclxuXHJcbmdpZnRzUHJvZHVjdHNSb3V0ZXIuZ2V0KCcvc2FtcGxlcycsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBHZXRTYW1wbGVzT2ZDYXRlZ29yaWVzKHJlcyk7XHJcbn0pO1xyXG5naWZ0c1Byb2R1Y3RzUm91dGVyLmdldCgnJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIEdldFByb2R1Y3RzQnlDYXRlZ29yeShyZXEsIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1Byb2R1Y3RzUm91dGVyLmdldCgnL3Byb2R1Y3QnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgR2V0UHJvZHVjdChyZXEucXVlcnksIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1Byb2R1Y3RzUm91dGVyLnBvc3QoJy9wcm9kdWN0JywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIEFkZFByb2R1Y3QocmVxLmJvZHksIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1Byb2R1Y3RzUm91dGVyLnB1dCgnL3Byb2R1Y3QnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgVXBkYXRlUHJvZHVjdChyZXEuYm9keSwgcmVzKTtcclxufSk7XHJcbmdpZnRzUHJvZHVjdHNSb3V0ZXIuZGVsZXRlKCcvcHJvZHVjdCcsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBEZWxldGVQcm9kdWN0KHJlcS5xdWVyeSwgcmVzKTtcclxufSk7XHJcblxyXG5naWZ0c1Byb2R1Y3RzUm91dGVyLmdldCgnL2ludmVudG9yeScsIChyZXEsIHJlcykgPT4ge1xyXG4gIEdldEludmVudG9yeShyZXMpO1xyXG59KTtcclxuZ2lmdHNQcm9kdWN0c1JvdXRlci5wdXQoJy9pbnZlbnRvcnknLCAocmVxLCByZXMpID0+IHtcclxuICBBZGp1c3RJbnZlbnRvcnkocmVxLmJvZHkuX2lkLCByZXEuYm9keS5xdHksIHJlcyk7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZ2lmdHNQcm9kdWN0c1JvdXRlcjtcclxuIiwiaW1wb3J0IHsgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBPYmplY3RJRCwgRGJDb2xsZWN0aW9uIH0gZnJvbSAnLi4vbW9uZ29kYi1vcHMnO1xyXG5cclxubGV0IGdsb2JhbENhdGVnb3JpZXMgPSBbXTtcclxubGV0IGdsb2JhbFNhbXBsZXNPZkNhdGVnb3JpZXMgPSBbXTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEdldENhdGVnb3JpZXMocmVzOiBSZXNwb25zZSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gYXdhaXQgR2V0Q2F0ZWdvcmllc0J5TGV2ZWwoMCk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoY2F0ZWdvcmllcyk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gR2V0U2FtcGxlc09mQ2F0ZWdvcmllcyhyZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKGdsb2JhbFNhbXBsZXNPZkNhdGVnb3JpZXMubGVuZ3RoID4gMCkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGdsb2JhbFNhbXBsZXNPZkNhdGVnb3JpZXMpO1xyXG4gIH1cclxuICB0cnkge1xyXG4gICAgZ2xvYmFsU2FtcGxlc09mQ2F0ZWdvcmllcyA9IGF3YWl0IEdldFNhbXBsZXMoKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChnbG9iYWxTYW1wbGVzT2ZDYXRlZ29yaWVzKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBBZGRDYXRlZ29yeShib2R5OiBhbnksIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIWJvZHkubmFtZSB8fCAhYm9keS5jYXRlZ29yeSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIGlucHV0LicpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiQ29sbGVjdGlvbiA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtcHJvZHVjdHMtY2F0YWxvZycpO1xyXG4gICAgYXdhaXQgZGJDb2xsZWN0aW9uLmluc2VydE9uZSh7IG5hbWU6IGJvZHkubmFtZSwgY2F0ZWdvcnk6IGJvZHkuY2F0ZWdvcnkgfSk7XHJcbiAgICBnbG9iYWxDYXRlZ29yaWVzID0gW107XHJcbiAgICBnbG9iYWxTYW1wbGVzT2ZDYXRlZ29yaWVzID0gW107XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gRGVsZXRlQ2F0ZWdvcnkocXVlcnk6IGFueSwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghcXVlcnkuX2lkKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgaW5wdXQuJyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgZGJDb2xsZWN0aW9uID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1wcm9kdWN0cy1jYXRhbG9nJyk7XHJcbiAgICBhd2FpdCBkYkNvbGxlY3Rpb24uZGVsZXRlT25lKHsgX2lkOiBuZXcgT2JqZWN0SUQocXVlcnkuX2lkKSB9KTtcclxuICAgIGdsb2JhbENhdGVnb3JpZXMgPSBbXTtcclxuICAgIGdsb2JhbFNhbXBsZXNPZkNhdGVnb3JpZXMgPSBbXTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBAbGV2ZWw6XHJcbi8vIDAgLSBhbGw7ICAxIC0gMXN0IGxldmVsOyAgMiAtIDJuZCBhbmQgYWJvdmUgbGV2ZWxzXHJcbmFzeW5jIGZ1bmN0aW9uIEdldENhdGVnb3JpZXNCeUxldmVsKGxldmVsOiBudW1iZXIpIHtcclxuICBpZiAoZ2xvYmFsQ2F0ZWdvcmllcy5sZW5ndGggPD0gMCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgZ2xvYmFsQ2F0ZWdvcmllcyA9IGF3YWl0IEdldENhdGVnb3JpZXNGcm9tRGIoKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgdGhyb3cgZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmIChsZXZlbCA9PT0gMCkge1xyXG4gICAgcmV0dXJuIGdsb2JhbENhdGVnb3JpZXM7XHJcbiAgfVxyXG4gIGNvbnN0IHJldHVybkNhdGVnb3JpZXMgPSBbXTtcclxuICBnbG9iYWxDYXRlZ29yaWVzLmZvckVhY2goY2F0ID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGNhdC5jYXRlZ29yeS5tYXRjaChuZXcgUmVnRXhwKCcvJywgJ2cnKSkpO1xyXG4gICAgaWYgKGNhdC5jYXRlZ29yeS5tYXRjaChuZXcgUmVnRXhwKCcvJywgJ2cnKSkubGVuZ3RoIDw9IGxldmVsKSB7XHJcbiAgICAgIHJldHVybkNhdGVnb3JpZXMucHVzaChjYXQpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHJldHVybiByZXR1cm5DYXRlZ29yaWVzO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBHZXRDYXRlZ29yaWVzRnJvbURiKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYkNvbGxlY3Rpb24gPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLXByb2R1Y3RzLWNhdGFsb2cnKTtcclxuICAgIGdsb2JhbENhdGVnb3JpZXMgPSBhd2FpdCBkYkNvbGxlY3Rpb25cclxuICAgICAgLmZpbmQoKVxyXG4gICAgICAuc29ydCgnY2F0ZWdvcnknLCAxKVxyXG4gICAgICAudG9BcnJheSgpO1xyXG4gICAgcmV0dXJuIGdsb2JhbENhdGVnb3JpZXM7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgdGhyb3cgeyBlcnJNc2c6ICdHZXQgY2F0ZWdvcmllcyBmcm9tIGRhdGFiYXNlIGZhaWxlZC4nIH07XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBHZXRTYW1wbGVzKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYkNvbGxlY3Rpb24gPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLXByb2R1Y3RzJyk7XHJcbiAgICBsZXQgZG9jcyA9IG51bGw7XHJcbiAgICBkb2NzID0gYXdhaXQgZGJDb2xsZWN0aW9uXHJcbiAgICAgIC5hZ2dyZWdhdGUoW1xyXG4gICAgICAgIHsgJHNvcnQ6IHsgX2lkOiAtMSB9IH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgJGdyb3VwOiB7XHJcbiAgICAgICAgICAgIF9pZDogeyBjYXRlZ29yeTogJyRjYXRlZ29yeScgfSxcclxuICAgICAgICAgICAgcHJvZHVjdHM6IHtcclxuICAgICAgICAgICAgICAkcHVzaDoge1xyXG4gICAgICAgICAgICAgICAgX2lkOiAnJF9pZCcsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJyRjYXRlZ29yeScsXHJcbiAgICAgICAgICAgICAgICBpbWc6ICckaW1nJ1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgJHByb2plY3Q6IHtcclxuICAgICAgICAgICAgX2lkOiAnJF9pZCcsXHJcbiAgICAgICAgICAgIHByb2R1Y3RzOiB7XHJcbiAgICAgICAgICAgICAgJHNsaWNlOiBbXHJcbiAgICAgICAgICAgICAgICAnJHByb2R1Y3RzJyxcclxuICAgICAgICAgICAgICAgIDQgLy8gbWF4IG51bWJlciBvZiBlbGVtZW50cyByZXR1cm5lZCBmcm9tIHRoZSBzdGFydCBvZiB0aGUgYXJyYXlcclxuICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIF0pXHJcbiAgICAgIC50b0FycmF5KCk7XHJcbiAgICByZXR1cm4gZG9jcztcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIHJldHVybiB7IGVyck1zZzogJ0dldCBwcm9kdWN0cyBmYWlsZWQuJyB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgQWRkQ2F0ZWdvcnksIERlbGV0ZUNhdGVnb3J5LCBHZXRDYXRlZ29yaWVzLCBHZXRTYW1wbGVzT2ZDYXRlZ29yaWVzIH07XHJcbiIsImltcG9ydCB7IERiQ29sbGVjdGlvbiwgTW9uZ29EYiwgT2JqZWN0SUQgfSBmcm9tICcuLi9tb25nb2RiLW9wcyc7XHJcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEdldFByb2R1Y3QocGFyYW1zOiBhbnksIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIXBhcmFtcy5faWQpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBwcm9kdWN0IG5vLicpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgTW9uZ29EYigpO1xyXG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IGRiXHJcbiAgICAgIC5jb2xsZWN0aW9uKCdnaWZ0cy1wcm9kdWN0cycpXHJcbiAgICAgIC5maW5kT25lKHsgX2lkOiBuZXcgT2JqZWN0SUQocGFyYW1zLl9pZCkgfSk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQocHJvZHVjdCk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gR2V0UHJvZHVjdHNCeUNhdGVnb3J5KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYkNvbGxlY3Rpb24gPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLXByb2R1Y3RzJyk7XHJcbiAgICBsZXQgZG9jcyA9IG51bGw7XHJcbiAgICBpZiAocmVxLnF1ZXJ5LmNhdGVnb3J5KSB7XHJcbiAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChbJ14nLCByZXEucXVlcnkuY2F0ZWdvcnkudHJpbSgpXS5qb2luKCcnKSwgJ2knKTtcclxuICAgICAgZG9jcyA9IGF3YWl0IGRiQ29sbGVjdGlvbi5maW5kKHsgY2F0ZWdvcnk6IHJlZ2V4IH0pLnRvQXJyYXkoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRvY3MgPSBhd2FpdCBkYkNvbGxlY3Rpb24uZmluZCgpLnRvQXJyYXkoKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChkb2NzKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBBZGRQcm9kdWN0KGJvZHk6IGFueSwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghYm9keS5uYW1lKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgaW5wdXQuJyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBNb25nb0RiKCk7XHJcbiAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKCdnaWZ0cy1wcm9kdWN0cycpLmluc2VydE9uZSh7XHJcbiAgICAgIG5hbWU6IGJvZHkubmFtZSxcclxuICAgICAgaW1nOiBib2R5LmltZyxcclxuICAgICAgcHJpY2U6IGJvZHkucHJpY2UsXHJcbiAgICAgIGNhdGVnb3J5OiBib2R5LmNhdGVnb3J5LFxyXG4gICAgICBjb2xvcjogYm9keS5jb2xvcixcclxuICAgICAgcGFja2FnaW5nOiBib2R5LnBhY2thZ2luZyxcclxuICAgICAgbWF0ZXJpYWw6IGJvZHkubWF0ZXJpYWwsXHJcbiAgICAgIHNpemU6IGJvZHkuc2l6ZSxcclxuICAgICAgbm90ZTogYm9keS5ub3RlLFxyXG4gICAgICByZXRhaWxlcjogYm9keS5yZXRhaWxlcixcclxuICAgICAgY3JlYXRlZE9uOiBuZXcgRGF0ZSgpXHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBVcGRhdGVQcm9kdWN0KGJvZHk6IGFueSwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghYm9keS5faWQpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBpbnB1dC4nKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYlByb2R1Y3RzID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1wcm9kdWN0cycpO1xyXG4gICAgYXdhaXQgZGJQcm9kdWN0cy51cGRhdGVPbmUoXHJcbiAgICAgIHsgX2lkOiBuZXcgT2JqZWN0SUQoYm9keS5faWQpIH0sXHJcbiAgICAgIHtcclxuICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICBtb2RpZmllZE9uOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgbmFtZTogYm9keS5uYW1lLFxyXG4gICAgICAgICAgaW1nOiBib2R5LmltZyxcclxuICAgICAgICAgIHByaWNlOiBib2R5LnByaWNlLFxyXG4gICAgICAgICAgY2F0ZWdvcnk6IGJvZHkuY2F0ZWdvcnksXHJcbiAgICAgICAgICBjb2xvcjogYm9keS5jb2xvcixcclxuICAgICAgICAgIHBhY2thZ2luZzogYm9keS5wYWNrYWdpbmcsXHJcbiAgICAgICAgICBtYXRlcmlhbDogYm9keS5tYXRlcmlhbCxcclxuICAgICAgICAgIHNpemU6IGJvZHkuc2l6ZSxcclxuICAgICAgICAgIG5vdGU6IGJvZHkubm90ZSxcclxuICAgICAgICAgIHJldGFpbGVyOiBib2R5LnJldGFpbGVyXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIERlbGV0ZVByb2R1Y3QocXVlcnk6IGFueSwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghcXVlcnkuX2lkKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgaW5wdXQuJyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBNb25nb0RiKCk7XHJcbiAgICBhd2FpdCBkYlxyXG4gICAgICAuY29sbGVjdGlvbignZ2lmdHMtcHJvZHVjdHMnKVxyXG4gICAgICAuZGVsZXRlT25lKHsgX2lkOiBuZXcgT2JqZWN0SUQocXVlcnkuX2lkKSB9KTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIEFkZFByb2R1Y3QsXHJcbiAgRGVsZXRlUHJvZHVjdCxcclxuICBHZXRQcm9kdWN0c0J5Q2F0ZWdvcnksXHJcbiAgR2V0UHJvZHVjdCxcclxuICBVcGRhdGVQcm9kdWN0XHJcbn07XHJcbiIsImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xyXG5cclxuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5cclxuY29uc3QgZ2lmdHNPcmRlcnNSb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbi8vIG9yZGVyIGxpc3Qgd2l0aCBvcmRlcl9ubywgc3RhdHVzICYgc3RhZmYgaWQgdG8gZm9sbG93LXVwLlxyXG5naWZ0c09yZGVyc1JvdXRlci5nZXQoJy9hbGxPcmRlcnMnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgaWYgKCFyZXEuc2Vzc2lvbiB8fCAhcmVxLnNlc3Npb24uc3RhZmYpIHtcclxuICAgIHJldHVybiByZXMuc2VuZFN0YXR1cyg0MDEpO1xyXG4gIH1cclxuICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbn0pO1xyXG5cclxuLy8gdXBkYXRlIG9yZGVyIHN0YXR1cyBieSBzdGFmZiBmb2xsb3ctdXAuXHJcbmdpZnRzT3JkZXJzUm91dGVyLnB1dCgnL3VwZGF0ZVN0YXR1cycsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBpZiAoIXJlcS5zZXNzaW9uIHx8ICFyZXEuc2Vzc2lvbi5zdGFmZi5pZCkge1xyXG4gICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMSk7XHJcbiAgfVxyXG4gIGlmICghcmVxLmJvZHkubmV3X3N0YXR1cyB8fCAhcmVxLmJvZHkuc25vIHx8ICFyZXEuYm9keS5vcmRlcl9ubykge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdGYWlsZWQuIFBsZWFlcyByZXZpZXcgaW5wdXRzLicpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcGFyYW0gPSB7XHJcbiAgICAxOiByZXEuYm9keS5vcmRlcl9ubyxcclxuICAgIDI6IHJlcS5ib2R5LnNubyxcclxuICAgIDM6IERhdGUubm93KCksXHJcbiAgICA0OiByZXEuc2Vzc2lvbi5zdGFmZi5pZCxcclxuICAgIDU6IHJlcS5ib2R5Lm5ld19zdGF0dXMsXHJcbiAgICA2OiByZXEuYm9keS5ub3RlIHx8IG51bGxcclxuICB9O1xyXG4gIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxufSk7XHJcblxyXG4vLyBzdGFmZiB0byB1cGRhdGUgY29udGFjdCBpbmZvIG9mIHRoZSBvcmRlci5cclxuZ2lmdHNPcmRlcnNSb3V0ZXIucHV0KCcvdXBkYXRlQ29udGFjdCcsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBpZiAoIXJlcS5zZXNzaW9uIHx8ICFyZXEuc2Vzc2lvbi5zdGFmZi5pZCkge1xyXG4gICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMSk7XHJcbiAgfVxyXG4gIGlmICghcmVxLmJvZHkub3JkZXJfbm8pIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnT3JkZXJfbm8gZW1wdHkuJyk7XHJcbiAgfSBlbHNlIGlmIChcclxuICAgICFyZXEuYm9keS5lbWFpbCB8fFxyXG4gICAgIXJlcS5ib2R5LmVtYWlsLmluY2x1ZGVzKCdAJykgfHxcclxuICAgICFyZXEuYm9keS5lbWFpbC5pbmNsdWRlcygnLicpIHx8XHJcbiAgICByZXEuYm9keS5lbWFpbC5pbmNsdWRlcygnLycpIHx8XHJcbiAgICByZXEuYm9keS5lbWFpbC5pbmNsdWRlcygnXFxcXCcpXHJcbiAgKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgZW1haWwuJyk7XHJcbiAgfSBlbHNlIGlmICghcmVxLmJvZHkubmFtZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIG5hbWUuJyk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBwYXJhbSA9IHtcclxuICAgIDE6IHJlcS5ib2R5Lm5hbWUsXHJcbiAgICAyOiByZXEuYm9keS5lbWFpbCxcclxuICAgIDM6IHJlcS5ib2R5Lm1vYmlsZSB8fCBudWxsLFxyXG4gICAgNDogcmVxLmJvZHkuY29tcGFueSB8fCBudWxsLFxyXG4gICAgNTogcmVxLmJvZHkubW9iaWxlMiB8fCBudWxsLFxyXG4gICAgNjogcmVxLmJvZHkuYWRkciB8fCBudWxsLFxyXG4gICAgNzogcmVxLmJvZHkub3JkZXJfbm9cclxuICB9O1xyXG4gIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxufSk7XHJcblxyXG4vLyBzdGFmZiB0byBjaGFuZ2Ugb3JkZXIgZGV0YWlscyBlLmcuIHByaWNlLCBxdHksIGluIGNhc2UgdXNlcnMgY2hhbmdlZCBtaW5kLlxyXG4vLyBzdGFmZiBtYXkgY2hhbmdlIHN0YXR1cyBvZiBzcGVjaWZpYyBwcm9kdWN0IG9mIHRoZSBvcmRlci5cclxuZ2lmdHNPcmRlcnNSb3V0ZXIucHV0KCcvdXBkYXRlT3JkZXJJdGVtJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIGlmICghcmVxLnNlc3Npb24gfHwgIXJlcS5zZXNzaW9uLnN0YWZmLmlkKSB7XHJcbiAgICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoNDAxKTtcclxuICB9XHJcblxyXG4gIGlmICghcmVxLmJvZHkub3JkZXJfbm8pIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnRmFpbGVkLiBJbnZhbGlkIE9yZGVyIE5vLicpO1xyXG4gIH1cclxuICBpZiAoIXJlcS5ib2R5LnNubyB8fCByZXEuYm9keS5zbm8gPT09ICcnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ZhaWxlZC4gSW52YWxpZCBPcmRlciBTbm8uJyk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBwYXJhbSA9IHtcclxuICAgIDE6IHJlcS5ib2R5Lm5ld19zYWxlX3ByaWNlLFxyXG4gICAgMjogcmVxLmJvZHkubmV3X3F0eSxcclxuICAgIDM6IHJlcS5ib2R5Lm5ld19zdGF0dXMsXHJcbiAgICA0OiByZXEuYm9keS5vcmRlcl9ubyxcclxuICAgIDU6IHJlcS5ib2R5LnNub1xyXG4gIH07XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGdpZnRzT3JkZXJzUm91dGVyO1xyXG4iLCJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcclxuXHJcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuaW1wb3J0IHtcclxuICBMb2dpbixcclxuICBMb2dvdXQsXHJcbiAgUmVnaXN0ZXIsXHJcbiAgRGVsZXRlVXNlcixcclxuICBVc2VySW5mb1xyXG59IGZyb20gJy4vZ2lmdHMtdXNlcnMub3BzJztcclxuaW1wb3J0IHtcclxuICBBZGRUb0NhcnQsXHJcbiAgQ2FydENoZWNrb3V0LFxyXG4gIERlbGV0ZUNhcnQsXHJcbiAgRGVsZXRlSW5DYXJ0LFxyXG4gIEdldENhcnQsXHJcbiAgVXBkYXRlQ2FydFF0eVxyXG59IGZyb20gJy4vZ2lmdHMtY2FydHMub3BzJztcclxuXHJcbmNvbnN0IGdpZnRzVXNlcnNSb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbi8vIHVybDogL2FwaS9naWZ0cy91c2Vycy9cclxuZ2lmdHNVc2Vyc1JvdXRlci5wb3N0KCcvbG9naW4nLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgTG9naW4ocmVxLCByZXMpO1xyXG59KTtcclxuZ2lmdHNVc2Vyc1JvdXRlci5nZXQoJy9pbmZvJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIFVzZXJJbmZvKHJlcS5zZXNzaW9uLCByZXMpO1xyXG59KTtcclxuZ2lmdHNVc2Vyc1JvdXRlci5nZXQoJy9sb2dvdXQnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgTG9nb3V0KHJlcSwgcmVzKTtcclxufSk7XHJcbmdpZnRzVXNlcnNSb3V0ZXIucG9zdCgnL3JlZ2lzdGVyJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIFJlZ2lzdGVyKHJlcSwgcmVzKTtcclxufSk7XHJcbmdpZnRzVXNlcnNSb3V0ZXIuZGVsZXRlKCcvZGVsZXRldXNlcicsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBEZWxldGVVc2VyKHJlcS5zZXNzaW9uLCByZXMpO1xyXG59KTtcclxuZ2lmdHNVc2Vyc1JvdXRlci5nZXQoJy9jYXJ0JywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIEdldENhcnQocmVxLnNlc3Npb24sIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1VzZXJzUm91dGVyLnBvc3QoJy9jYXJ0JywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIEFkZFRvQ2FydChyZXEuc2Vzc2lvbiwgcmVxLmJvZHksIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1VzZXJzUm91dGVyLmRlbGV0ZSgnL2NhcnQnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgRGVsZXRlQ2FydChyZXEuc2Vzc2lvbiwgcmVzKTtcclxufSk7XHJcbmdpZnRzVXNlcnNSb3V0ZXIucHV0KCcvY2FydCcsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBVcGRhdGVDYXJ0UXR5KHJlcSwgcmVzKTtcclxufSk7XHJcbmdpZnRzVXNlcnNSb3V0ZXIuZGVsZXRlKCcvY2FydC9wcm9kdWN0JywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIERlbGV0ZUluQ2FydChyZXEuc2Vzc2lvbiwgcmVxLnF1ZXJ5Ll9pZCwgcmVzKTtcclxufSk7XHJcbmdpZnRzVXNlcnNSb3V0ZXIucG9zdCgnL2NhcnQvY2hlY2tvdXQnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgQ2FydENoZWNrb3V0KHJlcSwgcmVzKTtcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBnaWZ0c1VzZXJzUm91dGVyO1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjcnlwdG9cIik7IiwiaW1wb3J0IHsgRGJDb2xsZWN0aW9uLCBNb25nb0RiLCBPYmplY3RJRCB9IGZyb20gJy4uL21vbmdvZGItb3BzJztcclxuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyByYW5kb21TdHJpbmcgfSBmcm9tICcuLi9zdHJpbmctb3BzJztcclxuXHJcbmltcG9ydCB7IGJMb2dpbiB9IGZyb20gJy4vZ2lmdHMtdXNlcnMub3BzJztcclxuaW1wb3J0IHsgQ2FydEl0ZW0gfSBmcm9tICcuL3VzZXJzLWludGVyZmFjZSc7XHJcbmltcG9ydCB7XHJcbiAgRGVsZXRlSW52ZW50b3J5UmVzZXJ2YXRpb24sXHJcbiAgUmVzZXJ2ZUludmVudG9yeVxyXG59IGZyb20gJy4uL2dpZnRzLXByb2R1Y3RzL2dpZnRzLXByb2R1Y3RzLWludmVudG9yeS5vcHMnO1xyXG5pbXBvcnQgeyBOZXdPcmRlciB9IGZyb20gJy4uL2dpZnRzLW9yZGVycy9naWZ0cy1vcmRlcnMub3BzJztcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEdldENhcnQoc2Vzc2lvbjogYW55LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFiTG9naW4oc2Vzc2lvbikpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuc2VuZCgnVXNlciBub3QgbG9naW4nKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtY2FydHMnKTtcclxuICAgIGNvbnN0IGNhcnQgPSBhd2FpdCBkYi5maW5kT25lKHsgX2lkOiBuZXcgT2JqZWN0SUQoc2Vzc2lvbi51c2VyLl9pZCkgfSk7XHJcbiAgICBjb25zb2xlLmxvZyhjYXJ0KTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChjYXJ0KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBBZGRUb0NhcnQoc2Vzc2lvbjogYW55LCBib2R5OiBhbnksIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIWJMb2dpbihzZXNzaW9uKSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKCdVc2VyIG5vdCBsb2dpbicpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1jYXJ0cycpO1xyXG4gICAgbGV0IHJzbHQgPSBhd2FpdCBkYi51cGRhdGVPbmUoXHJcbiAgICAgIHsgX2lkOiBuZXcgT2JqZWN0SUQoc2Vzc2lvbi51c2VyLl9pZCkgfSxcclxuICAgICAgeyAkcHVsbDogeyBwcm9kdWN0czogeyBwcm9kdWN0SWQ6IG5ldyBPYmplY3RJRChib2R5LnByb2R1Y3QuX2lkKSB9IH0gfVxyXG4gICAgKTtcclxuICAgIHJzbHQgPSBhd2FpdCBkYi51cGRhdGVPbmUoXHJcbiAgICAgIHsgX2lkOiBuZXcgT2JqZWN0SUQoc2Vzc2lvbi51c2VyLl9pZCkgfSxcclxuICAgICAge1xyXG4gICAgICAgICRwdXNoOiB7XHJcbiAgICAgICAgICBwcm9kdWN0czoge1xyXG4gICAgICAgICAgICBwcm9kdWN0SWQ6IG5ldyBPYmplY3RJRChib2R5LnByb2R1Y3QuX2lkKSxcclxuICAgICAgICAgICAgcXVhbnRpdHk6IGJvZHkucXR5LFxyXG4gICAgICAgICAgICBuYW1lOiBib2R5LnByb2R1Y3QubmFtZSxcclxuICAgICAgICAgICAgcHJpY2U6IGJvZHkucHJvZHVjdC5wcmljZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgeyB1cHNlcnQ6IHRydWUgfVxyXG4gICAgKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBVcGRhdGVDYXJ0UXR5KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghYkxvZ2luKHJlcS5zZXNzaW9uKSkge1xyXG4gICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoJ1VzZXIgbm90IGxvZ2luLicpO1xyXG4gIH1cclxuICBpZiAoIXJlcS5ib2R5LnByb2R1Y3RJZCB8fCAhcmVxLmJvZHkucXR5KSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgaW5wdXQuJyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBNb25nb0RiKCk7XHJcbiAgICBjb25zdCByc2x0ID0gYXdhaXQgZGIuY29sbGVjdGlvbignZ2lmdHMtY2FydHMnKS51cGRhdGVPbmUoXHJcbiAgICAgIHtcclxuICAgICAgICBfaWQ6IHJlcS5zZXNzaW9uLnVzZXIuX2lkLFxyXG4gICAgICAgICdwcm9kdWN0cy5wcm9kdWN0SWQnOiByZXEuYm9keS5wcm9kdWN0SWRcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgICRzZXQ6IHtcclxuICAgICAgICAgICdwcm9kdWN0cy4kLnF0eSc6IHJlcS5ib2R5LnF0eSxcclxuICAgICAgICAgIG1vZGlmaWVkT246IG5ldyBEYXRlKClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gRGVsZXRlQ2FydChzZXNzaW9uOiBhbnksIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIWJMb2dpbihzZXNzaW9uKSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdVc2VyIG5vdCBsb2dpbi4nKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtY2FydHMnKTtcclxuICAgIGRiLmRlbGV0ZU9uZSh7IF9pZDogbmV3IE9iamVjdElEKHNlc3Npb24udXNlci5faWQpIH0pO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIERlbGV0ZUluQ2FydChzZXNzaW9uOiBhbnksIF9pZDogc3RyaW5nLCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFiTG9naW4oc2Vzc2lvbikpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnVXNlciBub3QgbG9naW4uJyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLWNhcnRzJyk7XHJcbiAgICBsZXQgcnNsdCA9IGF3YWl0IGRiLnVwZGF0ZU9uZShcclxuICAgICAgeyBfaWQ6IG5ldyBPYmplY3RJRChzZXNzaW9uLnVzZXIuX2lkKSB9LFxyXG4gICAgICB7ICRwdWxsOiB7IHByb2R1Y3RzOiB7IHByb2R1Y3RJZDogbmV3IE9iamVjdElEKF9pZCkgfSB9IH1cclxuICAgICk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gQ2FydENoZWNrb3V0KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmIChcclxuICAgICFyZXEuYm9keS5jYXJ0IHx8XHJcbiAgICAhcmVxLmJvZHkuY2FydC5jdXN0b21lciB8fFxyXG4gICAgIXJlcS5ib2R5LmNhcnQuY3VzdG9tZXIubmFtZSB8fFxyXG4gICAgIXJlcS5ib2R5LmNhcnQuY3VzdG9tZXIubW9iaWxlIHx8XHJcbiAgICAhcmVxLmJvZHkuY2FydC5jdXN0b21lci5hZGRyZXNzXHJcbiAgKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgY3VzdG9tZXIgaW5mb3JtYXRpb24uJyk7XHJcbiAgfVxyXG4gIGlmIChyZXEuYm9keS5jYXJ0LnRvdGFsIDw9IDApIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnTm8gcHJvZHVjdCB0byBjaGVja291dC4nKTtcclxuICB9XHJcblxyXG4gIGxldCBiTWVtYmVyOiBib29sZWFuID0gYkxvZ2luKHJlcS5zZXNzaW9uKTtcclxuXHJcbiAgbGV0IGlkID0gJyc7XHJcbiAgaWYgKGJNZW1iZXIpIHtcclxuICAgIGlkID0gcmVxLnNlc3Npb24udXNlci5faWQ7XHJcbiAgfSBlbHNlIHtcclxuICAgIGlkID0gcmFuZG9tU3RyaW5nKDIwKTtcclxuICB9XHJcbiAgY29uc3QgY2FydEl0ZW1zOiBDYXJ0SXRlbVtdID0gcmVxLmJvZHkuY2FydC5jYXJ0SXRlbXM7XHJcbiAgY29uc3QgY3VzdG9tZXIgPSByZXEuYm9keS5jYXJ0LmN1c3RvbWVyO1xyXG5cclxuICB0cnkge1xyXG4gICAgLy8gcmVzZXJ2ZSBpbnZlbnRvcnksIGl0IHRocm93IGVycm9yIGluIGNhc2Ugb2YgZmFpbHVyZS5cclxuICAgIGF3YWl0IFJlc2VydmVJbnZlbnRvcnkoaWQsIGNhcnRJdGVtcyk7XHJcblxyXG4gICAgbGV0IGluc2VydFJzbHQgPSBhd2FpdCBOZXdPcmRlcihjdXN0b21lciwgY2FydEl0ZW1zKTtcclxuICAgIGlmIChpbnNlcnRSc2x0LnJlc3VsdC5uIDw9IDApIHtcclxuICAgICAgYXdhaXQgRGVsZXRlSW52ZW50b3J5UmVzZXJ2YXRpb24oaWQpO1xyXG4gICAgICB0aHJvdyAnQ3JlYXRlIG5ldyBvcmRlciBmYWlsZWQuJztcclxuICAgIH1cclxuXHJcbiAgICBsZXQgdXBkYXRlUnNsdCA9IGF3YWl0IERlbGV0ZUludmVudG9yeVJlc2VydmF0aW9uKGlkKTtcclxuICAgIGNvbnNvbGUubG9nKHVwZGF0ZVJzbHQpO1xyXG5cclxuICAgIGlmIChiTWVtYmVyKSB7XHJcbiAgICAgIGNvbnN0IGRiQ2FydHMgPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLWNhcnRzJyk7XHJcbiAgICAgIGxldCBkZWxldGVSc2x0ID0gYXdhaXQgZGJDYXJ0cy5kZWxldGVPbmUoeyBfaWQ6IG5ldyBPYmplY3RJRChpZCkgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgb3JkZXJJZDogaWQgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5lcnJvcihlKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgQWRkVG9DYXJ0LFxyXG4gIENhcnRDaGVja291dCxcclxuICBEZWxldGVDYXJ0LFxyXG4gIERlbGV0ZUluQ2FydCxcclxuICBHZXRDYXJ0LFxyXG4gIFVwZGF0ZUNhcnRRdHlcclxufTtcclxuIiwiaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBEYkNvbGxlY3Rpb24sIE9iamVjdElEIH0gZnJvbSAnLi4vbW9uZ29kYi1vcHMnO1xyXG5pbXBvcnQgeyBiTG9naW4gfSBmcm9tICcuLi9naWZ0cy11c2Vycy9naWZ0cy11c2Vycy5vcHMnO1xyXG5pbXBvcnQgeyBDYXJ0SXRlbSB9IGZyb20gJy4uL2dpZnRzLXVzZXJzL3VzZXJzLWludGVyZmFjZSc7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBOZXdPcmRlcihjdXN0b21lciwgY2FydEl0ZW1zOiBDYXJ0SXRlbVtdKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiT3JkZXJzID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1vcmRlcnMnKTtcclxuICAgIGxldCBpbnNlcnRSc2x0ID0gZGJPcmRlcnMuaW5zZXJ0T25lKHtcclxuICAgICAgY3JlYXRlZF9vbjogbmV3IERhdGUoKSxcclxuICAgICAgc2hpcHBpbmc6IHtcclxuICAgICAgICBuYW1lOiBjdXN0b21lci5uYW1lLFxyXG4gICAgICAgIG1vYmlsZTogY3VzdG9tZXIubW9iaWxlLFxyXG4gICAgICAgIGFkZHJlc3M6IGN1c3RvbWVyLmFkZHJlc3MsXHJcbiAgICAgICAgbWVzc2FnZTogY3VzdG9tZXIubWVzc2FnZVxyXG4gICAgICB9LFxyXG4gICAgICBwYXltZW50OiB7IG1ldGhvZDogJ3Zpc2EnLCB0cmFuc2FjdGlvbl9pZDogJzIzMTIyMTMzMTJYWFhURCcgfSxcclxuICAgICAgY2FydEl0ZW1zOiBjYXJ0SXRlbXNcclxuICAgIH0pO1xyXG4gICAgY29uc29sZS5sb2coJ2luc2VydFJzbHQ6ICcsIGluc2VydFJzbHQpO1xyXG4gICAgcmV0dXJuIGluc2VydFJzbHQ7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgdGhyb3cgJ2NyZWF0ZSBuZXcgb3JkZXIgZmFpbGVkLic7XHJcbiAgfVxyXG59XHJcbi8vIGFzeW5jIGZ1bmN0aW9uIEdldENhcnQocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XHJcbi8vICAgaWYgKCFiTG9naW4ocmVxLnNlc3Npb24pKSB7XHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLnNlbmQoJ1VzZXIgbm90IGxvZ2luJyk7XHJcbi8vICAgfVxyXG5cclxuLy8gICB0cnkge1xyXG4vLyAgICAgY29uc3QgZGIgPSBhd2FpdCBNb25nb0RiKCk7XHJcbi8vICAgICBsZXQgY2FydCA9IGF3YWl0IGRiXHJcbi8vICAgICAgIC5jb2xsZWN0aW9uKCdnaWZ0cy1jYXJ0cycpXHJcbi8vICAgICAgIC5maW5kKHsgX2lkOiByZXEuc2Vzc2lvbi51c2VyWzBdLl9pZCB9KVxyXG4vLyAgICAgICAudG9BcnJheSgpO1xyXG5cclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChjYXJ0KTtcclxuLy8gICB9IGNhdGNoIChlKSB7XHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbi8vICAgfVxyXG4vLyB9XHJcblxyXG4vLyBhc3luYyBmdW5jdGlvbiBVcGRhdGVDYXJ0UXR5KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4vLyAgIGlmICghYkxvZ2luKHJlcS5zZXNzaW9uKSkge1xyXG4vLyAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoJ1VzZXIgbm90IGxvZ2luLicpO1xyXG4vLyAgIH1cclxuLy8gICBpZiAoIXJlcS5ib2R5LnByb2R1Y3RJZCB8fCAhcmVxLmJvZHkucXVhbnRpdHkpIHtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBpbnB1dC4nKTtcclxuLy8gICB9XHJcblxyXG4vLyAgIHRyeSB7XHJcbi8vICAgICBjb25zdCBkYiA9IGF3YWl0IE1vbmdvRGIoKTtcclxuLy8gICAgIGxldCByc2x0ID0gYXdhaXQgZGIuY29sbGVjdGlvbignZ2lmdHMtY2FydHMnKS51cGRhdGVPbmUoXHJcbi8vICAgICAgIHtcclxuLy8gICAgICAgICBfaWQ6IHJlcS5zZXNzaW9uLnVzZXJbMF0uX2lkLFxyXG4vLyAgICAgICAgICdwcm9kdWN0cy5wcm9kdWN0SWQnOiByZXEuYm9keS5wcm9kdWN0SWRcclxuLy8gICAgICAgfSxcclxuLy8gICAgICAge1xyXG4vLyAgICAgICAgICRzZXQ6IHtcclxuLy8gICAgICAgICAgICdwcm9kdWN0cy4kLnF1YW50aXR5JzogcmVxLmJvZHkucXVhbnRpdHksXHJcbi8vICAgICAgICAgICBtb2RpZmllZE9uOiBuZXcgRGF0ZSgpXHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICB9XHJcbi8vICAgICApO1xyXG4vLyAgICAgY29uc29sZS5sb2cocnNsdCk7XHJcbi8vICAgICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoMjAwKTtcclxuLy8gICB9IGNhdGNoIChlKSB7XHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbi8vICAgfVxyXG4vLyB9XHJcblxyXG4vLyBhc3luYyBmdW5jdGlvbiBEZWxldGVDYXJ0KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4vLyAgIGlmICghYkxvZ2luKHJlcS5zZXNzaW9uKSkge1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdVc2VyIG5vdCBsb2dpbi4nKTtcclxuLy8gICB9XHJcblxyXG4vLyAgIHRyeSB7XHJcbi8vICAgICBjb25zdCBkYiA9IGF3YWl0IE1vbmdvRGIoKTtcclxuLy8gICAgIGF3YWl0IGRiXHJcbi8vICAgICAgIC5jb2xsZWN0aW9uKCdnaWZ0cy1jYXJ0cycpXHJcbi8vICAgICAgIC5kZWxldGVPbmUoeyBfaWQ6IHJlcS5zZXNzaW9uLnVzZXJbMF0uX2lkIH0pO1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDIwMCk7XHJcbi8vICAgfSBjYXRjaCAoZSkge1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLy8gYXN5bmMgZnVuY3Rpb24gRGVsZXRlQ2FydFByb2R1Y3QocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XHJcbi8vICAgaWYgKCFiTG9naW4ocmVxLnNlc3Npb24pKSB7XHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ1VzZXIgbm90IGxvZ2luLicpO1xyXG4vLyAgIH1cclxuXHJcbi8vICAgdHJ5IHtcclxuLy8gICAgIGNvbnN0IGRiID0gYXdhaXQgTW9uZ29EYigpO1xyXG4vLyAgICAgYXdhaXQgZGIuY29sbGVjdGlvbignZ2lmdHMtY2FydHMnKS51cGRhdGVPbmUoXHJcbi8vICAgICAgIHsgX2lkOiByZXEuc2Vzc2lvbi51c2VyWzBdLl9pZCB9LFxyXG4vLyAgICAgICB7XHJcbi8vICAgICAgICAgJHNldDogeyBtb2RpZmllZE9uOiBuZXcgRGF0ZSgpIH0sXHJcbi8vICAgICAgICAgJHB1bGw6IHtcclxuLy8gICAgICAgICAgIHByb2R1Y3RzOiB7XHJcbi8vICAgICAgICAgICAgIHByb2R1Y3RJZDogcmVxLmJvZHkucHJvZHVjdElkLFxyXG4vLyAgICAgICAgICAgICBxdWFudGl0eTogcmVxLmJvZHkucXVhbnRpdHlcclxuLy8gICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgIH1cclxuLy8gICAgICk7XHJcbi8vICAgICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoMjAwKTtcclxuLy8gICB9IGNhdGNoIChlKSB7XHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbi8vICAgfVxyXG4vLyB9XHJcblxyXG4vLyBhc3luYyBmdW5jdGlvbiBDYXJ0Q2hlY2tvdXQocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XHJcbi8vICAgaWYgKCFiTG9naW4ocmVxLnNlc3Npb24pKSB7XHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ1VzZXIgbm90IGxvZ2luLicpO1xyXG4vLyAgIH1cclxuXHJcbi8vICAgdHJ5IHtcclxuLy8gICAgIGNvbnN0IGRiID0gYXdhaXQgTW9uZ29EYigpO1xyXG4vLyAgICAgYXdhaXQgZGIuY29sbGVjdGlvbignZ2lmdHMtY2FydHMnKS51cGRhdGVPbmUoXHJcbi8vICAgICAgIHsgX2lkOiByZXEuc2Vzc2lvbi51c2VyWzBdLl9pZCB9LFxyXG4vLyAgICAgICB7XHJcbi8vICAgICAgICAgJHNldDogeyBtb2RpZmllZE9uOiBuZXcgRGF0ZSgpIH0sXHJcbi8vICAgICAgICAgJHB1bGw6IHtcclxuLy8gICAgICAgICAgIHByb2R1Y3RzOiB7XHJcbi8vICAgICAgICAgICAgIHByb2R1Y3RJZDogcmVxLmJvZHkucHJvZHVjdElkLFxyXG4vLyAgICAgICAgICAgICBxdWFudGl0eTogcmVxLmJvZHkucXVhbnRpdHlcclxuLy8gICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgIH1cclxuLy8gICAgICk7XHJcbi8vICAgICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoMjAwKTtcclxuLy8gICB9IGNhdGNoIChlKSB7XHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbi8vICAgfVxyXG4vLyB9XHJcblxyXG4vLyBleHBvcnQgeyBEZWxldGVDYXJ0LCBEZWxldGVDYXJ0UHJvZHVjdCwgR2V0Q2FydCwgVXBkYXRlQ2FydFF0eSB9O1xyXG5leHBvcnQgeyBOZXdPcmRlciB9O1xyXG4iLCJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcclxuXHJcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuXHJcbmNvbnN0IGdpZnRzU3RhZmZzUm91dGVyID0gUm91dGVyKCk7XHJcblxyXG5naWZ0c1N0YWZmc1JvdXRlci5wb3N0KCcvbG9naW4nLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgLy8gTG9naW4ocmVxLCByZXMpO1xyXG59KTtcclxuZ2lmdHNTdGFmZnNSb3V0ZXIuZ2V0KCcvbG9nb3V0JywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIC8vIExvZ291dChyZXEsIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1N0YWZmc1JvdXRlci5wb3N0KCcvcmVnaXN0ZXInLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgLy8gUmVnaXN0ZXIocmVxLCByZXMpO1xyXG59KTtcclxuZ2lmdHNTdGFmZnNSb3V0ZXIuZGVsZXRlKCcvZGVsZXRldXNlcicsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICAvLyBEZWxldGVVc2VyKHJlcSwgcmVzKTtcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBnaWZ0c1N0YWZmc1JvdXRlcjtcclxuIiwiaW1wb3J0IHsgY3JlYXRlVHJhbnNwb3J0IH0gZnJvbSAnbm9kZW1haWxlcic7XHJcblxyXG5pbXBvcnQgeyBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcblxyXG5jb25zdCBvdXRsb29rX3RyYW5zcG9ydGVyID0gY3JlYXRlVHJhbnNwb3J0KHtcclxuICBzZXJ2aWNlOiAnb3V0bG9vaycsXHJcbiAgYXV0aDoge1xyXG4gICAgdXNlcjogJ3l1YW5jaGFvQG91dGxvb2suc2cnLFxyXG4gICAgcGFzczogJ3BpbmdtZUhDODMnXHJcbiAgfVxyXG59KTtcclxuXHJcbmNvbnN0IG91dGxvb2tfbWFpbE9wdGlvbnMgPSB7XHJcbiAgZnJvbTogJ3l1YW5jaGFvQG91dGxvb2suc2cnLFxyXG4gIHRvOiAnc2Vlc2VhMkBnbWFpbC5jb20nLFxyXG4gIHN1YmplY3Q6IG51bGwsXHJcbiAgaHRtbDogbnVsbFxyXG59O1xyXG5cclxuZnVuY3Rpb24gU2VuZEVtYWlsKGJvZHk6IGFueSwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGNvbnN0IGVtYWlsSHRtbDogc3RyaW5nID1cclxuICAgICc8IURPQ1RZUEUgaHRtbD48aGVhZD4nICtcclxuICAgICc8bWV0YSBodHRwLWVxdWl2PVwiY29udGVudC10eXBlXCIgY29udGVudD1cInRleHQvaHRtbDtjaGFyc2V0PVVURi04XCI+PC9oZWFkPicgK1xyXG4gICAgYDxib2R5Pjxicj48Yj5NZXNzYWdlIGZyb20gVXNlciAke2JvZHkubmFtZX1gICtcclxuICAgICcgOjwvYj48YnI+PGJyPicgK1xyXG4gICAgYDxwPjxiPkVtYWlsOiA8L2I+ICR7Ym9keS5lbWFpbH1gICtcclxuICAgICc8L3A+JyArXHJcbiAgICBgPHA+PGI+TW9iaWxlOiA8L2I+ICR7Ym9keS5tb2JpbGV9YCArXHJcbiAgICAnPC9wPicgK1xyXG4gICAgYDxwPjxiPk1lc3NhZ2U6IDwvYj4gJHtib2R5Lm1lc3NhZ2V9YCArXHJcbiAgICAnPC9wPicgK1xyXG4gICAgJzwvYm9keT48L2h0bWw+JztcclxuXHJcbiAgb3V0bG9va19tYWlsT3B0aW9ucy5zdWJqZWN0ID0gJ1VzZXIgSW5xdWlyeSc7XHJcbiAgb3V0bG9va19tYWlsT3B0aW9ucy5odG1sID0gZW1haWxIdG1sO1xyXG4gIG91dGxvb2tfdHJhbnNwb3J0ZXIuc2VuZE1haWwob3V0bG9va19tYWlsT3B0aW9ucyk7XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZW5kRW1haWw7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5vZGVtYWlsZXJcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==