!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t){e.exports=require("express")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(22);t.ObjectID=u.ObjectID;var o,a="mongodb+srv://admin:admin@cluster0-dxwkg.mongodb.net/insg?retryWrites=true";function i(){return r(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,u.MongoClient.connect(a,{useNewUrlParser:!0})];case 1:return e=t.sent(),[2,o=e.db("insg")];case 2:throw t.sent(),"Database connection failed.";case 3:return[2]}})})}t.MongoDb=function(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:if(o)return[2,o];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,i()];case 2:return e.sent(),[2,o];case 3:throw e.sent();case 4:return[2]}})})},t.DbCollection=function(e){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:if(o)return[2,o.collection(e)];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,i()];case 2:return t.sent(),[2,o.collection(e)];case 3:throw t.sent();case 4:return[2]}})})}},function(e,t){e.exports=require("axios")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.busArrivalUrl="http://datamall2.mytransport.sg/ltaodataservice/BusArrivalv2";t.busStopsUrl="http://datamall2.mytransport.sg/ltaodataservice/BusStops";var r={headers:{AccountKey:"6sVzf9zXRaCgkJUdjxIw2A=="}};t.headerConfig=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),o=n(3),a=[];function i(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=o.busStopsUrl,e&&(t+="?$skip="+e),[4,u.default.get(t,o.headerConfig)];case 1:if(200!=(n=r.sent()).status)throw{status:n.status};return[2,n.data.value];case 2:throw r.sent();case 3:return[2]}})})}function c(e){if(e)for(var t=0;t<a.length;t++)if(e===a[t].BusStopCode)return a[t]}t.busStops=a,function e(){return r(this,void 0,void 0,function(){var n,r,u;return s(this,function(s){switch(s.label){case 0:s.trys.push([0,5,,6]),n=0,r=[],s.label=1;case 1:return[4,i(n)];case 2:r=s.sent(),u=a,t.busStops=a=u.concat(r),n+=500,s.label=3;case 3:if(500===r.length)return[3,1];s.label=4;case 4:return[3,6];case 5:return s.sent(),t.busStops=a=[],e(),[3,6];case 6:return[2]}})})}(),t.checkBusStopLocally=c,t.getBusStopInfo=function(e,t){if(!e)return t.status(400).send("Invalid Bus Stop Code.");var n=c(e);return n?t.status(200).send(n):t.status(400).send("Bus Stop Info not found.")},t.getNearbyBusStops=function(e,t,n){if(void 0===e||void 0===t)return n.status(400).send("Invalid coordinates.");for(var r=[],s=0;s<a.length;s++){var u=(a[s].Latitude-e)*Math.PI/180,o=(a[s].Longitude-t)*Math.PI/180,i=Math.sin(u/2)*Math.sin(u/2)+Math.cos(a[s].Latitude*Math.PI/180)*Math.cos(e*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2),c=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371e3;Math.abs(c)<400&&r.push(a[s])}n.status(200).send(r)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1);t.GetInventory=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,u.DbCollection("gifts-inventory")];case 1:return[4,r.sent().find().toArray()];case 2:return t=r.sent(),[2,e.status(200).send(t)];case 3:return n=r.sent(),[2,e.status(500).send(n)];case 4:return[2]}})})},t.AdjustInventory=function(e,t,n){return r(this,void 0,void 0,function(){var r,o;return s(this,function(s){switch(s.label){case 0:if(!e||!t)return[2,n.status(400).send("Invalid input.")];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,u.DbCollection("gifts-inventory")];case 2:return[4,s.sent().updateOne({_id:new u.ObjectID(e)},{$set:{modifiedOn:new Date,qty:t}},{upsert:!0})];case 3:return r=s.sent(),[2,n.status(200).send(r)];case 4:return o=s.sent(),[2,n.status(500).send(o)];case 5:return[2]}})})},t.ReserveInventory=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,a;return s(this,function(s){switch(s.label){case 0:if(!t||t.length<=0)throw"The cart is empty.";s.label=1;case 1:return s.trys.push([1,7,,8]),n=[],r=[],[4,u.DbCollection("gifts-inventory")];case 2:o=s.sent(),a=0,s.label=3;case 3:return a<t.length?[4,o.updateOne({_id:new u.ObjectID(t[a].product._id),qty:{$gte:t[a].qty}},{$inc:{qty:-t[a].qty},$push:{reservations:{qty:t[a].qty,_id:new u.ObjectID(e),createdOn:new Date}}})]:[3,6];case 4:if(0===s.sent().result.nModified)return r.push(t[a].product),[3,6];n.push(t[a].product),s.label=5;case 5:return a++,[3,3];case 6:if(r.length>0){for(a=0;a<n.length;a++)o.updateOne({_id:n[a]._id,"reservations._id":e},{$inc:{qty:n[a].qty},$pull:{reservations:{_id:e}}});throw"Not enough storage."}return[2,"Success."];case 7:throw s.sent();case 8:return[2]}})})},t.DeleteInventoryReservation=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,u.DbCollection("gifts-inventory")];case 1:return[4,r.sent().updateOne({"reservations._id":new u.ObjectID(e)},{$pull:{reservations:{_id:new u.ObjectID(e)}}})];case 2:if((t=r.sent()).result.nModified<=0)throw"delete reservation failed.";return[2,t];case 3:throw n=r.sent(),console.log(n),"delete reservation failed with exception.";case 4:return[2]}})})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},u=this;Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(7);function i(e){return!(!e||!e.user)}r(u,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,o.DbCollection("gifts-users")];case 1:return e.sent().createIndex("uid",{unique:!0}),[2]}})}),t.Login=function(e,t){return r(this,void 0,void 0,function(){var n,r;return s(this,function(s){switch(s.label){case 0:if(e.session&&e.session.user)return[2,t.status(200).send({uid:e.session.user.uid})];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,o.DbCollection("gifts-users")];case 2:return n=s.sent(),r=e.session,[4,n.findOne({uid:e.body.uid,pwd:a.encrypt(e.body.pwd)})];case 3:return r.user=s.sent(),e.session.user?[2,t.status(200).send({uid:e.session.user.uid})]:[2,t.status(403).send("Incorrect username or password")];case 4:return s.sent(),[2,t.status(500).send("server error.")];case 5:return[2]}})})},t.Logout=function(e,t){return e.session&&e.session.user&&(e.session.user=null),t.status(200).send({result:"ok"})},t.Register=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!(e.body.uid&&e.body.pwd&&e.body.email&&e.body.firstName&&e.body.lastName))return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,o.DbCollection("gifts-users")];case 2:return[4,r.sent().insertOne({uid:e.body.uid,pwd:a.encrypt(e.body.pwd),email:e.body.email,firstName:e.body.firstName,lastName:e.body.lastName,createdOn:new Date})];case 3:return 1===(n=r.sent()).insertedCount?[2,t.status(200).send(n.ops[0])]:[2,t.status(500).send("Register failed. Please try again later.")];case 4:return r.sent(),[2,t.status(500).send("Register failed. Please try again later.")];case 5:return[2]}})})},t.DeleteUser=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e||!e.user)return[2,t.status(403).send("Login is required.")];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.MongoDb()];case 2:return r.sent().collection("gifts-users").deleteOne({_id:e.user._id}),e.user=null,[2,t.status(200).send({result:"User deleted."})];case 3:return n=r.sent(),[2,t.status(400).send(n)];case 4:return[2]}})})},t.UserInfo=function(e,t){return i(e)?t.status(200).send({_id:e.user._id,uid:e.user.uid,email:e.user.email}):t.status(403).send("User Not login.")},t.bLogin=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,s=n(30),u="aes-192-cbc",o=s.scryptSync("inSGyc83","salt",24),a=Buffer.alloc(16,0);function i(e,t){var n="";if(e===r.String)n="abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";else if(e===r.Number)n="0123456789";else{if(e!==r.Capital)return"";n="ABCDEFGHIJKLMNOPQRSTUVWXYZ"}for(var s="",u=t;u>0;--u)s+=n[Math.floor(Math.random()*n.length)];return s}t.encrypt=function(e){try{var t=s.createCipheriv(u,o,a),n=t.update(e,"utf8","hex");return n+=t.final("hex")}catch(e){}},t.decrypt=function(e){try{var t=s.createDecipheriv(u,o,a),n=t.update(e,"hex","utf8");return n+=t.final("utf8")}catch(e){}},function(e){e[e.Capital=0]="Capital",e[e.Number=1]="Number",e[e.String=2]="String"}(r||(r={})),t.RandomTypes=r,t.randomNumber=function(e){return i(r.Number,e)},t.randomCapitals=function(e){return i(r.Capital,e)},t.randomString=function(e){return i(r.String,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(9),u=n(10),o=n(11),a=n(12),i=n(13),c=r();c.use(o()),c.use(a.json()),c.use(a.urlencoded({extended:!1})),c.use(s({secret:"insg-yc-ly-17",resave:!1,saveUninitialized:!0,cookie:{maxAge:864e5}})),c.use("/api",i.default),c.get("/",function(e,t){return t.status(200).sendFile(u.join(__dirname,"/client/index.html"))}),c.use(r.static(u.join(__dirname,"/client"))),c.use(r.static(u.join(__dirname,"/client/assets"),{dotfiles:"allow"})),c.all("/*",function(e,t){return t.status(200).sendFile(u.join(__dirname,"/client/index.html"))}),c.use(function(e,t,n){return t.status(500).send("Issue happened. Please retry later!")}),c.listen(8080,function(){console.log("app listening on port 8080.")})},function(e,t){e.exports=require("express-session")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("body-parser")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(14),u=n(16),o=n(18),a=n(24),i=n(34),c=r.Router();c.use("/dictionary",o.dictionaryRouter),c.use("/http",u.default),c.use("/lunchfun",o.lunchfunRouter),c.use("/lta/bus",s.busRouter),c.use("/gifts",a.default),c.post("/msg",function(e,t){i.default(e.body,t)}),c.all("/*",function(e,t){return t.status(400).send("Invalid Request")}),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(15),u=n(4),o=r.Router();t.busRouter=o,o.get("/busArrival/:busStopCode",function(e,t){s.default(e.params.busStopCode,t)}),o.get("/busStop/:busStopCode",function(e,t){u.getBusStopInfo(e.params.busStopCode,t)}),o.get("/nearbyBusStops",function(e,t){u.getNearbyBusStops(e.query.latitude,e.query.longitude,t)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=n(3),u=n(4);t.default=function(e,t){if(!(e=e.trim()))return t.status(400).send("Invalid BusStopCode.");var n=u.checkBusStopLocally(e);if(!n)return t.status(400).send("Bus Stop not found.");var o=s.busArrivalUrl+"?BusStopCode="+e;r.default.get(o,s.headerConfig).then(function(e){t.status(200).send({busStopInfo:n,busArrival:e.data})}).catch(function(e){t.status(400).send(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(17),u=r.Router();u.post("",function(e,t){"DELETE"===e.body.type?s.Delete(e.body,t):"GET"===e.body.type?s.Get(e.body,t):"POST"===e.body.type?s.Post(e.body,t):"PUT"===e.body.type&&s.Put(e.body,t)}),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.Delete=function(e,t){var n=e.url;if(e.querys&&e.querys.length>0){n+="?";for(var s=0;s<e.querys.length;++s)n+=e.query[s],n+="=",n+=e.queryValue[s]}r.default.delete(n).then(function(e){t.status(200).send(e)}).catch(function(e){t.status(400).send(e)})},t.Post=function(e,t){return t.status(200).send(e)},t.Put=function(e,t){r.default.put(e.body.url).then(function(e){t.send(e.data)})},t.Get=function(e,t){r.default.post(e.body.url).then(function(e){t.send(e.data)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(19),u=n(21),o=n(23),a=r.Router();t.dictionaryRouter=a;var i=r.Router();t.lunchfunRouter=i,a.get("/oxford/:word",function(e,t){s.default(e.params.word,t)}),i.get("/pals",function(e,t){u.GetPals(t)}),i.post("/pal",function(e,t){u.AddPal(e.body.name,t)}),i.delete("/pal",function(e,t){u.DeletePal(e.query,t)}),i.get("/records",function(e,t){o.GetRecords(t)}),i.post("/record",function(e,t){o.AddRecord(e.body.payer,e.body.attendees,t)}),i.delete("/record",function(e,t){o.DeleteRecord(e.query._id,t)}),i.get("/stats/attendance",function(e,t){u.GetPalsAttendance(t)})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=new(n(20))("0314e9e2","5a6c2589474a2f83ccd69f397bfec7a2");t.default=function(e,t){return r(this,void 0,void 0,function(){return s(this,function(n){return e&&e.trim()?(u.find(e.trim(),function(e,n){return e?t.status(400).send(e):t.status(200).send(n)}),[2]):[2,t.status(400).send("Invalid word.")]})})}},function(e,t){e.exports=require("oxford-dictionary-api")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=[];function a(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,u.DbCollection("lunchfun-pals")];case 1:return[4,e.sent().find().sort({name:1}).toArray()];case 2:return o=e.sent(),[3,4];case 3:throw e.sent();case 4:return[2]}})})}t.GetPals=function(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:if(o.length>0)return[2,e.status(200).send(o)];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,a()];case 2:return n.sent(),[2,e.status(200).send(o)];case 3:return t=n.sent(),[2,e.status(500).send(t)];case 4:return[2]}})})},t.AddPal=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,u.DbCollection("lunchfun-pals")];case 2:return r.sent().insertOne({name:e}),a(),[2,t.status(200).send({result:"ok"})];case 3:return n=r.sent(),[2,t.status(500).send(n)];case 4:return[2]}})})},t.DeletePal=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e)return[2,t.status(400).send("Invalid name to delete.")];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,u.DbCollection("lunchfun-pals")];case 2:return r.sent().deleteOne({name:e}),a(),[2,t.status(200).send({result:"ok"})];case 3:return n=r.sent(),[2,t.status(500).send(n)];case 4:return[2]}})})},t.GetPalsAttendance=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,u.DbCollection("lunchfun-records")];case 1:return[4,r.sent().aggregate([{$unwind:"$attendees"},{$group:{_id:"$attendees",attendance:{$sum:1}}},{$project:{name:"$_id",attendance:"$attendance"}}]).toArray()];case 2:return t=r.sent(),[2,e.status(200).send(t)];case 3:return n=r.sent(),[2,e.status(500).send(n)];case 4:return[2]}})})}},function(e,t){e.exports=require("mongodb")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1);t.GetRecords=function(e,t){return r(this,void 0,void 0,function(){var n,r;return s(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,u.DbCollection("lunchfun-records")];case 1:return[4,s.sent().find({}).sort({createdOn:-1}).limit(30|t).toArray()];case 2:return n=s.sent(),[2,e.status(200).send(n)];case 3:return r=s.sent(),[2,e.status(500).send(r)];case 4:return[2]}})})},t.AddRecord=function(e,t,n){return r(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:if(!e||!t||t.length<=0)return[2,n.status(400).send("Invalid params to add.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.DbCollection("lunchfun-records")];case 2:return[4,r.sent().insertOne({payer:e,attendees:t,createdOn:new Date})];case 3:return r.sent(),[2,n.status(200).send({result:"ok"})];case 4:return r.sent(),[2,n.status(500).send("Error at server. Please try again later.")];case 5:return[2]}})})},t.DeleteRecord=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e)return[2,t.status(400).send("Invalid record to delete.")];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,u.DbCollection("lunchfun-records")];case 2:return r.sent().deleteOne({_id:new u.ObjectID(e)}),[2,t.status(200).send({result:"ok"})];case 3:return n=r.sent(),[2,t.status(500).send(n)];case 4:return[2]}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(25),u=n(28),o=n(29),a=n(33),i=r.Router();i.use("/products",s.default),i.use("/orders",u.default),i.use("/users",o.default),i.use("/staffs",a.default),t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(26),u=n(27),o=n(5),a=r.Router();a.get("/view/:product_no",function(e,t){u.GetProduct(e.params,t)}),a.get("/categories",function(e,t){s.GetCategories(t)}),a.post("/category",function(e,t){s.AddCategory(e.body,t)}),a.delete("/category",function(e,t){s.DeleteCategory(e.query,t)}),a.get("/samples",function(e,t){s.GetSamplesOfCategories(t)}),a.get("",function(e,t){u.GetProductsByCategory(e,t)}),a.get("/product",function(e,t){u.GetProduct(e.query,t)}),a.post("/product",function(e,t){u.AddProduct(e.body,t)}),a.put("/product",function(e,t){u.UpdateProduct(e.body,t)}),a.delete("/product",function(e,t){u.DeleteProduct(e.query,t)}),a.get("/inventory",function(e,t){o.GetInventory(t)}),a.put("/inventory",function(e,t){o.AdjustInventory(e.body._id,e.body.qty,t)}),t.default=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=[],a=[];function i(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:if(!(o.length<=0))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,c()];case 2:return o=n.sent(),[3,4];case 3:throw n.sent();case 4:return 0===e?[2,o]:(t=[],o.forEach(function(n){console.log(n.category.match(new RegExp("/","g"))),n.category.match(new RegExp("/","g")).length<=e&&t.push(n)}),[2,t])}})})}function c(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,u.DbCollection("gifts-products-catalog")];case 1:return[4,e.sent().find().sort("category",1).toArray()];case 2:return[2,o=e.sent()];case 3:throw e.sent(),{errMsg:"Get categories from database failed."};case 4:return[2]}})})}function l(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,u.DbCollection("gifts-products")];case 1:return e=n.sent(),null,[4,e.aggregate([{$sort:{_id:-1}},{$group:{_id:{category:"$category"},products:{$push:{_id:"$_id",category:"$category",img:"$img"}}}},{$project:{_id:"$_id",products:{$slice:["$products",4]}}}]).toArray()];case 2:return[2,n.sent()];case 3:return t=n.sent(),console.log(t),[2,{errMsg:"Get products failed."}];case 4:return[2]}})})}t.GetCategories=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i(0)];case 1:return t=r.sent(),[2,e.status(200).send(t)];case 2:return n=r.sent(),[2,e.status(500).send(n)];case 3:return[2]}})})},t.GetSamplesOfCategories=function(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:if(a.length>0)return[2,e.status(200).send(a)];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,l()];case 2:return a=n.sent(),[2,e.status(200).send(a)];case 3:return t=n.sent(),[2,e.status(500).send(t)];case 4:return[2]}})})},t.AddCategory=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e.name||!e.category)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.DbCollection("gifts-products-catalog")];case 2:return[4,r.sent().insertOne({name:e.name,category:e.category})];case 3:return r.sent(),o=[],a=[],[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})},t.DeleteCategory=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e._id)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.DbCollection("gifts-products-catalog")];case 2:return[4,r.sent().deleteOne({_id:new u.ObjectID(e._id)})];case 3:return r.sent(),o=[],a=[],[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1);t.GetProduct=function(e,t){return r(this,void 0,void 0,function(){var n,r;return s(this,function(s){switch(s.label){case 0:if(!e._id)return[2,t.status(400).send("Invalid product no.")];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,u.MongoDb()];case 2:return[4,s.sent().collection("gifts-products").findOne({_id:new u.ObjectID(e._id)})];case 3:return n=s.sent(),[2,t.status(200).send(n)];case 4:return r=s.sent(),[2,t.status(500).send(r)];case 5:return[2]}})})},t.GetProductsByCategory=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,a;return s(this,function(s){switch(s.label){case 0:return s.trys.push([0,6,,7]),[4,u.DbCollection("gifts-products")];case 1:return n=s.sent(),r=null,e.query.category?(o=new RegExp(["^",e.query.category.trim()].join(""),"i"),[4,n.find({category:o}).toArray()]):[3,3];case 2:return r=s.sent(),[3,5];case 3:return[4,n.find().toArray()];case 4:r=s.sent(),s.label=5;case 5:return[2,t.status(200).send(r)];case 6:return a=s.sent(),[2,t.status(500).send(a)];case 7:return[2]}})})},t.AddProduct=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e.name)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.MongoDb()];case 2:return[4,r.sent().collection("gifts-products").insertOne({name:e.name,img:e.img,price:e.price,category:e.category,color:e.color,packaging:e.packaging,material:e.material,size:e.size,note:e.note,retailer:e.retailer,createdOn:new Date})];case 3:return r.sent(),[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})},t.UpdateProduct=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e._id)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.DbCollection("gifts-products")];case 2:return[4,r.sent().updateOne({_id:new u.ObjectID(e._id)},{$set:{modifiedOn:new Date,name:e.name,img:e.img,price:e.price,category:e.category,color:e.color,packaging:e.packaging,material:e.material,size:e.size,note:e.note,retailer:e.retailer}})];case 3:return r.sent(),[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})},t.DeleteProduct=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e._id)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.MongoDb()];case 2:return[4,r.sent().collection("gifts-products").deleteOne({_id:new u.ObjectID(e._id)})];case 3:return r.sent(),[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).Router();r.get("/allOrders",function(e,t){return e.session&&e.session.staff?t.status(200).send({result:"ok"}):t.sendStatus(401)}),r.put("/updateStatus",function(e,t){if(!e.session||!e.session.staff.id)return t.sendStatus(401);if(!e.body.new_status||!e.body.sno||!e.body.order_no)return t.status(400).send("Failed. Pleaes review inputs.");e.body.order_no,e.body.sno,Date.now(),e.session.staff.id,e.body.new_status,e.body.note;return t.status(200).send({result:"ok"})}),r.put("/updateContact",function(e,t){if(!e.session||!e.session.staff.id)return t.sendStatus(401);if(!e.body.order_no)return t.status(400).send("Order_no empty.");if(!(e.body.email&&e.body.email.includes("@")&&e.body.email.includes("."))||e.body.email.includes("/")||e.body.email.includes("\\"))return t.status(400).send("Invalid email.");if(!e.body.name)return t.status(400).send("Invalid name.");e.body.name,e.body.email,e.body.mobile,e.body.company,e.body.mobile2,e.body.addr,e.body.order_no;return t.status(200).send({result:"ok"})}),r.put("/updateOrderItem",function(e,t){if(!e.session||!e.session.staff.id)return t.sendStatus(401);if(!e.body.order_no)return t.status(400).send("Failed. Invalid Order No.");if(!e.body.sno||""===e.body.sno)return t.status(400).send("Failed. Invalid Order Sno.");e.body.new_sale_price,e.body.new_qty,e.body.new_status,e.body.order_no,e.body.sno;return t.status(200).send({result:"ok"})}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(6),u=n(31),o=r.Router();o.post("/login",function(e,t){s.Login(e,t)}),o.get("/info",function(e,t){s.UserInfo(e.session,t)}),o.get("/logout",function(e,t){s.Logout(e,t)}),o.post("/register",function(e,t){s.Register(e,t)}),o.delete("/deleteuser",function(e,t){s.DeleteUser(e.session,t)}),o.get("/cart",function(e,t){u.GetCart(e.session,t)}),o.post("/cart",function(e,t){u.AddToCart(e.session,e.body,t)}),o.delete("/cart",function(e,t){u.DeleteCart(e.session,t)}),o.put("/cart",function(e,t){u.UpdateCartQty(e,t)}),o.delete("/cart/product",function(e,t){u.DeleteInCart(e.session,e.query._id,t)}),o.post("/cart/checkout",function(e,t){u.CartCheckout(e,t)}),t.default=o},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=n(7),a=n(6),i=n(5),c=n(32);t.GetCart=function(e,t){return r(this,void 0,void 0,function(){var n,r;return s(this,function(s){switch(s.label){case 0:if(!a.bLogin(e))return[2,t.status(403).send("User not login")];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,u.DbCollection("gifts-carts")];case 2:return[4,s.sent().findOne({_id:new u.ObjectID(e.user._id)})];case 3:return n=s.sent(),console.log(n),[2,t.status(200).send(n)];case 4:return r=s.sent(),[2,t.status(500).send(r)];case 5:return[2]}})})},t.AddToCart=function(e,t,n){return r(this,void 0,void 0,function(){var r,o;return s(this,function(s){switch(s.label){case 0:if(!a.bLogin(e))return[2,n.status(403).send("User not login")];s.label=1;case 1:return s.trys.push([1,5,,6]),[4,u.DbCollection("gifts-carts")];case 2:return[4,(r=s.sent()).updateOne({_id:new u.ObjectID(e.user._id)},{$pull:{products:{productId:new u.ObjectID(t.product._id)}}})];case 3:return s.sent(),[4,r.updateOne({_id:new u.ObjectID(e.user._id)},{$push:{products:{productId:new u.ObjectID(t.product._id),quantity:t.qty,name:t.product.name,price:t.product.price}}},{upsert:!0})];case 4:return s.sent(),[2,n.status(200).send({result:"ok"})];case 5:return o=s.sent(),[2,n.status(500).send(o)];case 6:return[2]}})})},t.UpdateCartQty=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(a.bLogin(e.session)||t.status(403).send("User not login."),!e.body.productId||!e.body.qty)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.MongoDb()];case 2:return[4,r.sent().collection("gifts-carts").updateOne({_id:e.session.user._id,"products.productId":e.body.productId},{$set:{"products.$.qty":e.body.qty,modifiedOn:new Date}})];case 3:return r.sent(),[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})},t.DeleteCart=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!a.bLogin(e))return[2,t.status(400).send("User not login.")];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,u.DbCollection("gifts-carts")];case 2:return r.sent().deleteOne({_id:new u.ObjectID(e.user._id)}),[2,t.status(200).send({result:"ok"})];case 3:return n=r.sent(),[2,t.status(500).send(n)];case 4:return[2]}})})},t.DeleteInCart=function(e,t,n){return r(this,void 0,void 0,function(){var r;return s(this,function(s){switch(s.label){case 0:if(!a.bLogin(e))return[2,n.status(400).send("User not login.")];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,u.DbCollection("gifts-carts")];case 2:return[4,s.sent().updateOne({_id:new u.ObjectID(e.user._id)},{$pull:{products:{productId:new u.ObjectID(t)}}})];case 3:return s.sent(),[2,n.status(200).send({result:"ok"})];case 4:return r=s.sent(),[2,n.status(500).send(r)];case 5:return[2]}})})},t.CartCheckout=function(e,t){return r(this,void 0,void 0,function(){var n,r,l,d,f,p;return s(this,function(s){switch(s.label){case 0:if(!(e.body.cart&&e.body.cart.customer&&e.body.cart.customer.name&&e.body.cart.customer.mobile&&e.body.cart.customer.address))return[2,t.status(400).send("Invalid customer information.")];if(e.body.cart.total<=0)return[2,t.status(400).send("No product to checkout.")];n=a.bLogin(e.session),r="",r=n?e.session.user._id:o.randomString(20),l=e.body.cart.cartItems,d=e.body.cart.customer,s.label=1;case 1:return s.trys.push([1,10,,11]),[4,i.ReserveInventory(r,l)];case 2:return s.sent(),[4,c.NewOrder(d,l)];case 3:return s.sent().result.n<=0?[4,i.DeleteInventoryReservation(r)]:[3,5];case 4:throw s.sent(),"Create new order failed.";case 5:return[4,i.DeleteInventoryReservation(r)];case 6:return f=s.sent(),console.log(f),n?[4,u.DbCollection("gifts-carts")]:[3,9];case 7:return[4,s.sent().deleteOne({_id:new u.ObjectID(r)})];case 8:s.sent(),s.label=9;case 9:return[2,t.status(200).send({orderId:r})];case 10:return p=s.sent(),console.error(p),[2,t.status(500).send(p)];case 11:return[2]}})})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{i(r.next(e))}catch(e){u(e)}}function a(e){try{i(r.throw(e))}catch(e){u(e)}}function i(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,a)}i((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1);t.NewOrder=function(e,t){return r(this,void 0,void 0,function(){var n,r;return s(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,u.DbCollection("gifts-orders")];case 1:return n=s.sent(),r=n.insertOne({created_on:new Date,shipping:{name:e.name,mobile:e.mobile,address:e.address,message:e.message},payment:{method:"visa",transaction_id:"2312213312XXXTD"},cartItems:t}),console.log("insertRslt: ",r),[2,r];case 2:throw s.sent(),"create new order failed.";case 3:return[2]}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).Router();r.post("/login",function(e,t){}),r.get("/logout",function(e,t){}),r.post("/register",function(e,t){}),r.delete("/deleteuser",function(e,t){}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35).createTransport({service:"outlook",auth:{user:"yuanchao@outlook.sg",pass:"pingmeHC83"}}),s={from:"yuanchao@outlook.sg",to:"seesea2@gmail.com",subject:null,html:null};t.default=function(e,t){var n='<!DOCTYPE html><head><meta http-equiv="content-type" content="text/html;charset=UTF-8"></head><body><br><b>Message from User '+e.name+" :</b><br><br><p><b>Email: </b> "+e.email+"</p><p><b>Mobile: </b> "+e.mobile+"</p><p><b>Message: </b> "+e.message+"</p></body></html>";return s.subject="User Inquiry",s.html=n,r.sendMail(s),t.status(200).send({result:"ok"})}},function(e,t){e.exports=require("nodemailer")}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZXhwcmVzc1wiIiwid2VicGFjazovLy8uL3NlcnZlci9tb25nb2RiLW9wcy50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJheGlvc1wiIiwid2VicGFjazovLy8uL3NlcnZlci9sdGEvbHRhLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9sdGEvYnVzLXN0b3BzLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9naWZ0cy1wcm9kdWN0cy9naWZ0cy1wcm9kdWN0cy1pbnZlbnRvcnkub3BzLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9naWZ0cy11c2Vycy9naWZ0cy11c2Vycy5vcHMudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL3N0cmluZy1vcHMudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL3NlcnZlci50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzLXNlc3Npb25cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiY29yc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcImJvZHktcGFyc2VyXCIiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2FwaS1yb3V0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2x0YS9yb3V0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2x0YS9idXMtYXJyaXZhbC50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvaHR0cC1yZXF1ZXN0L3JvdXRlci50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvaHR0cC1yZXF1ZXN0L2h0dHAtcmVxdWVzdC50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvbHVuY2hmdW4tYW5kLWRpY3Rpb25hcnkvcm91dGVyLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9sdW5jaGZ1bi1hbmQtZGljdGlvbmFyeS9kaWN0aW9uYXJ5LnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcIm94Zm9yZC1kaWN0aW9uYXJ5LWFwaVwiIiwid2VicGFjazovLy8uL3NlcnZlci9sdW5jaGZ1bi1hbmQtZGljdGlvbmFyeS9sdW5jaGZ1bi1wYWxzLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1vbmdvZGJcIiIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvbHVuY2hmdW4tYW5kLWRpY3Rpb25hcnkvbHVuY2hmdW4tcmVjb3Jkcy50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvYXBpLWdpZnRzLXJvdXRlci50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvZ2lmdHMtcHJvZHVjdHMvZ2lmdHMtcHJvZHVjdHMtcm91dGVyLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9naWZ0cy1wcm9kdWN0cy9naWZ0cy1wcm9kdWN0cy1jYXRlZ29yaWVzLm9wcy50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvZ2lmdHMtcHJvZHVjdHMvZ2lmdHMtcHJvZHVjdHMub3BzLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9naWZ0cy1vcmRlcnMvZ2lmdHMtb3JkZXJzLXJvdXRlci50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvZ2lmdHMtdXNlcnMvZ2lmdHMtdXNlcnMtcm91dGVyLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcImNyeXB0b1wiIiwid2VicGFjazovLy8uL3NlcnZlci9naWZ0cy11c2Vycy9naWZ0cy1jYXJ0cy5vcHMudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2dpZnRzLW9yZGVycy9naWZ0cy1vcmRlcnMub3BzLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9naWZ0cy1zdGFmZnMvZ2lmdHMtc3RhZmZzLXJvdXRlci50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvZW1haWwvZW1haWwub3BzLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcIm5vZGVtYWlsZXJcIiJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInJlcXVpcmUiLCJtb25nb2RiXzEiLCJPYmplY3RJRCIsImRhdGFiYXNlIiwiTU9OR09fVVJMIiwiSW5pdERiIiwiTW9uZ29DbGllbnQiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwiY2xpZW50IiwiX2EiLCJzZW50IiwiZGIiLCJNb25nb0RiIiwiRGJDb2xsZWN0aW9uIiwiY29sbGVjdGlvbiIsImJ1c0Fycml2YWxVcmwiLCJidXNTdG9wc1VybCIsImhlYWRlckNvbmZpZyIsImhlYWRlcnMiLCJBY2NvdW50S2V5IiwiYXhpb3NfMSIsImx0YV8xIiwiYnVzU3RvcHMiLCJnZXRCdXNTdG9wc0Zyb21MdGEiLCJza2lwIiwidXJsIiwiZGVmYXVsdCIsInJlc3BvbnNlIiwic3RhdHVzIiwiZGF0YSIsImNoZWNrQnVzU3RvcExvY2FsbHkiLCJidXNTdG9wQ29kZSIsImxlbmd0aCIsIkJ1c1N0b3BDb2RlIiwiZ2V0QWxsQnVzU3RvcHMiLCJuZXdCdXNTdG9wcyIsInRlbXAiLCJjb25jYXQiLCJnZXRCdXNTdG9wSW5mbyIsInJlcyIsInNlbmQiLCJidXNTdG9wSW5mbyIsImdldE5lYXJieUJ1c1N0b3BzIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJ1bmRlZmluZWQiLCJuZWFyYnlTdG9wcyIsImRMYXQiLCJMYXRpdHVkZSIsIk1hdGgiLCJQSSIsImRMb25nIiwiTG9uZ2l0dWRlIiwiYSIsInNpbiIsImNvcyIsImRpc3QiLCJhdGFuMiIsInNxcnQiLCJhYnMiLCJwdXNoIiwibW9uZ29kYl9vcHNfMSIsIkdldEludmVudG9yeSIsImZpbmQiLCJ0b0FycmF5IiwiaW52ZW50b3J5IiwiZV8xIiwiQWRqdXN0SW52ZW50b3J5IiwiX2lkIiwicXR5IiwidXBkYXRlT25lIiwiJHNldCIsIm1vZGlmaWVkT24iLCJEYXRlIiwidXBzZXJ0IiwicnNsdCIsImVfMiIsIlJlc2VydmVJbnZlbnRvcnkiLCJpZCIsImNhcnRJdGVtcyIsInN1Y2Nlc3MiLCJmYWlsZWQiLCJkYkludmVudG9yeSIsInByb2R1Y3QiLCIkZ3RlIiwiJGluYyIsIiRwdXNoIiwicmVzZXJ2YXRpb25zIiwiY3JlYXRlZE9uIiwicmVzdWx0Iiwibk1vZGlmaWVkIiwicmVzZXJ2YXRpb25zLl9pZCIsIiRwdWxsIiwiRGVsZXRlSW52ZW50b3J5UmVzZXJ2YXRpb24iLCJ1cGRhdGVSc2x0IiwiY29uc29sZSIsImxvZyIsImVfNCIsIl90aGlzIiwidGhpcyIsInN0cmluZ19vcHNfMSIsImJMb2dpbiIsInNlc3Npb24iLCJ1c2VyIiwiX19hd2FpdGVyIiwiY3JlYXRlSW5kZXgiLCJ1bmlxdWUiLCJMb2dpbiIsInJlcSIsInVpZCIsImRiVXNlcnMiLCJfYiIsImZpbmRPbmUiLCJib2R5IiwicHdkIiwiZW5jcnlwdCIsIkxvZ291dCIsIlJlZ2lzdGVyIiwiZW1haWwiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImluc2VydE9uZSIsImluc2VydGVkQ291bnQiLCJvcHMiLCJEZWxldGVVc2VyIiwiZGVsZXRlT25lIiwiZV8zIiwiVXNlckluZm8iLCJSYW5kb21UeXBlcyIsImNyeXB0byIsImFsZ29yaXRobSIsInNjcnlwdFN5bmMiLCJpdiIsIkJ1ZmZlciIsImFsbG9jIiwicmFuZG9tIiwidHlwZSIsInJTdHJpbmciLCJTdHJpbmciLCJOdW1iZXIiLCJDYXBpdGFsIiwiZmxvb3IiLCJ0ZXh0IiwiY2lwaGVyIiwiY3JlYXRlQ2lwaGVyaXYiLCJjcnlwdGVkIiwidXBkYXRlIiwiZmluYWwiLCJlIiwiZGVjcnlwdCIsImRlY2lwaGVyIiwiY3JlYXRlRGVjaXBoZXJpdiIsImRlYyIsInJhbmRvbU51bWJlciIsInJhbmRvbUNhcGl0YWxzIiwicmFuZG9tU3RyaW5nIiwiZXhwcmVzcyIsInBhdGhfMSIsImNvcnMiLCJib2R5UGFyc2VyIiwiYXBpX3JvdXRlcl8xIiwiYXBwIiwidXNlIiwianNvbiIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInNlY3JldCIsInJlc2F2ZSIsInNhdmVVbmluaXRpYWxpemVkIiwiY29va2llIiwibWF4QWdlIiwic2VuZEZpbGUiLCJqb2luIiwiX19kaXJuYW1lIiwic3RhdGljIiwiZG90ZmlsZXMiLCJhbGwiLCJuZXh0IiwibGlzdGVuIiwiZXhwcmVzc18xIiwicm91dGVyXzEiLCJyb3V0ZXJfMiIsInJvdXRlcl8zIiwiYXBpX2dpZnRzX3JvdXRlcl8xIiwiZW1haWxfb3BzXzEiLCJhcGlSb3V0ZXIiLCJSb3V0ZXIiLCJkaWN0aW9uYXJ5Um91dGVyIiwibHVuY2hmdW5Sb3V0ZXIiLCJidXNSb3V0ZXIiLCJwb3N0IiwiYnVzX2Fycml2YWxfMSIsImJ1c19zdG9wc18xIiwicGFyYW1zIiwicXVlcnkiLCJ0cmltIiwidGhlbiIsInJlc3Bvc2UiLCJidXNBcnJpdmFsIiwiY2F0Y2giLCJodHRwX3JlcXVlc3RfMSIsImh0dHBSb3V0ZXIiLCJEZWxldGUiLCJHZXQiLCJQb3N0IiwiUHV0IiwicXVlcnlzIiwicXVlcnlWYWx1ZSIsImRlbGV0ZSIsInB1dCIsImRpY3Rpb25hcnlfMSIsImx1bmNoZnVuX3BhbHNfMSIsImx1bmNoZnVuX3JlY29yZHNfMSIsIndvcmQiLCJHZXRQYWxzIiwiQWRkUGFsIiwiRGVsZXRlUGFsIiwiR2V0UmVjb3JkcyIsIkFkZFJlY29yZCIsInBheWVyIiwiYXR0ZW5kZWVzIiwiRGVsZXRlUmVjb3JkIiwiR2V0UGFsc0F0dGVuZGFuY2UiLCJESUNUIiwiZXJyIiwibHVuY2hQYWxzIiwicmVmcmVzaFBhbHMiLCJzb3J0IiwiYWdncmVnYXRlIiwiJHVud2luZCIsIiRncm91cCIsImF0dGVuZGFuY2UiLCIkc3VtIiwiJHByb2plY3QiLCJhdHRlbmRhbmNlcyIsImVfNSIsImxpbWl0IiwicmVjb3JkcyIsImdpZnRzX3Byb2R1Y3RzX3JvdXRlcl8xIiwiZ2lmdHNfb3JkZXJzX3JvdXRlcl8xIiwiZ2lmdHNfdXNlcnNfcm91dGVyXzEiLCJnaWZ0c19zdGFmZnNfcm91dGVyXzEiLCJnaWZ0c1JvdXRlciIsImdpZnRzX3Byb2R1Y3RzX2NhdGVnb3JpZXNfb3BzXzEiLCJnaWZ0c19wcm9kdWN0c19vcHNfMSIsImdpZnRzX3Byb2R1Y3RzX2ludmVudG9yeV9vcHNfMSIsImdpZnRzUHJvZHVjdHNSb3V0ZXIiLCJHZXRQcm9kdWN0IiwiR2V0Q2F0ZWdvcmllcyIsIkFkZENhdGVnb3J5IiwiRGVsZXRlQ2F0ZWdvcnkiLCJHZXRTYW1wbGVzT2ZDYXRlZ29yaWVzIiwiR2V0UHJvZHVjdHNCeUNhdGVnb3J5IiwiQWRkUHJvZHVjdCIsIlVwZGF0ZVByb2R1Y3QiLCJEZWxldGVQcm9kdWN0IiwiZ2xvYmFsQ2F0ZWdvcmllcyIsImdsb2JhbFNhbXBsZXNPZkNhdGVnb3JpZXMiLCJHZXRDYXRlZ29yaWVzQnlMZXZlbCIsImxldmVsIiwiR2V0Q2F0ZWdvcmllc0Zyb21EYiIsInJldHVybkNhdGVnb3JpZXMiLCJmb3JFYWNoIiwiY2F0IiwiY2F0ZWdvcnkiLCJtYXRjaCIsIlJlZ0V4cCIsImVyck1zZyIsIkdldFNhbXBsZXMiLCJkYkNvbGxlY3Rpb24iLCIkc29ydCIsInByb2R1Y3RzIiwiaW1nIiwiJHNsaWNlIiwiZV83IiwiY2F0ZWdvcmllcyIsImRvY3MiLCJyZWdleCIsInByaWNlIiwiY29sb3IiLCJwYWNrYWdpbmciLCJtYXRlcmlhbCIsInNpemUiLCJub3RlIiwicmV0YWlsZXIiLCJnaWZ0c09yZGVyc1JvdXRlciIsInN0YWZmIiwic2VuZFN0YXR1cyIsIm5ld19zdGF0dXMiLCJzbm8iLCJvcmRlcl9ubyIsIm5vdyIsImluY2x1ZGVzIiwibW9iaWxlIiwiY29tcGFueSIsIm1vYmlsZTIiLCJhZGRyIiwibmV3X3NhbGVfcHJpY2UiLCJuZXdfcXR5IiwiZ2lmdHNfdXNlcnNfb3BzXzEiLCJnaWZ0c19jYXJ0c19vcHNfMSIsImdpZnRzVXNlcnNSb3V0ZXIiLCJHZXRDYXJ0IiwiQWRkVG9DYXJ0IiwiRGVsZXRlQ2FydCIsIlVwZGF0ZUNhcnRRdHkiLCJEZWxldGVJbkNhcnQiLCJDYXJ0Q2hlY2tvdXQiLCJnaWZ0c19vcmRlcnNfb3BzXzEiLCJjYXJ0IiwicHJvZHVjdElkIiwicXVhbnRpdHkiLCJwcm9kdWN0cy5wcm9kdWN0SWQiLCJwcm9kdWN0cy4kLnF0eSIsImN1c3RvbWVyIiwiYWRkcmVzcyIsInRvdGFsIiwiYk1lbWJlciIsIk5ld09yZGVyIiwib3JkZXJJZCIsImVycm9yIiwiZV82IiwiZGJPcmRlcnMiLCJpbnNlcnRSc2x0IiwiY3JlYXRlZF9vbiIsInNoaXBwaW5nIiwibWVzc2FnZSIsInBheW1lbnQiLCJtZXRob2QiLCJ0cmFuc2FjdGlvbl9pZCIsImdpZnRzU3RhZmZzUm91dGVyIiwib3V0bG9va190cmFuc3BvcnRlciIsImNyZWF0ZVRyYW5zcG9ydCIsInNlcnZpY2UiLCJhdXRoIiwicGFzcyIsIm91dGxvb2tfbWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJzdWJqZWN0IiwiaHRtbCIsImVtYWlsSHRtbCIsInNlbmRNYWlsIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFB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QUFJLG9CQUNKQyxRQUFTLEtBQ1RDLEtBQU0sTUF1QlJ2WCxFQUFBNkQsUUFwQkEsU0FBbUJ1RixFQUFXMUUsR0FDNUIsSUFBTThTLEVBQ0osZ0lBRWtDcE8sRUFBSzNJLEtBQ3ZDLG1DQUNxQjJJLEVBQUtLLE1BQzFCLDBCQUNzQkwsRUFBS29MLE9BQzNCLDJCQUN1QnBMLEVBQUtxTixRQUM1QixxQkFNRixPQUhBVSxFQUFvQkcsUUFBVSxlQUM5QkgsRUFBb0JJLEtBQU9DLEVBQzNCVixFQUFvQlcsU0FBU04sR0FDdEJ6UyxFQUFJWCxPQUFPLEtBQUtZLEtBQUssQ0FBRWlELE9BQVEsdUJDcEN4QzNILEVBQUFELFFBQUFrQyxRQUFBIiwiZmlsZSI6InNlcnZlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA4KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3NcIik7IiwiaW1wb3J0IHsgTW9uZ29DbGllbnQsIERiLCBPYmplY3RJRCB9IGZyb20gJ21vbmdvZGInO1xyXG5cclxuY29uc3QgTU9OR09fVVJMID1cclxuICAnbW9uZ29kYitzcnY6Ly9hZG1pbjphZG1pbkBjbHVzdGVyMC1keHdrZy5tb25nb2RiLm5ldC9pbnNnP3JldHJ5V3JpdGVzPXRydWUnO1xyXG5cclxubGV0IGRhdGFiYXNlOiBEYjtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEluaXREYigpOiBQcm9taXNlPERiPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IE1vbmdvQ2xpZW50LmNvbm5lY3QoTU9OR09fVVJMLCB7XHJcbiAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gKGRhdGFiYXNlID0gY2xpZW50LmRiKCdpbnNnJykpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHRocm93ICdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZC4nO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gTW9uZ29EYigpOiBQcm9taXNlPERiPiB7XHJcbiAgaWYgKGRhdGFiYXNlKSB7XHJcbiAgICByZXR1cm4gZGF0YWJhc2U7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgYXdhaXQgSW5pdERiKCk7XHJcbiAgICByZXR1cm4gZGF0YWJhc2U7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coZSk7XHJcbiAgICB0aHJvdyBlO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gRGJDb2xsZWN0aW9uKG5hbWU6IHN0cmluZykge1xyXG4gIGlmIChkYXRhYmFzZSkge1xyXG4gICAgcmV0dXJuIGRhdGFiYXNlLmNvbGxlY3Rpb24obmFtZSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgYXdhaXQgSW5pdERiKCk7XHJcbiAgICByZXR1cm4gZGF0YWJhc2UuY29sbGVjdGlvbihuYW1lKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICB0aHJvdyBlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgRGJDb2xsZWN0aW9uLCBNb25nb0RiLCBPYmplY3RJRCB9O1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJheGlvc1wiKTsiLCJjb25zdCBsdGFBY2NvdW50S2V5ID0gJzZzVnpmOXpYUmFDZ2tKVWRqeEl3MkE9PSc7XHJcblxyXG5jb25zdCBidXNBcnJpdmFsVXJsID1cclxuICAnaHR0cDovL2RhdGFtYWxsMi5teXRyYW5zcG9ydC5zZy9sdGFvZGF0YXNlcnZpY2UvQnVzQXJyaXZhbHYyJztcclxuY29uc3QgYnVzU3RvcHNVcmwgPSAnaHR0cDovL2RhdGFtYWxsMi5teXRyYW5zcG9ydC5zZy9sdGFvZGF0YXNlcnZpY2UvQnVzU3RvcHMnO1xyXG5cclxuY29uc3QgaGVhZGVyQ29uZmlnID0ge1xyXG4gIGhlYWRlcnM6IHtcclxuICAgIEFjY291bnRLZXk6IGx0YUFjY291bnRLZXlcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgeyBidXNBcnJpdmFsVXJsLCBidXNTdG9wc1VybCwgaGVhZGVyQ29uZmlnIH07XHJcbiIsImltcG9ydCBBeGlvcyBmcm9tICdheGlvcyc7XHJcblxyXG5pbXBvcnQgeyBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCB7IGJ1c1N0b3BzVXJsLCBoZWFkZXJDb25maWcgfSBmcm9tICcuL2x0YSc7XHJcbmltcG9ydCB7IEJ1c1N0b3BJbmZvIH0gZnJvbSAnLi9idXMtc3RvcHMtaW50ZXJmYWNlJztcclxuXHJcbmxldCBidXNTdG9wczogQnVzU3RvcEluZm9bXSA9IFtdO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0QnVzU3RvcHNGcm9tTHRhKHNraXA/OiBudW1iZXIpOiBQcm9taXNlPEJ1c1N0b3BJbmZvW10+IHtcclxuICB0cnkge1xyXG4gICAgbGV0IHVybCA9IGJ1c1N0b3BzVXJsO1xyXG4gICAgaWYgKHNraXApIHtcclxuICAgICAgdXJsICs9IGA/JHNraXA9JHtza2lwfWA7XHJcbiAgICB9XHJcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBBeGlvcy5nZXQodXJsLCBoZWFkZXJDb25maWcpO1xyXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPSAyMDApIHtcclxuICAgICAgdGhyb3cgeyBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEudmFsdWU7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgdGhyb3cgZTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEFsbEJ1c1N0b3BzKCkge1xyXG4gIHRyeSB7XHJcbiAgICBsZXQgc2tpcCA9IDA7XHJcbiAgICBsZXQgbmV3QnVzU3RvcHM6IEJ1c1N0b3BJbmZvW10gPSBbXTtcclxuICAgIGRvIHtcclxuICAgICAgbmV3QnVzU3RvcHMgPSBhd2FpdCBnZXRCdXNTdG9wc0Zyb21MdGEoc2tpcCk7XHJcbiAgICAgIGxldCB0ZW1wID0gYnVzU3RvcHM7XHJcbiAgICAgIGJ1c1N0b3BzID0gdGVtcC5jb25jYXQobmV3QnVzU3RvcHMpO1xyXG4gICAgICBza2lwICs9IDUwMDtcclxuICAgIH0gd2hpbGUgKG5ld0J1c1N0b3BzLmxlbmd0aCA9PT0gNTAwKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBidXNTdG9wcyA9IFtdO1xyXG4gICAgZ2V0QWxsQnVzU3RvcHMoKTtcclxuICB9XHJcbn1cclxuZ2V0QWxsQnVzU3RvcHMoKTtcclxuXHJcbmZ1bmN0aW9uIGNoZWNrQnVzU3RvcExvY2FsbHkoYnVzU3RvcENvZGU6IHN0cmluZykge1xyXG4gIGlmICghYnVzU3RvcENvZGUpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBidXNTdG9wcy5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKGJ1c1N0b3BDb2RlID09PSBidXNTdG9wc1tpXS5CdXNTdG9wQ29kZSkge1xyXG4gICAgICByZXR1cm4gYnVzU3RvcHNbaV07XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybjtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QnVzU3RvcEluZm8oYnVzU3RvcENvZGU6IHN0cmluZywgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghYnVzU3RvcENvZGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBCdXMgU3RvcCBDb2RlLicpO1xyXG4gIH1cclxuICBsZXQgYnVzU3RvcEluZm8gPSBjaGVja0J1c1N0b3BMb2NhbGx5KGJ1c1N0b3BDb2RlKTtcclxuICBpZiAoYnVzU3RvcEluZm8pIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChidXNTdG9wSW5mbyk7XHJcbiAgfVxyXG4gIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnQnVzIFN0b3AgSW5mbyBub3QgZm91bmQuJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE5lYXJieUJ1c1N0b3BzKGxhdGl0dWRlOiBudW1iZXIsIGxvbmdpdHVkZTogbnVtYmVyLCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKGxhdGl0dWRlID09PSB1bmRlZmluZWQgfHwgbG9uZ2l0dWRlID09PSB1bmRlZmluZWQpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBjb29yZGluYXRlcy4nKTtcclxuICB9XHJcblxyXG4gIGxldCBuZWFyYnlTdG9wcyA9IFtdO1xyXG4gIGNvbnN0IFIgPSA2MzcxZTM7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBidXNTdG9wcy5sZW5ndGg7IGkrKykge1xyXG4gICAgbGV0IGRMYXQgPSAoKGJ1c1N0b3BzW2ldLkxhdGl0dWRlIC0gbGF0aXR1ZGUpICogTWF0aC5QSSkgLyAxODA7XHJcbiAgICBsZXQgZExvbmcgPSAoKGJ1c1N0b3BzW2ldLkxvbmdpdHVkZSAtIGxvbmdpdHVkZSkgKiBNYXRoLlBJKSAvIDE4MDtcclxuXHJcbiAgICBsZXQgYSA9XHJcbiAgICAgIE1hdGguc2luKGRMYXQgLyAyKSAqIE1hdGguc2luKGRMYXQgLyAyKSArXHJcbiAgICAgIE1hdGguY29zKChidXNTdG9wc1tpXS5MYXRpdHVkZSAqIE1hdGguUEkpIC8gMTgwKSAqXHJcbiAgICAgICAgTWF0aC5jb3MoKGxhdGl0dWRlICogTWF0aC5QSSkgLyAxODApICpcclxuICAgICAgICBNYXRoLnNpbihkTG9uZyAvIDIpICpcclxuICAgICAgICBNYXRoLnNpbihkTG9uZyAvIDIpO1xyXG4gICAgbGV0IGMgPSAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xyXG4gICAgbGV0IGRpc3QgPSBSICogYztcclxuICAgIGlmIChNYXRoLmFicyhkaXN0KSA8IDQwMCkge1xyXG4gICAgICBuZWFyYnlTdG9wcy5wdXNoKGJ1c1N0b3BzW2ldKTtcclxuICAgIH1cclxuICB9XHJcbiAgcmVzLnN0YXR1cygyMDApLnNlbmQobmVhcmJ5U3RvcHMpO1xyXG59XHJcblxyXG5leHBvcnQgeyBidXNTdG9wcywgY2hlY2tCdXNTdG9wTG9jYWxseSwgZ2V0QnVzU3RvcEluZm8sIGdldE5lYXJieUJ1c1N0b3BzIH07XHJcbiIsImltcG9ydCB7IFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRGJDb2xsZWN0aW9uLCBPYmplY3RJRCB9IGZyb20gJy4uL21vbmdvZGItb3BzJztcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEdldEludmVudG9yeShyZXM6IFJlc3BvbnNlKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiSW52ZW50b3J5ID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1pbnZlbnRvcnknKTtcclxuICAgIGNvbnN0IGludmVudG9yeSA9IGF3YWl0IGRiSW52ZW50b3J5LmZpbmQoKS50b0FycmF5KCk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoaW52ZW50b3J5KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBxdHkgYnkgcHJvZHVjdDsgVG9kbzogYnkgY29sb3VyLCBzaXplLCBldGMuXHJcbmFzeW5jIGZ1bmN0aW9uIEFkanVzdEludmVudG9yeShfaWQ6IHN0cmluZywgcXR5OiBudW1iZXIsIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIV9pZCB8fCAhcXR5KSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgaW5wdXQuJyk7XHJcbiAgfVxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYkludmVudG9yeSA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtaW52ZW50b3J5Jyk7XHJcbiAgICBjb25zdCByc2x0ID0gYXdhaXQgZGJJbnZlbnRvcnkudXBkYXRlT25lKFxyXG4gICAgICB7XHJcbiAgICAgICAgX2lkOiBuZXcgT2JqZWN0SUQoX2lkKVxyXG4gICAgICB9LFxyXG4gICAgICB7ICRzZXQ6IHsgbW9kaWZpZWRPbjogbmV3IERhdGUoKSwgcXR5OiBxdHkgfSB9LFxyXG4gICAgICB7IHVwc2VydDogdHJ1ZSB9XHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJzbHQpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIFJlc2VydmVJbnZlbnRvcnkoaWQ6IHN0cmluZywgY2FydEl0ZW1zOiBhbnkpIHtcclxuICBpZiAoIWNhcnRJdGVtcyB8fCBjYXJ0SXRlbXMubGVuZ3RoIDw9IDApIHtcclxuICAgIHRocm93ICdUaGUgY2FydCBpcyBlbXB0eS4nO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHN1Y2Nlc3MgPSBbXTtcclxuICAgIGNvbnN0IGZhaWxlZCA9IFtdO1xyXG5cclxuICAgIGNvbnN0IGRiSW52ZW50b3J5ID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1pbnZlbnRvcnknKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FydEl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiSW52ZW50b3J5LnVwZGF0ZU9uZShcclxuICAgICAgICB7XHJcbiAgICAgICAgICBfaWQ6IG5ldyBPYmplY3RJRChjYXJ0SXRlbXNbaV0ucHJvZHVjdC5faWQpLFxyXG4gICAgICAgICAgcXR5OiB7ICRndGU6IGNhcnRJdGVtc1tpXS5xdHkgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgJGluYzogeyBxdHk6IC1jYXJ0SXRlbXNbaV0ucXR5IH0sXHJcbiAgICAgICAgICAkcHVzaDoge1xyXG4gICAgICAgICAgICByZXNlcnZhdGlvbnM6IHtcclxuICAgICAgICAgICAgICBxdHk6IGNhcnRJdGVtc1tpXS5xdHksXHJcbiAgICAgICAgICAgICAgX2lkOiBuZXcgT2JqZWN0SUQoaWQpLFxyXG4gICAgICAgICAgICAgIGNyZWF0ZWRPbjogbmV3IERhdGUoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgICBpZiAocmVzdWx0LnJlc3VsdC5uTW9kaWZpZWQgPT09IDApIHtcclxuICAgICAgICBmYWlsZWQucHVzaChjYXJ0SXRlbXNbaV0ucHJvZHVjdCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3VjY2Vzcy5wdXNoKGNhcnRJdGVtc1tpXS5wcm9kdWN0KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChmYWlsZWQubGVuZ3RoID4gMCkge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1Y2Nlc3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBkYkludmVudG9yeS51cGRhdGVPbmUoXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIF9pZDogc3VjY2Vzc1tpXS5faWQsXHJcbiAgICAgICAgICAgICdyZXNlcnZhdGlvbnMuX2lkJzogaWRcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgICRpbmM6IHsgcXR5OiBzdWNjZXNzW2ldLnF0eSB9LFxyXG4gICAgICAgICAgICAkcHVsbDogeyByZXNlcnZhdGlvbnM6IHsgX2lkOiBpZCB9IH1cclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICAgIHRocm93ICdOb3QgZW5vdWdoIHN0b3JhZ2UuJztcclxuICAgIH1cclxuICAgIHJldHVybiAnU3VjY2Vzcy4nO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHRocm93IGU7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBEZWxldGVJbnZlbnRvcnlSZXNlcnZhdGlvbihfaWQ6IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYkludmVudG9yeSA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtaW52ZW50b3J5Jyk7XHJcbiAgICBsZXQgdXBkYXRlUnNsdCA9IGF3YWl0IGRiSW52ZW50b3J5LnVwZGF0ZU9uZShcclxuICAgICAge1xyXG4gICAgICAgICdyZXNlcnZhdGlvbnMuX2lkJzogbmV3IE9iamVjdElEKF9pZClcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgICRwdWxsOiB7IHJlc2VydmF0aW9uczogeyBfaWQ6IG5ldyBPYmplY3RJRChfaWQpIH0gfVxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgaWYgKHVwZGF0ZVJzbHQucmVzdWx0Lm5Nb2RpZmllZCA8PSAwKSB7XHJcbiAgICAgIHRocm93ICdkZWxldGUgcmVzZXJ2YXRpb24gZmFpbGVkLic7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdXBkYXRlUnNsdDtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIHRocm93ICdkZWxldGUgcmVzZXJ2YXRpb24gZmFpbGVkIHdpdGggZXhjZXB0aW9uLic7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIEFkanVzdEludmVudG9yeSxcclxuICBEZWxldGVJbnZlbnRvcnlSZXNlcnZhdGlvbixcclxuICBHZXRJbnZlbnRvcnksXHJcbiAgUmVzZXJ2ZUludmVudG9yeVxyXG59O1xyXG4iLCJpbXBvcnQgeyBEYkNvbGxlY3Rpb24sIE1vbmdvRGIsIE9iamVjdElEIH0gZnJvbSAnLi4vbW9uZ29kYi1vcHMnO1xyXG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCB7IGVuY3J5cHQgfSBmcm9tICcuLi9zdHJpbmctb3BzJztcclxuXHJcbihhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgZGIgPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLXVzZXJzJyk7XHJcbiAgZGIuY3JlYXRlSW5kZXgoJ3VpZCcsIHsgdW5pcXVlOiB0cnVlIH0pO1xyXG59KSgpO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gTG9naW4ocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKHJlcS5zZXNzaW9uICYmIHJlcS5zZXNzaW9uLnVzZXIpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHVpZDogcmVxLnNlc3Npb24udXNlci51aWQgfSk7XHJcbiAgfVxyXG4gIHRyeSB7XHJcbiAgICBsZXQgZGJVc2VycyA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtdXNlcnMnKTtcclxuICAgIHJlcS5zZXNzaW9uLnVzZXIgPSBhd2FpdCBkYlVzZXJzLmZpbmRPbmUoe1xyXG4gICAgICB1aWQ6IHJlcS5ib2R5LnVpZCxcclxuICAgICAgcHdkOiBlbmNyeXB0KHJlcS5ib2R5LnB3ZClcclxuICAgIH0pO1xyXG4gICAgaWYgKCFyZXEuc2Vzc2lvbi51c2VyKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuc2VuZCgnSW5jb3JyZWN0IHVzZXJuYW1lIG9yIHBhc3N3b3JkJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyB1aWQ6IHJlcS5zZXNzaW9uLnVzZXIudWlkIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCgnc2VydmVyIGVycm9yLicpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTG9nb3V0KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmIChyZXEuc2Vzc2lvbiAmJiByZXEuc2Vzc2lvbi51c2VyKSB7XHJcbiAgICByZXEuc2Vzc2lvbi51c2VyID0gbnVsbDtcclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBSZWdpc3RlcihyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoXHJcbiAgICAhcmVxLmJvZHkudWlkIHx8XHJcbiAgICAhcmVxLmJvZHkucHdkIHx8XHJcbiAgICAhcmVxLmJvZHkuZW1haWwgfHxcclxuICAgICFyZXEuYm9keS5maXJzdE5hbWUgfHxcclxuICAgICFyZXEuYm9keS5sYXN0TmFtZVxyXG4gICkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIGlucHV0LicpO1xyXG4gIH1cclxuICB0cnkge1xyXG4gICAgbGV0IGRiVXNlcnMgPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLXVzZXJzJyk7XHJcbiAgICBsZXQgcnNsdCA9IGF3YWl0IGRiVXNlcnMuaW5zZXJ0T25lKHtcclxuICAgICAgdWlkOiByZXEuYm9keS51aWQsXHJcbiAgICAgIHB3ZDogZW5jcnlwdChyZXEuYm9keS5wd2QpLFxyXG4gICAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXHJcbiAgICAgIGZpcnN0TmFtZTogcmVxLmJvZHkuZmlyc3ROYW1lLFxyXG4gICAgICBsYXN0TmFtZTogcmVxLmJvZHkubGFzdE5hbWUsXHJcbiAgICAgIGNyZWF0ZWRPbjogbmV3IERhdGUoKVxyXG4gICAgfSk7XHJcbiAgICBpZiAocnNsdC5pbnNlcnRlZENvdW50ID09PSAxKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChyc2x0Lm9wc1swXSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoJ1JlZ2lzdGVyIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhlKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCgnUmVnaXN0ZXIgZmFpbGVkLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gRGVsZXRlVXNlcihzZXNzaW9uOiBhbnksIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIXNlc3Npb24gfHwgIXNlc3Npb24udXNlcikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKCdMb2dpbiBpcyByZXF1aXJlZC4nKTtcclxuICB9XHJcbiAgdHJ5IHtcclxuICAgIGxldCBkYiA9IGF3YWl0IE1vbmdvRGIoKTtcclxuICAgIGRiLmNvbGxlY3Rpb24oJ2dpZnRzLXVzZXJzJykuZGVsZXRlT25lKHtcclxuICAgICAgX2lkOiBzZXNzaW9uLnVzZXIuX2lkXHJcbiAgICB9KTtcclxuICAgIHNlc3Npb24udXNlciA9IG51bGw7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdVc2VyIGRlbGV0ZWQuJyB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBVc2VySW5mbyhzZXNzaW9uOiBhbnksIHJlcykge1xyXG4gIGlmICghYkxvZ2luKHNlc3Npb24pKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLnNlbmQoJ1VzZXIgTm90IGxvZ2luLicpO1xyXG4gIH1cclxuICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1xyXG4gICAgX2lkOiBzZXNzaW9uLnVzZXIuX2lkLFxyXG4gICAgdWlkOiBzZXNzaW9uLnVzZXIudWlkLFxyXG4gICAgZW1haWw6IHNlc3Npb24udXNlci5lbWFpbFxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBiTG9naW4oc2Vzc2lvbjogYW55KSB7XHJcbiAgaWYgKCFzZXNzaW9uIHx8ICFzZXNzaW9uLnVzZXIpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmV4cG9ydCB7IGJMb2dpbiwgTG9naW4sIExvZ291dCwgUmVnaXN0ZXIsIERlbGV0ZVVzZXIsIFVzZXJJbmZvIH07XHJcbiIsImltcG9ydCAqIGFzIGNyeXB0byBmcm9tICdjcnlwdG8nO1xyXG5cclxuY29uc3QgYWxnb3JpdGhtID0gJ2Flcy0xOTItY2JjJztcclxuY29uc3QgcGFzc3dvcmQgPSAnaW5TR3ljODMnO1xyXG5jb25zdCBrZXkgPSBjcnlwdG8uc2NyeXB0U3luYyhwYXNzd29yZCwgJ3NhbHQnLCAyNCk7XHJcbmNvbnN0IGl2ID0gQnVmZmVyLmFsbG9jKDE2LCAwKTtcclxuXHJcbmZ1bmN0aW9uIGVuY3J5cHQodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcclxuICB0cnkge1xyXG4gICAgbGV0IGNpcGhlciA9IGNyeXB0by5jcmVhdGVDaXBoZXJpdihhbGdvcml0aG0sIGtleSwgaXYpO1xyXG4gICAgbGV0IGNyeXB0ZWQ6IHN0cmluZyA9IGNpcGhlci51cGRhdGUodGV4dCwgJ3V0ZjgnLCAnaGV4Jyk7XHJcbiAgICBjcnlwdGVkICs9IGNpcGhlci5maW5hbCgnaGV4Jyk7XHJcbiAgICByZXR1cm4gY3J5cHRlZDtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnZW5jcnlwdCA9PiAnLCBlKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlY3J5cHQodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcclxuICB0cnkge1xyXG4gICAgbGV0IGRlY2lwaGVyID0gY3J5cHRvLmNyZWF0ZURlY2lwaGVyaXYoYWxnb3JpdGhtLCBrZXksIGl2KTtcclxuICAgIGxldCBkZWM6IHN0cmluZyA9IGRlY2lwaGVyLnVwZGF0ZSh0ZXh0LCAnaGV4JywgJ3V0ZjgnKTtcclxuICAgIGRlYyArPSBkZWNpcGhlci5maW5hbCgndXRmOCcpO1xyXG4gICAgcmV0dXJuIGRlYztcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnZGVjcnlwdCA9PiAnLCBlKTtcclxuICB9XHJcbn1cclxuXHJcbi8qXHJcbiAqIHN0cmluZyBvcGVyYXRpb25cclxuICovXHJcbmVudW0gUmFuZG9tVHlwZXMge1xyXG4gIENhcGl0YWwsXHJcbiAgTnVtYmVyLFxyXG4gIFN0cmluZ1xyXG59XHJcblxyXG4vLyByZXR1cm4gc3RyaW5nIG9mIHJhbmRvbSBudW1iZXJzIHdpdGggc3BlY2lmaWVkIGxlbmd0aC5cclxuZnVuY3Rpb24gcmFuZG9tTnVtYmVyKGxlbmd0aDogbnVtYmVyKTogc3RyaW5nIHtcclxuICByZXR1cm4gcmFuZG9tKFJhbmRvbVR5cGVzLk51bWJlciwgbGVuZ3RoKTtcclxufVxyXG5cclxuLy8gcmV0dXJuIHN0cmluZyBvZiByYW5kb20gY2FwaXRhbCBjaGFyYWN0ZXJzIHdpdGggc3BlY2lmaWVkIGxlbmd0aC5cclxuZnVuY3Rpb24gcmFuZG9tQ2FwaXRhbHMobGVuZ3RoOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gIHJldHVybiByYW5kb20oUmFuZG9tVHlwZXMuQ2FwaXRhbCwgbGVuZ3RoKTtcclxufVxyXG5cclxuLy8gcmV0dXJuIHN0cmluZyBvZiByYW5kb20gY2hhcmFjdGVycyBvciBudW1iZXJzIHdpdGggc3BlY2lmaWVkIGxlbmd0aC5cclxuZnVuY3Rpb24gcmFuZG9tU3RyaW5nKGxlbmd0aDogbnVtYmVyKTogc3RyaW5nIHtcclxuICByZXR1cm4gcmFuZG9tKFJhbmRvbVR5cGVzLlN0cmluZywgbGVuZ3RoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmFuZG9tKHR5cGU6IFJhbmRvbVR5cGVzLCBsZW5ndGg6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgbGV0IHJTdHJpbmc6IHN0cmluZyA9ICcnO1xyXG4gIGlmICh0eXBlID09PSBSYW5kb21UeXBlcy5TdHJpbmcpIHtcclxuICAgIHJTdHJpbmcgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVonO1xyXG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gUmFuZG9tVHlwZXMuTnVtYmVyKSB7XHJcbiAgICByU3RyaW5nID0gJzAxMjM0NTY3ODknO1xyXG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gUmFuZG9tVHlwZXMuQ2FwaXRhbCkge1xyXG4gICAgclN0cmluZyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWic7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiAnJztcclxuICB9XHJcblxyXG4gIGxldCByZXN1bHQ6IHN0cmluZyA9ICcnO1xyXG4gIGZvciAobGV0IGkgPSBsZW5ndGg7IGkgPiAwOyAtLWkpIHtcclxuICAgIHJlc3VsdCArPSByU3RyaW5nW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHJTdHJpbmcubGVuZ3RoKV07XHJcbiAgfVxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgZW5jcnlwdCxcclxuICBkZWNyeXB0LFxyXG4gIHJhbmRvbUNhcGl0YWxzLFxyXG4gIHJhbmRvbU51bWJlcixcclxuICByYW5kb21TdHJpbmcsXHJcbiAgUmFuZG9tVHlwZXNcclxufTtcclxuIiwiaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0ICogYXMgc2Vzc2lvbiBmcm9tICdleHByZXNzLXNlc3Npb24nO1xyXG4vLyBpbXBvcnQgKiBhcyBodHRwcyBmcm9tICdodHRwcyc7XHJcbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcclxuaW1wb3J0IHsgam9pbiB9IGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgKiBhcyBjb3JzIGZyb20gJ2NvcnMnO1xyXG5pbXBvcnQgKiBhcyBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcclxuXHJcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlLCBOZXh0RnVuY3Rpb24gfSBmcm9tICcuL2ludGVyZmFjZSc7XHJcbmltcG9ydCBhcGlSb3V0ZXIgZnJvbSAnLi9hcGktcm91dGVyJztcclxuXHJcbi8vIEV4cHJlc3Mgc2VydmVyXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuXHJcbmFwcC51c2UoY29ycygpKTtcclxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XHJcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcclxuXHJcbmFwcC51c2UoXHJcbiAgc2Vzc2lvbih7XHJcbiAgICBzZWNyZXQ6ICdpbnNnLXljLWx5LTE3JyxcclxuICAgIHJlc2F2ZTogZmFsc2UsXHJcbiAgICBzYXZlVW5pbml0aWFsaXplZDogdHJ1ZSxcclxuICAgIGNvb2tpZToge1xyXG4gICAgICBtYXhBZ2U6IDEwMDAgKiA2MCAqIDYwICogMjQgLy8gbWlsbHNlY29uZHMgb2YgMjRocnMgIH1cclxuICAgIH1cclxuICB9KVxyXG4pO1xyXG5cclxuYXBwLnVzZSgnL2FwaScsIGFwaVJvdXRlcik7XHJcblxyXG5hcHAuZ2V0KCcvJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUoam9pbihfX2Rpcm5hbWUsICcvY2xpZW50L2luZGV4Lmh0bWwnKSk7XHJcbn0pO1xyXG5cclxuLy8gU2VydmVyIHN0YXRpYyBmaWxlcyBmcm9tIC9jbGllbnRcclxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhqb2luKF9fZGlybmFtZSwgJy9jbGllbnQnKSkpO1xyXG5hcHAudXNlKFxyXG4gIGV4cHJlc3Muc3RhdGljKGpvaW4oX19kaXJuYW1lLCAnL2NsaWVudC9hc3NldHMnKSwgeyBkb3RmaWxlczogJ2FsbG93JyB9KVxyXG4pO1xyXG5cclxuLy8gZXJyb3IgaGFuZGxpbmcgLSAxXHJcbmFwcC5hbGwoJy8qJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZEZpbGUoam9pbihfX2Rpcm5hbWUsICcvY2xpZW50L2luZGV4Lmh0bWwnKSk7XHJcbn0pO1xyXG4vLyBlcnJvciBoYW5kbGluZyAtIDJcclxuYXBwLnVzZSgocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlLCBuZXh0OiBOZXh0RnVuY3Rpb24pID0+IHtcclxuICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoJ0lzc3VlIGhhcHBlbmVkLiBQbGVhc2UgcmV0cnkgbGF0ZXIhJyk7XHJcbn0pO1xyXG5cclxuYXBwLmxpc3Rlbig4MDgwLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ2FwcCBsaXN0ZW5pbmcgb24gcG9ydCA4MDgwLicpO1xyXG59KTtcclxuXHJcbi8vIFN0YXJ0IHVwIHRoZSBOb2RlIGh0dHBzIHNlcnZlclxyXG4vLyBjb25zdCBodHRwc09wdGlvbnMgPSB7XHJcbi8vICAgY2VydDogZnMucmVhZEZpbGVTeW5jKGpvaW4oX19kaXJuYW1lLCAnLi9zc2xmb3JmcmVlL2NlcnQucGVtJykpLFxyXG4vLyAgIGtleTogZnMucmVhZEZpbGVTeW5jKGpvaW4oX19kaXJuYW1lLCAnLi9zc2xmb3JmcmVlL3ByaXZrZXkucGVtJykpLFxyXG4vLyAgIGNhOiBmcy5yZWFkRmlsZVN5bmMoam9pbihfX2Rpcm5hbWUsICcuL3NzbGZvcmZyZWUvY2hhaW4ucGVtJykpXHJcbi8vIH07XHJcbi8vIGNvbnN0IGh0dHBzX3NlcnZlciA9IGh0dHBzLmNyZWF0ZVNlcnZlcihodHRwc09wdGlvbnMsIGFwcCk7XHJcbi8vIGh0dHBzX3NlcnZlci5saXN0ZW4oMzAwMCwgJzAuMC4wLjAnLCAoKSA9PiB7XHJcbi8vICAgY29uc29sZS5sb2coYE5vZGUgc2VydmVyIGxpc3RlbmluZyBvbiBodHRwcyBwb3J0IDMwMDBgKTtcclxuLy8gfSk7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3Mtc2Vzc2lvblwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXRoXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcnNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm9keS1wYXJzZXJcIik7IiwiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnLi9pbnRlcmZhY2UnO1xyXG5cclxuaW1wb3J0IHsgYnVzUm91dGVyIH0gZnJvbSAnLi9sdGEvcm91dGVyJztcclxuaW1wb3J0IGh0dHBSb3V0ZXIgZnJvbSAnLi9odHRwLXJlcXVlc3Qvcm91dGVyJztcclxuaW1wb3J0IHtcclxuICBkaWN0aW9uYXJ5Um91dGVyLFxyXG4gIGx1bmNoZnVuUm91dGVyXHJcbn0gZnJvbSAnLi9sdW5jaGZ1bi1hbmQtZGljdGlvbmFyeS9yb3V0ZXInO1xyXG5pbXBvcnQgZ2lmdHNSb3V0ZXIgZnJvbSAnLi9hcGktZ2lmdHMtcm91dGVyJztcclxuaW1wb3J0IFNlbmRFbWFpbCBmcm9tICcuL2VtYWlsL2VtYWlsLm9wcyc7XHJcblxyXG5jb25zdCBhcGlSb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbi8vIHVybDogL2FwaVxyXG5hcGlSb3V0ZXIudXNlKCcvZGljdGlvbmFyeScsIGRpY3Rpb25hcnlSb3V0ZXIpO1xyXG5hcGlSb3V0ZXIudXNlKCcvaHR0cCcsIGh0dHBSb3V0ZXIpO1xyXG5hcGlSb3V0ZXIudXNlKCcvbHVuY2hmdW4nLCBsdW5jaGZ1blJvdXRlcik7XHJcbmFwaVJvdXRlci51c2UoJy9sdGEvYnVzJywgYnVzUm91dGVyKTtcclxuYXBpUm91dGVyLnVzZSgnL2dpZnRzJywgZ2lmdHNSb3V0ZXIpO1xyXG5cclxuLy8gbXNnIGZyb20gdXNlcnM7IGZvcndhcmQgaXQgdmlhIG5vZGVtYWlsZXIuXHJcbmFwaVJvdXRlci5wb3N0KCcvbXNnJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIFNlbmRFbWFpbChyZXEuYm9keSwgcmVzKTtcclxufSk7XHJcblxyXG4vLyBlcnJvciBoYW5kbGluZ1xyXG5hcGlSb3V0ZXIuYWxsKCcvKicsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgUmVxdWVzdCcpO1xyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFwaVJvdXRlcjtcclxuIiwiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCBnZXRCdXNBcnJpdmFsIGZyb20gJy4vYnVzLWFycml2YWwnO1xyXG5pbXBvcnQgeyBnZXRCdXNTdG9wSW5mbywgZ2V0TmVhcmJ5QnVzU3RvcHMgfSBmcm9tICcuL2J1cy1zdG9wcyc7XHJcblxyXG4vLyB1cmw6IC9hcGkvbHRhL2J1c1xyXG5jb25zdCBidXNSb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbmJ1c1JvdXRlci5nZXQoJy9idXNBcnJpdmFsLzpidXNTdG9wQ29kZScsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBnZXRCdXNBcnJpdmFsKHJlcS5wYXJhbXMuYnVzU3RvcENvZGUsIHJlcyk7XHJcbn0pO1xyXG5cclxuYnVzUm91dGVyLmdldCgnL2J1c1N0b3AvOmJ1c1N0b3BDb2RlJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIGdldEJ1c1N0b3BJbmZvKHJlcS5wYXJhbXMuYnVzU3RvcENvZGUsIHJlcyk7XHJcbn0pO1xyXG5cclxuYnVzUm91dGVyLmdldCgnL25lYXJieUJ1c1N0b3BzJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIGdldE5lYXJieUJ1c1N0b3BzKHJlcS5xdWVyeS5sYXRpdHVkZSwgcmVxLnF1ZXJ5LmxvbmdpdHVkZSwgcmVzKTtcclxufSk7XHJcblxyXG5leHBvcnQgeyBidXNSb3V0ZXIgfTtcclxuIiwiaW1wb3J0IEF4aW9zIGZyb20gJ2F4aW9zJztcclxuXHJcbmltcG9ydCB7IFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgYnVzQXJyaXZhbFVybCwgaGVhZGVyQ29uZmlnIH0gZnJvbSAnLi9sdGEnO1xyXG5pbXBvcnQgeyBjaGVja0J1c1N0b3BMb2NhbGx5IH0gZnJvbSAnLi9idXMtc3RvcHMnO1xyXG5cclxuZnVuY3Rpb24gZ2V0QnVzQXJyaXZhbChidXNTdG9wQ29kZTogc3RyaW5nLCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgYnVzU3RvcENvZGUgPSBidXNTdG9wQ29kZS50cmltKCk7XHJcbiAgaWYgKCFidXNTdG9wQ29kZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIEJ1c1N0b3BDb2RlLicpO1xyXG4gIH1cclxuXHJcbiAgbGV0IGJ1c1N0b3BJbmZvID0gY2hlY2tCdXNTdG9wTG9jYWxseShidXNTdG9wQ29kZSk7XHJcbiAgaWYgKCFidXNTdG9wSW5mbykge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdCdXMgU3RvcCBub3QgZm91bmQuJyk7XHJcbiAgfVxyXG5cclxuICBsZXQgdXJsID0gYCR7YnVzQXJyaXZhbFVybH0/QnVzU3RvcENvZGU9JHtidXNTdG9wQ29kZX1gO1xyXG4gIEF4aW9zLmdldCh1cmwsIGhlYWRlckNvbmZpZylcclxuICAgIC50aGVuKHJlc3Bvc2UgPT4ge1xyXG4gICAgICByZXNcclxuICAgICAgICAuc3RhdHVzKDIwMClcclxuICAgICAgICAuc2VuZCh7IGJ1c1N0b3BJbmZvOiBidXNTdG9wSW5mbywgYnVzQXJyaXZhbDogcmVzcG9zZS5kYXRhIH0pO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZ2V0QnVzQXJyaXZhbDtcclxuIiwiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCB7IERlbGV0ZSwgR2V0LCBQb3N0LCBQdXQgfSBmcm9tICcuL2h0dHAtcmVxdWVzdCc7XHJcblxyXG5jb25zdCBodHRwUm91dGVyID0gUm91dGVyKCk7XHJcblxyXG5odHRwUm91dGVyLnBvc3QoJycsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBpZiAocmVxLmJvZHkudHlwZSA9PT0gJ0RFTEVURScpIHtcclxuICAgIERlbGV0ZShyZXEuYm9keSwgcmVzKTtcclxuICB9IGVsc2UgaWYgKHJlcS5ib2R5LnR5cGUgPT09ICdHRVQnKSB7XHJcbiAgICBHZXQocmVxLmJvZHksIHJlcyk7XHJcbiAgfSBlbHNlIGlmIChyZXEuYm9keS50eXBlID09PSAnUE9TVCcpIHtcclxuICAgIFBvc3QocmVxLmJvZHksIHJlcyk7XHJcbiAgfSBlbHNlIGlmIChyZXEuYm9keS50eXBlID09PSAnUFVUJykge1xyXG4gICAgUHV0KHJlcS5ib2R5LCByZXMpO1xyXG4gIH1cclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBodHRwUm91dGVyO1xyXG4iLCJpbXBvcnQgQXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5cclxuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5cclxuZnVuY3Rpb24gRGVsZXRlKGJvZHk6IGFueSwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGxldCB1cmwgPSBib2R5LnVybDtcclxuICBpZiAoYm9keS5xdWVyeXMgJiYgYm9keS5xdWVyeXMubGVuZ3RoID4gMCkge1xyXG4gICAgdXJsICs9ICc/JztcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm9keS5xdWVyeXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgdXJsICs9IGJvZHkucXVlcnlbaV07XHJcbiAgICAgIHVybCArPSAnPSc7XHJcbiAgICAgIHVybCArPSBib2R5LnF1ZXJ5VmFsdWVbaV07XHJcbiAgICB9XHJcbiAgfVxyXG4gIEF4aW9zLmRlbGV0ZSh1cmwpXHJcbiAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJlc3BvbnNlKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGUpO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gUG9zdChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcclxuICBsZXQgaGVhZGVycyA9IHt9O1xyXG5cclxuICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQocmVxKTtcclxuICBsZXQgdXJsOiBzdHJpbmcgPSByZXEuYm9keS51cmw7XHJcbiAgaWYgKHJlcS5ib2R5LmhlYWRlcnMpIHtcclxuICAgIGhlYWRlcnMgPSB7XHJcbiAgICAgIGhlYWRlcnM6IHJlcS5ib2R5LmhlYWRlcnNcclxuICAgIH07XHJcbiAgfVxyXG4gIGlmIChyZXEuYm9keS5wYXJhbWV0ZXJzKSB7XHJcbiAgICB1cmwgKz0gJz8nO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXEuYm9keS5wYXJhbWV0ZXJzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgIHVybCArPSByZXEuYm9keS5wYXJhbWV0ZXJzW2ldICsgJz0nICsgcmVxLmJvZHkucGFyYW1ldGVyVmFsdWVbaV0gKyAnJic7XHJcbiAgICB9XHJcbiAgfVxyXG4gIEF4aW9zLmdldCh1cmwsIGhlYWRlcnMpLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgcmVzLnNlbmQocmVzcG9uc2UuZGF0YSk7XHJcbiAgfSk7XHJcbn1cclxuZnVuY3Rpb24gUHV0KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4gIEF4aW9zLnB1dChyZXEuYm9keS51cmwpLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgcmVzLnNlbmQocmVzcG9uc2UuZGF0YSk7XHJcbiAgfSk7XHJcbn1cclxuZnVuY3Rpb24gR2V0KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4gIEF4aW9zLnBvc3QocmVxLmJvZHkudXJsKS50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgIHJlcy5zZW5kKHJlc3BvbnNlLmRhdGEpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgeyBEZWxldGUsIEdldCwgUG9zdCwgUHV0IH07XHJcbiIsImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xyXG5cclxuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQgQ2hlY2tPeGZvcmREaWN0aW9uYXJ5IGZyb20gJy4vZGljdGlvbmFyeSc7XHJcbmltcG9ydCB7IEFkZFBhbCwgRGVsZXRlUGFsLCBHZXRQYWxzLCBHZXRQYWxzQXR0ZW5kYW5jZSB9IGZyb20gJy4vbHVuY2hmdW4tcGFscyc7XHJcbmltcG9ydCB7IEFkZFJlY29yZCwgRGVsZXRlUmVjb3JkLCBHZXRSZWNvcmRzIH0gZnJvbSAnLi9sdW5jaGZ1bi1yZWNvcmRzJztcclxuXHJcbmNvbnN0IGRpY3Rpb25hcnlSb3V0ZXIgPSBSb3V0ZXIoKTtcclxuY29uc3QgbHVuY2hmdW5Sb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbmRpY3Rpb25hcnlSb3V0ZXIuZ2V0KCcvb3hmb3JkLzp3b3JkJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIENoZWNrT3hmb3JkRGljdGlvbmFyeShyZXEucGFyYW1zLndvcmQsIHJlcyk7XHJcbn0pO1xyXG5cclxubHVuY2hmdW5Sb3V0ZXIuZ2V0KCcvcGFscycsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBHZXRQYWxzKHJlcyk7XHJcbn0pO1xyXG5sdW5jaGZ1blJvdXRlci5wb3N0KCcvcGFsJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIEFkZFBhbChyZXEuYm9keS5uYW1lLCByZXMpO1xyXG59KTtcclxubHVuY2hmdW5Sb3V0ZXIuZGVsZXRlKCcvcGFsJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIERlbGV0ZVBhbChyZXEucXVlcnksIHJlcyk7XHJcbn0pO1xyXG5cclxubHVuY2hmdW5Sb3V0ZXIuZ2V0KCcvcmVjb3JkcycsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBHZXRSZWNvcmRzKHJlcyk7XHJcbn0pO1xyXG5sdW5jaGZ1blJvdXRlci5wb3N0KCcvcmVjb3JkJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIEFkZFJlY29yZChyZXEuYm9keS5wYXllciwgcmVxLmJvZHkuYXR0ZW5kZWVzLCByZXMpO1xyXG59KTtcclxubHVuY2hmdW5Sb3V0ZXIuZGVsZXRlKCcvcmVjb3JkJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIERlbGV0ZVJlY29yZChyZXEucXVlcnkuX2lkLCByZXMpO1xyXG59KTtcclxuXHJcbmx1bmNoZnVuUm91dGVyLmdldCgnL3N0YXRzL2F0dGVuZGFuY2UnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgR2V0UGFsc0F0dGVuZGFuY2UocmVzKTtcclxufSk7XHJcblxyXG5leHBvcnQgeyBkaWN0aW9uYXJ5Um91dGVyLCBsdW5jaGZ1blJvdXRlciB9O1xyXG4iLCJpbXBvcnQgKiBhcyBPeGZvcmREaWN0aW9uYXJ5IGZyb20gJ294Zm9yZC1kaWN0aW9uYXJ5LWFwaSc7IC8vIHRzbGludDpkaXNhYmxlLWxpbmVcclxuXHJcbmltcG9ydCB7IFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuXHJcbmNvbnN0IGFwcF9pZDogc3RyaW5nID0gJzAzMTRlOWUyJztcclxuY29uc3QgYXBwX2tleTogc3RyaW5nID0gJzVhNmMyNTg5NDc0YTJmODNjY2Q2OWYzOTdiZmVjN2EyJztcclxuY29uc3QgRElDVCA9IG5ldyBPeGZvcmREaWN0aW9uYXJ5KGFwcF9pZCwgYXBwX2tleSk7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBDaGVja094Zm9yZERpY3Rpb25hcnkod29yZDogc3RyaW5nLCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCF3b3JkIHx8ICF3b3JkLnRyaW0oKSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIHdvcmQuJyk7XHJcbiAgfVxyXG5cclxuICBESUNULmZpbmQod29yZC50cmltKCksIChlcnIsIGRhdGEpID0+IHtcclxuICAgIGlmIChlcnIpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGVycik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoZGF0YSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENoZWNrT3hmb3JkRGljdGlvbmFyeTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwib3hmb3JkLWRpY3Rpb25hcnktYXBpXCIpOyIsImltcG9ydCB7IFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRGJDb2xsZWN0aW9uIH0gZnJvbSAnLi4vbW9uZ29kYi1vcHMnO1xyXG5cclxubGV0IGx1bmNoUGFscyA9IFtdO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmVmcmVzaFBhbHMoKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHBhbHNDb2xsZWN0aW9uID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdsdW5jaGZ1bi1wYWxzJyk7XHJcbiAgICBsdW5jaFBhbHMgPSBhd2FpdCBwYWxzQ29sbGVjdGlvblxyXG4gICAgICAuZmluZCgpXHJcbiAgICAgIC5zb3J0KHsgbmFtZTogMSB9KVxyXG4gICAgICAudG9BcnJheSgpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHRocm93IGU7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBHZXRQYWxzKHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAobHVuY2hQYWxzLmxlbmd0aCA+IDApIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChsdW5jaFBhbHMpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHJlZnJlc2hQYWxzKCk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQobHVuY2hQYWxzKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBBZGRQYWwobmFtZTogc3RyaW5nLCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFuYW1lKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgaW5wdXQuJyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcGFsc0NvbGxlY3Rpb24gPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2x1bmNoZnVuLXBhbHMnKTtcclxuICAgIHBhbHNDb2xsZWN0aW9uLmluc2VydE9uZSh7IG5hbWU6IG5hbWUgfSk7XHJcbiAgICByZWZyZXNoUGFscygpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIERlbGV0ZVBhbChuYW1lOiBzdHJpbmcsIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIW5hbWUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBuYW1lIHRvIGRlbGV0ZS4nKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwYWxzQ29sbGVjdGlvbiA9IGF3YWl0IERiQ29sbGVjdGlvbignbHVuY2hmdW4tcGFscycpO1xyXG4gICAgcGFsc0NvbGxlY3Rpb24uZGVsZXRlT25lKHsgbmFtZTogbmFtZSB9KTtcclxuICAgIHJlZnJlc2hQYWxzKCk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gR2V0UGFsc0F0dGVuZGFuY2UocmVzOiBSZXNwb25zZSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdsdW5jaGZ1bi1yZWNvcmRzJyk7XHJcbiAgICBjb25zdCBhdHRlbmRhbmNlcyA9IGF3YWl0IGNvbGxlY3Rpb25cclxuICAgICAgLmFnZ3JlZ2F0ZShbXHJcbiAgICAgICAgeyAkdW53aW5kOiAnJGF0dGVuZGVlcycgfSxcclxuICAgICAgICB7ICRncm91cDogeyBfaWQ6ICckYXR0ZW5kZWVzJywgYXR0ZW5kYW5jZTogeyAkc3VtOiAxIH0gfSB9LFxyXG4gICAgICAgIHsgJHByb2plY3Q6IHsgbmFtZTogJyRfaWQnLCBhdHRlbmRhbmNlOiAnJGF0dGVuZGFuY2UnIH0gfVxyXG4gICAgICBdKVxyXG4gICAgICAudG9BcnJheSgpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGF0dGVuZGFuY2VzKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBBZGRQYWwsIERlbGV0ZVBhbCwgR2V0UGFscywgR2V0UGFsc0F0dGVuZGFuY2UgfTtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibW9uZ29kYlwiKTsiLCJpbXBvcnQgeyBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCB7IERiQ29sbGVjdGlvbiwgT2JqZWN0SUQgfSBmcm9tICcuLi9tb25nb2RiLW9wcyc7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBHZXRSZWNvcmRzKHJlczogUmVzcG9uc2UsIHF0eT86IG51bWJlcikge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdsdW5jaGZ1bi1yZWNvcmRzJyk7XHJcbiAgICBjb25zdCByZWNvcmRzID0gYXdhaXQgY29sbGVjdGlvblxyXG4gICAgICAuZmluZCh7fSlcclxuICAgICAgLnNvcnQoeyBjcmVhdGVkT246IC0xIH0pXHJcbiAgICAgIC5saW1pdChxdHkgfCAzMClcclxuICAgICAgLnRvQXJyYXkoKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChyZWNvcmRzKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBBZGRSZWNvcmQocGF5ZXI6IHN0cmluZywgYXR0ZW5kZWVzOiBzdHJpbmdbXSwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghcGF5ZXIgfHwgIWF0dGVuZGVlcyB8fCBhdHRlbmRlZXMubGVuZ3RoIDw9IDApIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBwYXJhbXMgdG8gYWRkLicpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2x1bmNoZnVuLXJlY29yZHMnKTtcclxuICAgIGF3YWl0IGNvbGxlY3Rpb24uaW5zZXJ0T25lKHtcclxuICAgICAgcGF5ZXI6IHBheWVyLFxyXG4gICAgICBhdHRlbmRlZXM6IGF0dGVuZGVlcyxcclxuICAgICAgY3JlYXRlZE9uOiBuZXcgRGF0ZSgpXHJcbiAgICB9KTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhlKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCgnRXJyb3IgYXQgc2VydmVyLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gRGVsZXRlUmVjb3JkKF9pZDogc3RyaW5nLCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFfaWQpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCByZWNvcmQgdG8gZGVsZXRlLicpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2x1bmNoZnVuLXJlY29yZHMnKTtcclxuICAgIGNvbGxlY3Rpb24uZGVsZXRlT25lKHsgX2lkOiBuZXcgT2JqZWN0SUQoX2lkKSB9KTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBBZGRSZWNvcmQsIERlbGV0ZVJlY29yZCwgR2V0UmVjb3JkcyB9O1xyXG4iLCJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcclxuXHJcbmltcG9ydCBnaWZ0c1Byb2R1Y3RzUm91dGVyIGZyb20gJy4vZ2lmdHMtcHJvZHVjdHMvZ2lmdHMtcHJvZHVjdHMtcm91dGVyJztcclxuaW1wb3J0IGdpZnRzT3JkZXJzUm91dGVyIGZyb20gJy4vZ2lmdHMtb3JkZXJzL2dpZnRzLW9yZGVycy1yb3V0ZXInO1xyXG5pbXBvcnQgZ2lmdHNVc2Vyc1JvdXRlciBmcm9tICcuL2dpZnRzLXVzZXJzL2dpZnRzLXVzZXJzLXJvdXRlcic7XHJcbmltcG9ydCBnaWZ0c1N0YWZmc1JvdXRlciBmcm9tICcuL2dpZnRzLXN0YWZmcy9naWZ0cy1zdGFmZnMtcm91dGVyJztcclxuXHJcbmNvbnN0IGdpZnRzUm91dGVyID0gUm91dGVyKCk7XHJcblxyXG4vLyB1cmw6IC9hcGkvZ2lmdHNcclxuZ2lmdHNSb3V0ZXIudXNlKCcvcHJvZHVjdHMnLCBnaWZ0c1Byb2R1Y3RzUm91dGVyKTtcclxuZ2lmdHNSb3V0ZXIudXNlKCcvb3JkZXJzJywgZ2lmdHNPcmRlcnNSb3V0ZXIpO1xyXG5naWZ0c1JvdXRlci51c2UoJy91c2VycycsIGdpZnRzVXNlcnNSb3V0ZXIpO1xyXG5naWZ0c1JvdXRlci51c2UoJy9zdGFmZnMnLCBnaWZ0c1N0YWZmc1JvdXRlcik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBnaWZ0c1JvdXRlcjtcclxuIiwiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCB7XHJcbiAgQWRkQ2F0ZWdvcnksXHJcbiAgRGVsZXRlQ2F0ZWdvcnksXHJcbiAgR2V0Q2F0ZWdvcmllcyxcclxuICBHZXRTYW1wbGVzT2ZDYXRlZ29yaWVzXHJcbn0gZnJvbSAnLi9naWZ0cy1wcm9kdWN0cy1jYXRlZ29yaWVzLm9wcyc7XHJcbmltcG9ydCB7XHJcbiAgQWRkUHJvZHVjdCxcclxuICBEZWxldGVQcm9kdWN0LFxyXG4gIEdldFByb2R1Y3QsXHJcbiAgR2V0UHJvZHVjdHNCeUNhdGVnb3J5LFxyXG4gIFVwZGF0ZVByb2R1Y3RcclxufSBmcm9tICcuL2dpZnRzLXByb2R1Y3RzLm9wcyc7XHJcbmltcG9ydCB7IEFkanVzdEludmVudG9yeSwgR2V0SW52ZW50b3J5IH0gZnJvbSAnLi9naWZ0cy1wcm9kdWN0cy1pbnZlbnRvcnkub3BzJztcclxuXHJcbmNvbnN0IGdpZnRzUHJvZHVjdHNSb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbmdpZnRzUHJvZHVjdHNSb3V0ZXIuZ2V0KCcvdmlldy86cHJvZHVjdF9ubycsIChyZXEsIHJlcykgPT4ge1xyXG4gIEdldFByb2R1Y3QocmVxLnBhcmFtcywgcmVzKTtcclxufSk7XHJcblxyXG4vKlxyXG4gKiBpbnF1aXJ5OiAvYXBpL2dpZnRzL3Byb2R1Y3RzXHJcbiAqL1xyXG5naWZ0c1Byb2R1Y3RzUm91dGVyLmdldCgnL2NhdGVnb3JpZXMnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgR2V0Q2F0ZWdvcmllcyhyZXMpO1xyXG59KTtcclxuZ2lmdHNQcm9kdWN0c1JvdXRlci5wb3N0KCcvY2F0ZWdvcnknLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgQWRkQ2F0ZWdvcnkocmVxLmJvZHksIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1Byb2R1Y3RzUm91dGVyLmRlbGV0ZSgnL2NhdGVnb3J5JywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIERlbGV0ZUNhdGVnb3J5KHJlcS5xdWVyeSwgcmVzKTtcclxufSk7XHJcblxyXG5naWZ0c1Byb2R1Y3RzUm91dGVyLmdldCgnL3NhbXBsZXMnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgR2V0U2FtcGxlc09mQ2F0ZWdvcmllcyhyZXMpO1xyXG59KTtcclxuZ2lmdHNQcm9kdWN0c1JvdXRlci5nZXQoJycsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBHZXRQcm9kdWN0c0J5Q2F0ZWdvcnkocmVxLCByZXMpO1xyXG59KTtcclxuZ2lmdHNQcm9kdWN0c1JvdXRlci5nZXQoJy9wcm9kdWN0JywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIEdldFByb2R1Y3QocmVxLnF1ZXJ5LCByZXMpO1xyXG59KTtcclxuZ2lmdHNQcm9kdWN0c1JvdXRlci5wb3N0KCcvcHJvZHVjdCcsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBBZGRQcm9kdWN0KHJlcS5ib2R5LCByZXMpO1xyXG59KTtcclxuZ2lmdHNQcm9kdWN0c1JvdXRlci5wdXQoJy9wcm9kdWN0JywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIFVwZGF0ZVByb2R1Y3QocmVxLmJvZHksIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1Byb2R1Y3RzUm91dGVyLmRlbGV0ZSgnL3Byb2R1Y3QnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgRGVsZXRlUHJvZHVjdChyZXEucXVlcnksIHJlcyk7XHJcbn0pO1xyXG5cclxuZ2lmdHNQcm9kdWN0c1JvdXRlci5nZXQoJy9pbnZlbnRvcnknLCAocmVxLCByZXMpID0+IHtcclxuICBHZXRJbnZlbnRvcnkocmVzKTtcclxufSk7XHJcbmdpZnRzUHJvZHVjdHNSb3V0ZXIucHV0KCcvaW52ZW50b3J5JywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgQWRqdXN0SW52ZW50b3J5KHJlcS5ib2R5Ll9pZCwgcmVxLmJvZHkucXR5LCByZXMpO1xyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGdpZnRzUHJvZHVjdHNSb3V0ZXI7XHJcbiIsImltcG9ydCB7IFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgT2JqZWN0SUQsIERiQ29sbGVjdGlvbiB9IGZyb20gJy4uL21vbmdvZGItb3BzJztcclxuXHJcbmxldCBnbG9iYWxDYXRlZ29yaWVzID0gW107XHJcbmxldCBnbG9iYWxTYW1wbGVzT2ZDYXRlZ29yaWVzID0gW107XHJcblxyXG5hc3luYyBmdW5jdGlvbiBHZXRDYXRlZ29yaWVzKHJlczogUmVzcG9uc2UpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2F0ZWdvcmllcyA9IGF3YWl0IEdldENhdGVnb3JpZXNCeUxldmVsKDApO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGNhdGVnb3JpZXMpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEdldFNhbXBsZXNPZkNhdGVnb3JpZXMocmVzOiBSZXNwb25zZSkge1xyXG4gIGlmIChnbG9iYWxTYW1wbGVzT2ZDYXRlZ29yaWVzLmxlbmd0aCA+IDApIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChnbG9iYWxTYW1wbGVzT2ZDYXRlZ29yaWVzKTtcclxuICB9XHJcbiAgdHJ5IHtcclxuICAgIGdsb2JhbFNhbXBsZXNPZkNhdGVnb3JpZXMgPSBhd2FpdCBHZXRTYW1wbGVzKCk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoZ2xvYmFsU2FtcGxlc09mQ2F0ZWdvcmllcyk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gQWRkQ2F0ZWdvcnkoYm9keTogYW55LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFib2R5Lm5hbWUgfHwgIWJvZHkuY2F0ZWdvcnkpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBpbnB1dC4nKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYkNvbGxlY3Rpb24gPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLXByb2R1Y3RzLWNhdGFsb2cnKTtcclxuICAgIGF3YWl0IGRiQ29sbGVjdGlvbi5pbnNlcnRPbmUoeyBuYW1lOiBib2R5Lm5hbWUsIGNhdGVnb3J5OiBib2R5LmNhdGVnb3J5IH0pO1xyXG4gICAgZ2xvYmFsQ2F0ZWdvcmllcyA9IFtdO1xyXG4gICAgZ2xvYmFsU2FtcGxlc09mQ2F0ZWdvcmllcyA9IFtdO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIERlbGV0ZUNhdGVnb3J5KHF1ZXJ5OiBhbnksIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIXF1ZXJ5Ll9pZCkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIGlucHV0LicpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiQ29sbGVjdGlvbiA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtcHJvZHVjdHMtY2F0YWxvZycpO1xyXG4gICAgYXdhaXQgZGJDb2xsZWN0aW9uLmRlbGV0ZU9uZSh7IF9pZDogbmV3IE9iamVjdElEKHF1ZXJ5Ll9pZCkgfSk7XHJcbiAgICBnbG9iYWxDYXRlZ29yaWVzID0gW107XHJcbiAgICBnbG9iYWxTYW1wbGVzT2ZDYXRlZ29yaWVzID0gW107XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gQGxldmVsOlxyXG4vLyAwIC0gYWxsOyAgMSAtIDFzdCBsZXZlbDsgIDIgLSAybmQgYW5kIGFib3ZlIGxldmVsc1xyXG5hc3luYyBmdW5jdGlvbiBHZXRDYXRlZ29yaWVzQnlMZXZlbChsZXZlbDogbnVtYmVyKSB7XHJcbiAgaWYgKGdsb2JhbENhdGVnb3JpZXMubGVuZ3RoIDw9IDApIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGdsb2JhbENhdGVnb3JpZXMgPSBhd2FpdCBHZXRDYXRlZ29yaWVzRnJvbURiKCk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHRocm93IGU7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAobGV2ZWwgPT09IDApIHtcclxuICAgIHJldHVybiBnbG9iYWxDYXRlZ29yaWVzO1xyXG4gIH1cclxuICBjb25zdCByZXR1cm5DYXRlZ29yaWVzID0gW107XHJcbiAgZ2xvYmFsQ2F0ZWdvcmllcy5mb3JFYWNoKGNhdCA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhjYXQuY2F0ZWdvcnkubWF0Y2gobmV3IFJlZ0V4cCgnLycsICdnJykpKTtcclxuICAgIGlmIChjYXQuY2F0ZWdvcnkubWF0Y2gobmV3IFJlZ0V4cCgnLycsICdnJykpLmxlbmd0aCA8PSBsZXZlbCkge1xyXG4gICAgICByZXR1cm5DYXRlZ29yaWVzLnB1c2goY2F0KTtcclxuICAgIH1cclxuICB9KTtcclxuICByZXR1cm4gcmV0dXJuQ2F0ZWdvcmllcztcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gR2V0Q2F0ZWdvcmllc0Zyb21EYigpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGJDb2xsZWN0aW9uID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1wcm9kdWN0cy1jYXRhbG9nJyk7XHJcbiAgICBnbG9iYWxDYXRlZ29yaWVzID0gYXdhaXQgZGJDb2xsZWN0aW9uXHJcbiAgICAgIC5maW5kKClcclxuICAgICAgLnNvcnQoJ2NhdGVnb3J5JywgMSlcclxuICAgICAgLnRvQXJyYXkoKTtcclxuICAgIHJldHVybiBnbG9iYWxDYXRlZ29yaWVzO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHRocm93IHsgZXJyTXNnOiAnR2V0IGNhdGVnb3JpZXMgZnJvbSBkYXRhYmFzZSBmYWlsZWQuJyB9O1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gR2V0U2FtcGxlcygpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGJDb2xsZWN0aW9uID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1wcm9kdWN0cycpO1xyXG4gICAgbGV0IGRvY3MgPSBudWxsO1xyXG4gICAgZG9jcyA9IGF3YWl0IGRiQ29sbGVjdGlvblxyXG4gICAgICAuYWdncmVnYXRlKFtcclxuICAgICAgICB7ICRzb3J0OiB7IF9pZDogLTEgfSB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICRncm91cDoge1xyXG4gICAgICAgICAgICBfaWQ6IHsgY2F0ZWdvcnk6ICckY2F0ZWdvcnknIH0sXHJcbiAgICAgICAgICAgIHByb2R1Y3RzOiB7XHJcbiAgICAgICAgICAgICAgJHB1c2g6IHtcclxuICAgICAgICAgICAgICAgIF9pZDogJyRfaWQnLFxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICckY2F0ZWdvcnknLFxyXG4gICAgICAgICAgICAgICAgaW1nOiAnJGltZydcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICRwcm9qZWN0OiB7XHJcbiAgICAgICAgICAgIF9pZDogJyRfaWQnLFxyXG4gICAgICAgICAgICBwcm9kdWN0czoge1xyXG4gICAgICAgICAgICAgICRzbGljZTogW1xyXG4gICAgICAgICAgICAgICAgJyRwcm9kdWN0cycsXHJcbiAgICAgICAgICAgICAgICA0IC8vIG1heCBudW1iZXIgb2YgZWxlbWVudHMgcmV0dXJuZWQgZnJvbSB0aGUgc3RhcnQgb2YgdGhlIGFycmF5XHJcbiAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICBdKVxyXG4gICAgICAudG9BcnJheSgpO1xyXG4gICAgcmV0dXJuIGRvY3M7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY29uc29sZS5sb2coZSk7XHJcbiAgICByZXR1cm4geyBlcnJNc2c6ICdHZXQgcHJvZHVjdHMgZmFpbGVkLicgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IEFkZENhdGVnb3J5LCBEZWxldGVDYXRlZ29yeSwgR2V0Q2F0ZWdvcmllcywgR2V0U2FtcGxlc09mQ2F0ZWdvcmllcyB9O1xyXG4iLCJpbXBvcnQgeyBEYkNvbGxlY3Rpb24sIE1vbmdvRGIsIE9iamVjdElEIH0gZnJvbSAnLi4vbW9uZ29kYi1vcHMnO1xyXG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBHZXRQcm9kdWN0KHBhcmFtczogYW55LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFwYXJhbXMuX2lkKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgcHJvZHVjdCBuby4nKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IE1vbmdvRGIoKTtcclxuICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCBkYlxyXG4gICAgICAuY29sbGVjdGlvbignZ2lmdHMtcHJvZHVjdHMnKVxyXG4gICAgICAuZmluZE9uZSh7IF9pZDogbmV3IE9iamVjdElEKHBhcmFtcy5faWQpIH0pO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHByb2R1Y3QpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEdldFByb2R1Y3RzQnlDYXRlZ29yeShyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGJDb2xsZWN0aW9uID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1wcm9kdWN0cycpO1xyXG4gICAgbGV0IGRvY3MgPSBudWxsO1xyXG4gICAgaWYgKHJlcS5xdWVyeS5jYXRlZ29yeSkge1xyXG4gICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoWydeJywgcmVxLnF1ZXJ5LmNhdGVnb3J5LnRyaW0oKV0uam9pbignJyksICdpJyk7XHJcbiAgICAgIGRvY3MgPSBhd2FpdCBkYkNvbGxlY3Rpb24uZmluZCh7IGNhdGVnb3J5OiByZWdleCB9KS50b0FycmF5KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkb2NzID0gYXdhaXQgZGJDb2xsZWN0aW9uLmZpbmQoKS50b0FycmF5KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoZG9jcyk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gQWRkUHJvZHVjdChib2R5OiBhbnksIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIWJvZHkubmFtZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIGlucHV0LicpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgTW9uZ29EYigpO1xyXG4gICAgYXdhaXQgZGIuY29sbGVjdGlvbignZ2lmdHMtcHJvZHVjdHMnKS5pbnNlcnRPbmUoe1xyXG4gICAgICBuYW1lOiBib2R5Lm5hbWUsXHJcbiAgICAgIGltZzogYm9keS5pbWcsXHJcbiAgICAgIHByaWNlOiBib2R5LnByaWNlLFxyXG4gICAgICBjYXRlZ29yeTogYm9keS5jYXRlZ29yeSxcclxuICAgICAgY29sb3I6IGJvZHkuY29sb3IsXHJcbiAgICAgIHBhY2thZ2luZzogYm9keS5wYWNrYWdpbmcsXHJcbiAgICAgIG1hdGVyaWFsOiBib2R5Lm1hdGVyaWFsLFxyXG4gICAgICBzaXplOiBib2R5LnNpemUsXHJcbiAgICAgIG5vdGU6IGJvZHkubm90ZSxcclxuICAgICAgcmV0YWlsZXI6IGJvZHkucmV0YWlsZXIsXHJcbiAgICAgIGNyZWF0ZWRPbjogbmV3IERhdGUoKVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gVXBkYXRlUHJvZHVjdChib2R5OiBhbnksIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIWJvZHkuX2lkKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgaW5wdXQuJyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgZGJQcm9kdWN0cyA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtcHJvZHVjdHMnKTtcclxuICAgIGF3YWl0IGRiUHJvZHVjdHMudXBkYXRlT25lKFxyXG4gICAgICB7IF9pZDogbmV3IE9iamVjdElEKGJvZHkuX2lkKSB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgJHNldDoge1xyXG4gICAgICAgICAgbW9kaWZpZWRPbjogbmV3IERhdGUoKSxcclxuICAgICAgICAgIG5hbWU6IGJvZHkubmFtZSxcclxuICAgICAgICAgIGltZzogYm9keS5pbWcsXHJcbiAgICAgICAgICBwcmljZTogYm9keS5wcmljZSxcclxuICAgICAgICAgIGNhdGVnb3J5OiBib2R5LmNhdGVnb3J5LFxyXG4gICAgICAgICAgY29sb3I6IGJvZHkuY29sb3IsXHJcbiAgICAgICAgICBwYWNrYWdpbmc6IGJvZHkucGFja2FnaW5nLFxyXG4gICAgICAgICAgbWF0ZXJpYWw6IGJvZHkubWF0ZXJpYWwsXHJcbiAgICAgICAgICBzaXplOiBib2R5LnNpemUsXHJcbiAgICAgICAgICBub3RlOiBib2R5Lm5vdGUsXHJcbiAgICAgICAgICByZXRhaWxlcjogYm9keS5yZXRhaWxlclxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBEZWxldGVQcm9kdWN0KHF1ZXJ5OiBhbnksIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIXF1ZXJ5Ll9pZCkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIGlucHV0LicpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgTW9uZ29EYigpO1xyXG4gICAgYXdhaXQgZGJcclxuICAgICAgLmNvbGxlY3Rpb24oJ2dpZnRzLXByb2R1Y3RzJylcclxuICAgICAgLmRlbGV0ZU9uZSh7IF9pZDogbmV3IE9iamVjdElEKHF1ZXJ5Ll9pZCkgfSk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtcclxuICBBZGRQcm9kdWN0LFxyXG4gIERlbGV0ZVByb2R1Y3QsXHJcbiAgR2V0UHJvZHVjdHNCeUNhdGVnb3J5LFxyXG4gIEdldFByb2R1Y3QsXHJcbiAgVXBkYXRlUHJvZHVjdFxyXG59O1xyXG4iLCJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcclxuXHJcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuXHJcbmNvbnN0IGdpZnRzT3JkZXJzUm91dGVyID0gUm91dGVyKCk7XHJcblxyXG4vLyBvcmRlciBsaXN0IHdpdGggb3JkZXJfbm8sIHN0YXR1cyAmIHN0YWZmIGlkIHRvIGZvbGxvdy11cC5cclxuZ2lmdHNPcmRlcnNSb3V0ZXIuZ2V0KCcvYWxsT3JkZXJzJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIGlmICghcmVxLnNlc3Npb24gfHwgIXJlcS5zZXNzaW9uLnN0YWZmKSB7XHJcbiAgICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoNDAxKTtcclxuICB9XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG59KTtcclxuXHJcbi8vIHVwZGF0ZSBvcmRlciBzdGF0dXMgYnkgc3RhZmYgZm9sbG93LXVwLlxyXG5naWZ0c09yZGVyc1JvdXRlci5wdXQoJy91cGRhdGVTdGF0dXMnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgaWYgKCFyZXEuc2Vzc2lvbiB8fCAhcmVxLnNlc3Npb24uc3RhZmYuaWQpIHtcclxuICAgIHJldHVybiByZXMuc2VuZFN0YXR1cyg0MDEpO1xyXG4gIH1cclxuICBpZiAoIXJlcS5ib2R5Lm5ld19zdGF0dXMgfHwgIXJlcS5ib2R5LnNubyB8fCAhcmVxLmJvZHkub3JkZXJfbm8pIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnRmFpbGVkLiBQbGVhZXMgcmV2aWV3IGlucHV0cy4nKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHBhcmFtID0ge1xyXG4gICAgMTogcmVxLmJvZHkub3JkZXJfbm8sXHJcbiAgICAyOiByZXEuYm9keS5zbm8sXHJcbiAgICAzOiBEYXRlLm5vdygpLFxyXG4gICAgNDogcmVxLnNlc3Npb24uc3RhZmYuaWQsXHJcbiAgICA1OiByZXEuYm9keS5uZXdfc3RhdHVzLFxyXG4gICAgNjogcmVxLmJvZHkubm90ZSB8fCBudWxsXHJcbiAgfTtcclxuICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbn0pO1xyXG5cclxuLy8gc3RhZmYgdG8gdXBkYXRlIGNvbnRhY3QgaW5mbyBvZiB0aGUgb3JkZXIuXHJcbmdpZnRzT3JkZXJzUm91dGVyLnB1dCgnL3VwZGF0ZUNvbnRhY3QnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgaWYgKCFyZXEuc2Vzc2lvbiB8fCAhcmVxLnNlc3Npb24uc3RhZmYuaWQpIHtcclxuICAgIHJldHVybiByZXMuc2VuZFN0YXR1cyg0MDEpO1xyXG4gIH1cclxuICBpZiAoIXJlcS5ib2R5Lm9yZGVyX25vKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ09yZGVyX25vIGVtcHR5LicpO1xyXG4gIH0gZWxzZSBpZiAoXHJcbiAgICAhcmVxLmJvZHkuZW1haWwgfHxcclxuICAgICFyZXEuYm9keS5lbWFpbC5pbmNsdWRlcygnQCcpIHx8XHJcbiAgICAhcmVxLmJvZHkuZW1haWwuaW5jbHVkZXMoJy4nKSB8fFxyXG4gICAgcmVxLmJvZHkuZW1haWwuaW5jbHVkZXMoJy8nKSB8fFxyXG4gICAgcmVxLmJvZHkuZW1haWwuaW5jbHVkZXMoJ1xcXFwnKVxyXG4gICkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIGVtYWlsLicpO1xyXG4gIH0gZWxzZSBpZiAoIXJlcS5ib2R5Lm5hbWUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBuYW1lLicpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcGFyYW0gPSB7XHJcbiAgICAxOiByZXEuYm9keS5uYW1lLFxyXG4gICAgMjogcmVxLmJvZHkuZW1haWwsXHJcbiAgICAzOiByZXEuYm9keS5tb2JpbGUgfHwgbnVsbCxcclxuICAgIDQ6IHJlcS5ib2R5LmNvbXBhbnkgfHwgbnVsbCxcclxuICAgIDU6IHJlcS5ib2R5Lm1vYmlsZTIgfHwgbnVsbCxcclxuICAgIDY6IHJlcS5ib2R5LmFkZHIgfHwgbnVsbCxcclxuICAgIDc6IHJlcS5ib2R5Lm9yZGVyX25vXHJcbiAgfTtcclxuICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbn0pO1xyXG5cclxuLy8gc3RhZmYgdG8gY2hhbmdlIG9yZGVyIGRldGFpbHMgZS5nLiBwcmljZSwgcXR5LCBpbiBjYXNlIHVzZXJzIGNoYW5nZWQgbWluZC5cclxuLy8gc3RhZmYgbWF5IGNoYW5nZSBzdGF0dXMgb2Ygc3BlY2lmaWMgcHJvZHVjdCBvZiB0aGUgb3JkZXIuXHJcbmdpZnRzT3JkZXJzUm91dGVyLnB1dCgnL3VwZGF0ZU9yZGVySXRlbScsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBpZiAoIXJlcS5zZXNzaW9uIHx8ICFyZXEuc2Vzc2lvbi5zdGFmZi5pZCkge1xyXG4gICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMSk7XHJcbiAgfVxyXG5cclxuICBpZiAoIXJlcS5ib2R5Lm9yZGVyX25vKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ZhaWxlZC4gSW52YWxpZCBPcmRlciBOby4nKTtcclxuICB9XHJcbiAgaWYgKCFyZXEuYm9keS5zbm8gfHwgcmVxLmJvZHkuc25vID09PSAnJykge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdGYWlsZWQuIEludmFsaWQgT3JkZXIgU25vLicpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcGFyYW0gPSB7XHJcbiAgICAxOiByZXEuYm9keS5uZXdfc2FsZV9wcmljZSxcclxuICAgIDI6IHJlcS5ib2R5Lm5ld19xdHksXHJcbiAgICAzOiByZXEuYm9keS5uZXdfc3RhdHVzLFxyXG4gICAgNDogcmVxLmJvZHkub3JkZXJfbm8sXHJcbiAgICA1OiByZXEuYm9keS5zbm9cclxuICB9O1xyXG4gIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBnaWZ0c09yZGVyc1JvdXRlcjtcclxuIiwiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCB7XHJcbiAgTG9naW4sXHJcbiAgTG9nb3V0LFxyXG4gIFJlZ2lzdGVyLFxyXG4gIERlbGV0ZVVzZXIsXHJcbiAgVXNlckluZm9cclxufSBmcm9tICcuL2dpZnRzLXVzZXJzLm9wcyc7XHJcbmltcG9ydCB7XHJcbiAgQWRkVG9DYXJ0LFxyXG4gIENhcnRDaGVja291dCxcclxuICBEZWxldGVDYXJ0LFxyXG4gIERlbGV0ZUluQ2FydCxcclxuICBHZXRDYXJ0LFxyXG4gIFVwZGF0ZUNhcnRRdHlcclxufSBmcm9tICcuL2dpZnRzLWNhcnRzLm9wcyc7XHJcblxyXG5jb25zdCBnaWZ0c1VzZXJzUm91dGVyID0gUm91dGVyKCk7XHJcblxyXG4vLyB1cmw6IC9hcGkvZ2lmdHMvdXNlcnMvXHJcbmdpZnRzVXNlcnNSb3V0ZXIucG9zdCgnL2xvZ2luJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIExvZ2luKHJlcSwgcmVzKTtcclxufSk7XHJcbmdpZnRzVXNlcnNSb3V0ZXIuZ2V0KCcvaW5mbycsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBVc2VySW5mbyhyZXEuc2Vzc2lvbiwgcmVzKTtcclxufSk7XHJcbmdpZnRzVXNlcnNSb3V0ZXIuZ2V0KCcvbG9nb3V0JywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIExvZ291dChyZXEsIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1VzZXJzUm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBSZWdpc3RlcihyZXEsIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1VzZXJzUm91dGVyLmRlbGV0ZSgnL2RlbGV0ZXVzZXInLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgRGVsZXRlVXNlcihyZXEuc2Vzc2lvbiwgcmVzKTtcclxufSk7XHJcbmdpZnRzVXNlcnNSb3V0ZXIuZ2V0KCcvY2FydCcsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBHZXRDYXJ0KHJlcS5zZXNzaW9uLCByZXMpO1xyXG59KTtcclxuZ2lmdHNVc2Vyc1JvdXRlci5wb3N0KCcvY2FydCcsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBBZGRUb0NhcnQocmVxLnNlc3Npb24sIHJlcS5ib2R5LCByZXMpO1xyXG59KTtcclxuZ2lmdHNVc2Vyc1JvdXRlci5kZWxldGUoJy9jYXJ0JywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIERlbGV0ZUNhcnQocmVxLnNlc3Npb24sIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1VzZXJzUm91dGVyLnB1dCgnL2NhcnQnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgVXBkYXRlQ2FydFF0eShyZXEsIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1VzZXJzUm91dGVyLmRlbGV0ZSgnL2NhcnQvcHJvZHVjdCcsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBEZWxldGVJbkNhcnQocmVxLnNlc3Npb24sIHJlcS5xdWVyeS5faWQsIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1VzZXJzUm91dGVyLnBvc3QoJy9jYXJ0L2NoZWNrb3V0JywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIENhcnRDaGVja291dChyZXEsIHJlcyk7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZ2lmdHNVc2Vyc1JvdXRlcjtcclxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY3J5cHRvXCIpOyIsImltcG9ydCB7IERiQ29sbGVjdGlvbiwgTW9uZ29EYiwgT2JqZWN0SUQgfSBmcm9tICcuLi9tb25nb2RiLW9wcyc7XHJcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgcmFuZG9tU3RyaW5nIH0gZnJvbSAnLi4vc3RyaW5nLW9wcyc7XHJcblxyXG5pbXBvcnQgeyBiTG9naW4gfSBmcm9tICcuL2dpZnRzLXVzZXJzLm9wcyc7XHJcbmltcG9ydCB7IENhcnRJdGVtIH0gZnJvbSAnLi91c2Vycy1pbnRlcmZhY2UnO1xyXG5pbXBvcnQge1xyXG4gIERlbGV0ZUludmVudG9yeVJlc2VydmF0aW9uLFxyXG4gIFJlc2VydmVJbnZlbnRvcnlcclxufSBmcm9tICcuLi9naWZ0cy1wcm9kdWN0cy9naWZ0cy1wcm9kdWN0cy1pbnZlbnRvcnkub3BzJztcclxuaW1wb3J0IHsgTmV3T3JkZXIgfSBmcm9tICcuLi9naWZ0cy1vcmRlcnMvZ2lmdHMtb3JkZXJzLm9wcyc7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBHZXRDYXJ0KHNlc3Npb246IGFueSwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghYkxvZ2luKHNlc3Npb24pKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLnNlbmQoJ1VzZXIgbm90IGxvZ2luJyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLWNhcnRzJyk7XHJcbiAgICBjb25zdCBjYXJ0ID0gYXdhaXQgZGIuZmluZE9uZSh7IF9pZDogbmV3IE9iamVjdElEKHNlc3Npb24udXNlci5faWQpIH0pO1xyXG4gICAgY29uc29sZS5sb2coY2FydCk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoY2FydCk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gQWRkVG9DYXJ0KHNlc3Npb246IGFueSwgYm9keTogYW55LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFiTG9naW4oc2Vzc2lvbikpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuc2VuZCgnVXNlciBub3QgbG9naW4nKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtY2FydHMnKTtcclxuICAgIGxldCByc2x0ID0gYXdhaXQgZGIudXBkYXRlT25lKFxyXG4gICAgICB7IF9pZDogbmV3IE9iamVjdElEKHNlc3Npb24udXNlci5faWQpIH0sXHJcbiAgICAgIHsgJHB1bGw6IHsgcHJvZHVjdHM6IHsgcHJvZHVjdElkOiBuZXcgT2JqZWN0SUQoYm9keS5wcm9kdWN0Ll9pZCkgfSB9IH1cclxuICAgICk7XHJcbiAgICByc2x0ID0gYXdhaXQgZGIudXBkYXRlT25lKFxyXG4gICAgICB7IF9pZDogbmV3IE9iamVjdElEKHNlc3Npb24udXNlci5faWQpIH0sXHJcbiAgICAgIHtcclxuICAgICAgICAkcHVzaDoge1xyXG4gICAgICAgICAgcHJvZHVjdHM6IHtcclxuICAgICAgICAgICAgcHJvZHVjdElkOiBuZXcgT2JqZWN0SUQoYm9keS5wcm9kdWN0Ll9pZCksXHJcbiAgICAgICAgICAgIHF1YW50aXR5OiBib2R5LnF0eSxcclxuICAgICAgICAgICAgbmFtZTogYm9keS5wcm9kdWN0Lm5hbWUsXHJcbiAgICAgICAgICAgIHByaWNlOiBib2R5LnByb2R1Y3QucHJpY2VcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHsgdXBzZXJ0OiB0cnVlIH1cclxuICAgICk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gVXBkYXRlQ2FydFF0eShyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIWJMb2dpbihyZXEuc2Vzc2lvbikpIHtcclxuICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKCdVc2VyIG5vdCBsb2dpbi4nKTtcclxuICB9XHJcbiAgaWYgKCFyZXEuYm9keS5wcm9kdWN0SWQgfHwgIXJlcS5ib2R5LnF0eSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIGlucHV0LicpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgTW9uZ29EYigpO1xyXG4gICAgY29uc3QgcnNsdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2dpZnRzLWNhcnRzJykudXBkYXRlT25lKFxyXG4gICAgICB7XHJcbiAgICAgICAgX2lkOiByZXEuc2Vzc2lvbi51c2VyLl9pZCxcclxuICAgICAgICAncHJvZHVjdHMucHJvZHVjdElkJzogcmVxLmJvZHkucHJvZHVjdElkXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICAncHJvZHVjdHMuJC5xdHknOiByZXEuYm9keS5xdHksXHJcbiAgICAgICAgICBtb2RpZmllZE9uOiBuZXcgRGF0ZSgpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIERlbGV0ZUNhcnQoc2Vzc2lvbjogYW55LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFiTG9naW4oc2Vzc2lvbikpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnVXNlciBub3QgbG9naW4uJyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLWNhcnRzJyk7XHJcbiAgICBkYi5kZWxldGVPbmUoeyBfaWQ6IG5ldyBPYmplY3RJRChzZXNzaW9uLnVzZXIuX2lkKSB9KTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBEZWxldGVJbkNhcnQoc2Vzc2lvbjogYW55LCBfaWQ6IHN0cmluZywgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghYkxvZ2luKHNlc3Npb24pKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ1VzZXIgbm90IGxvZ2luLicpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1jYXJ0cycpO1xyXG4gICAgbGV0IHJzbHQgPSBhd2FpdCBkYi51cGRhdGVPbmUoXHJcbiAgICAgIHsgX2lkOiBuZXcgT2JqZWN0SUQoc2Vzc2lvbi51c2VyLl9pZCkgfSxcclxuICAgICAgeyAkcHVsbDogeyBwcm9kdWN0czogeyBwcm9kdWN0SWQ6IG5ldyBPYmplY3RJRChfaWQpIH0gfSB9XHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIENhcnRDaGVja291dChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoXHJcbiAgICAhcmVxLmJvZHkuY2FydCB8fFxyXG4gICAgIXJlcS5ib2R5LmNhcnQuY3VzdG9tZXIgfHxcclxuICAgICFyZXEuYm9keS5jYXJ0LmN1c3RvbWVyLm5hbWUgfHxcclxuICAgICFyZXEuYm9keS5jYXJ0LmN1c3RvbWVyLm1vYmlsZSB8fFxyXG4gICAgIXJlcS5ib2R5LmNhcnQuY3VzdG9tZXIuYWRkcmVzc1xyXG4gICkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIGN1c3RvbWVyIGluZm9ybWF0aW9uLicpO1xyXG4gIH1cclxuICBpZiAocmVxLmJvZHkuY2FydC50b3RhbCA8PSAwKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ05vIHByb2R1Y3QgdG8gY2hlY2tvdXQuJyk7XHJcbiAgfVxyXG5cclxuICBsZXQgYk1lbWJlcjogYm9vbGVhbiA9IGJMb2dpbihyZXEuc2Vzc2lvbik7XHJcblxyXG4gIGxldCBpZCA9ICcnO1xyXG4gIGlmIChiTWVtYmVyKSB7XHJcbiAgICBpZCA9IHJlcS5zZXNzaW9uLnVzZXIuX2lkO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBpZCA9IHJhbmRvbVN0cmluZygyMCk7XHJcbiAgfVxyXG4gIGNvbnN0IGNhcnRJdGVtczogQ2FydEl0ZW1bXSA9IHJlcS5ib2R5LmNhcnQuY2FydEl0ZW1zO1xyXG4gIGNvbnN0IGN1c3RvbWVyID0gcmVxLmJvZHkuY2FydC5jdXN0b21lcjtcclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIHJlc2VydmUgaW52ZW50b3J5LCBpdCB0aHJvdyBlcnJvciBpbiBjYXNlIG9mIGZhaWx1cmUuXHJcbiAgICBhd2FpdCBSZXNlcnZlSW52ZW50b3J5KGlkLCBjYXJ0SXRlbXMpO1xyXG5cclxuICAgIGxldCBpbnNlcnRSc2x0ID0gYXdhaXQgTmV3T3JkZXIoY3VzdG9tZXIsIGNhcnRJdGVtcyk7XHJcbiAgICBpZiAoaW5zZXJ0UnNsdC5yZXN1bHQubiA8PSAwKSB7XHJcbiAgICAgIGF3YWl0IERlbGV0ZUludmVudG9yeVJlc2VydmF0aW9uKGlkKTtcclxuICAgICAgdGhyb3cgJ0NyZWF0ZSBuZXcgb3JkZXIgZmFpbGVkLic7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHVwZGF0ZVJzbHQgPSBhd2FpdCBEZWxldGVJbnZlbnRvcnlSZXNlcnZhdGlvbihpZCk7XHJcbiAgICBjb25zb2xlLmxvZyh1cGRhdGVSc2x0KTtcclxuXHJcbiAgICBpZiAoYk1lbWJlcikge1xyXG4gICAgICBjb25zdCBkYkNhcnRzID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1jYXJ0cycpO1xyXG4gICAgICBsZXQgZGVsZXRlUnNsdCA9IGF3YWl0IGRiQ2FydHMuZGVsZXRlT25lKHsgX2lkOiBuZXcgT2JqZWN0SUQoaWQpIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IG9yZGVySWQ6IGlkIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIEFkZFRvQ2FydCxcclxuICBDYXJ0Q2hlY2tvdXQsXHJcbiAgRGVsZXRlQ2FydCxcclxuICBEZWxldGVJbkNhcnQsXHJcbiAgR2V0Q2FydCxcclxuICBVcGRhdGVDYXJ0UXR5XHJcbn07XHJcbiIsImltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRGJDb2xsZWN0aW9uLCBPYmplY3RJRCB9IGZyb20gJy4uL21vbmdvZGItb3BzJztcclxuaW1wb3J0IHsgYkxvZ2luIH0gZnJvbSAnLi4vZ2lmdHMtdXNlcnMvZ2lmdHMtdXNlcnMub3BzJztcclxuaW1wb3J0IHsgQ2FydEl0ZW0gfSBmcm9tICcuLi9naWZ0cy11c2Vycy91c2Vycy1pbnRlcmZhY2UnO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gTmV3T3JkZXIoY3VzdG9tZXIsIGNhcnRJdGVtczogQ2FydEl0ZW1bXSkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYk9yZGVycyA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtb3JkZXJzJyk7XHJcbiAgICBsZXQgaW5zZXJ0UnNsdCA9IGRiT3JkZXJzLmluc2VydE9uZSh7XHJcbiAgICAgIGNyZWF0ZWRfb246IG5ldyBEYXRlKCksXHJcbiAgICAgIHNoaXBwaW5nOiB7XHJcbiAgICAgICAgbmFtZTogY3VzdG9tZXIubmFtZSxcclxuICAgICAgICBtb2JpbGU6IGN1c3RvbWVyLm1vYmlsZSxcclxuICAgICAgICBhZGRyZXNzOiBjdXN0b21lci5hZGRyZXNzLFxyXG4gICAgICAgIG1lc3NhZ2U6IGN1c3RvbWVyLm1lc3NhZ2VcclxuICAgICAgfSxcclxuICAgICAgcGF5bWVudDogeyBtZXRob2Q6ICd2aXNhJywgdHJhbnNhY3Rpb25faWQ6ICcyMzEyMjEzMzEyWFhYVEQnIH0sXHJcbiAgICAgIGNhcnRJdGVtczogY2FydEl0ZW1zXHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKCdpbnNlcnRSc2x0OiAnLCBpbnNlcnRSc2x0KTtcclxuICAgIHJldHVybiBpbnNlcnRSc2x0O1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHRocm93ICdjcmVhdGUgbmV3IG9yZGVyIGZhaWxlZC4nO1xyXG4gIH1cclxufVxyXG4vLyBhc3luYyBmdW5jdGlvbiBHZXRDYXJ0KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4vLyAgIGlmICghYkxvZ2luKHJlcS5zZXNzaW9uKSkge1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKCdVc2VyIG5vdCBsb2dpbicpO1xyXG4vLyAgIH1cclxuXHJcbi8vICAgdHJ5IHtcclxuLy8gICAgIGNvbnN0IGRiID0gYXdhaXQgTW9uZ29EYigpO1xyXG4vLyAgICAgbGV0IGNhcnQgPSBhd2FpdCBkYlxyXG4vLyAgICAgICAuY29sbGVjdGlvbignZ2lmdHMtY2FydHMnKVxyXG4vLyAgICAgICAuZmluZCh7IF9pZDogcmVxLnNlc3Npb24udXNlclswXS5faWQgfSlcclxuLy8gICAgICAgLnRvQXJyYXkoKTtcclxuXHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoY2FydCk7XHJcbi8vICAgfSBjYXRjaCAoZSkge1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLy8gYXN5bmMgZnVuY3Rpb24gVXBkYXRlQ2FydFF0eShyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcclxuLy8gICBpZiAoIWJMb2dpbihyZXEuc2Vzc2lvbikpIHtcclxuLy8gICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKCdVc2VyIG5vdCBsb2dpbi4nKTtcclxuLy8gICB9XHJcbi8vICAgaWYgKCFyZXEuYm9keS5wcm9kdWN0SWQgfHwgIXJlcS5ib2R5LnF1YW50aXR5KSB7XHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgaW5wdXQuJyk7XHJcbi8vICAgfVxyXG5cclxuLy8gICB0cnkge1xyXG4vLyAgICAgY29uc3QgZGIgPSBhd2FpdCBNb25nb0RiKCk7XHJcbi8vICAgICBsZXQgcnNsdCA9IGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2dpZnRzLWNhcnRzJykudXBkYXRlT25lKFxyXG4vLyAgICAgICB7XHJcbi8vICAgICAgICAgX2lkOiByZXEuc2Vzc2lvbi51c2VyWzBdLl9pZCxcclxuLy8gICAgICAgICAncHJvZHVjdHMucHJvZHVjdElkJzogcmVxLmJvZHkucHJvZHVjdElkXHJcbi8vICAgICAgIH0sXHJcbi8vICAgICAgIHtcclxuLy8gICAgICAgICAkc2V0OiB7XHJcbi8vICAgICAgICAgICAncHJvZHVjdHMuJC5xdWFudGl0eSc6IHJlcS5ib2R5LnF1YW50aXR5LFxyXG4vLyAgICAgICAgICAgbW9kaWZpZWRPbjogbmV3IERhdGUoKVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgfVxyXG4vLyAgICAgKTtcclxuLy8gICAgIGNvbnNvbGUubG9nKHJzbHQpO1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDIwMCk7XHJcbi8vICAgfSBjYXRjaCAoZSkge1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLy8gYXN5bmMgZnVuY3Rpb24gRGVsZXRlQ2FydChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcclxuLy8gICBpZiAoIWJMb2dpbihyZXEuc2Vzc2lvbikpIHtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnVXNlciBub3QgbG9naW4uJyk7XHJcbi8vICAgfVxyXG5cclxuLy8gICB0cnkge1xyXG4vLyAgICAgY29uc3QgZGIgPSBhd2FpdCBNb25nb0RiKCk7XHJcbi8vICAgICBhd2FpdCBkYlxyXG4vLyAgICAgICAuY29sbGVjdGlvbignZ2lmdHMtY2FydHMnKVxyXG4vLyAgICAgICAuZGVsZXRlT25lKHsgX2lkOiByZXEuc2Vzc2lvbi51c2VyWzBdLl9pZCB9KTtcclxuLy8gICAgIHJldHVybiByZXMuc2VuZFN0YXR1cygyMDApO1xyXG4vLyAgIH0gY2F0Y2ggKGUpIHtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuLy8gICB9XHJcbi8vIH1cclxuXHJcbi8vIGFzeW5jIGZ1bmN0aW9uIERlbGV0ZUNhcnRQcm9kdWN0KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4vLyAgIGlmICghYkxvZ2luKHJlcS5zZXNzaW9uKSkge1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdVc2VyIG5vdCBsb2dpbi4nKTtcclxuLy8gICB9XHJcblxyXG4vLyAgIHRyeSB7XHJcbi8vICAgICBjb25zdCBkYiA9IGF3YWl0IE1vbmdvRGIoKTtcclxuLy8gICAgIGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2dpZnRzLWNhcnRzJykudXBkYXRlT25lKFxyXG4vLyAgICAgICB7IF9pZDogcmVxLnNlc3Npb24udXNlclswXS5faWQgfSxcclxuLy8gICAgICAge1xyXG4vLyAgICAgICAgICRzZXQ6IHsgbW9kaWZpZWRPbjogbmV3IERhdGUoKSB9LFxyXG4vLyAgICAgICAgICRwdWxsOiB7XHJcbi8vICAgICAgICAgICBwcm9kdWN0czoge1xyXG4vLyAgICAgICAgICAgICBwcm9kdWN0SWQ6IHJlcS5ib2R5LnByb2R1Y3RJZCxcclxuLy8gICAgICAgICAgICAgcXVhbnRpdHk6IHJlcS5ib2R5LnF1YW50aXR5XHJcbi8vICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICB9XHJcbi8vICAgICApO1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDIwMCk7XHJcbi8vICAgfSBjYXRjaCAoZSkge1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLy8gYXN5bmMgZnVuY3Rpb24gQ2FydENoZWNrb3V0KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4vLyAgIGlmICghYkxvZ2luKHJlcS5zZXNzaW9uKSkge1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdVc2VyIG5vdCBsb2dpbi4nKTtcclxuLy8gICB9XHJcblxyXG4vLyAgIHRyeSB7XHJcbi8vICAgICBjb25zdCBkYiA9IGF3YWl0IE1vbmdvRGIoKTtcclxuLy8gICAgIGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2dpZnRzLWNhcnRzJykudXBkYXRlT25lKFxyXG4vLyAgICAgICB7IF9pZDogcmVxLnNlc3Npb24udXNlclswXS5faWQgfSxcclxuLy8gICAgICAge1xyXG4vLyAgICAgICAgICRzZXQ6IHsgbW9kaWZpZWRPbjogbmV3IERhdGUoKSB9LFxyXG4vLyAgICAgICAgICRwdWxsOiB7XHJcbi8vICAgICAgICAgICBwcm9kdWN0czoge1xyXG4vLyAgICAgICAgICAgICBwcm9kdWN0SWQ6IHJlcS5ib2R5LnByb2R1Y3RJZCxcclxuLy8gICAgICAgICAgICAgcXVhbnRpdHk6IHJlcS5ib2R5LnF1YW50aXR5XHJcbi8vICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgICB9XHJcbi8vICAgICApO1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDIwMCk7XHJcbi8vICAgfSBjYXRjaCAoZSkge1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4vLyAgIH1cclxuLy8gfVxyXG5cclxuLy8gZXhwb3J0IHsgRGVsZXRlQ2FydCwgRGVsZXRlQ2FydFByb2R1Y3QsIEdldENhcnQsIFVwZGF0ZUNhcnRRdHkgfTtcclxuZXhwb3J0IHsgTmV3T3JkZXIgfTtcclxuIiwiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcblxyXG5jb25zdCBnaWZ0c1N0YWZmc1JvdXRlciA9IFJvdXRlcigpO1xyXG5cclxuZ2lmdHNTdGFmZnNSb3V0ZXIucG9zdCgnL2xvZ2luJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIC8vIExvZ2luKHJlcSwgcmVzKTtcclxufSk7XHJcbmdpZnRzU3RhZmZzUm91dGVyLmdldCgnL2xvZ291dCcsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICAvLyBMb2dvdXQocmVxLCByZXMpO1xyXG59KTtcclxuZ2lmdHNTdGFmZnNSb3V0ZXIucG9zdCgnL3JlZ2lzdGVyJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIC8vIFJlZ2lzdGVyKHJlcSwgcmVzKTtcclxufSk7XHJcbmdpZnRzU3RhZmZzUm91dGVyLmRlbGV0ZSgnL2RlbGV0ZXVzZXInLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgLy8gRGVsZXRlVXNlcihyZXEsIHJlcyk7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZ2lmdHNTdGFmZnNSb3V0ZXI7XHJcbiIsImltcG9ydCB7IGNyZWF0ZVRyYW5zcG9ydCB9IGZyb20gJ25vZGVtYWlsZXInO1xyXG5cclxuaW1wb3J0IHsgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5cclxuY29uc3Qgb3V0bG9va190cmFuc3BvcnRlciA9IGNyZWF0ZVRyYW5zcG9ydCh7XHJcbiAgc2VydmljZTogJ291dGxvb2snLFxyXG4gIGF1dGg6IHtcclxuICAgIHVzZXI6ICd5dWFuY2hhb0BvdXRsb29rLnNnJyxcclxuICAgIHBhc3M6ICdwaW5nbWVIQzgzJ1xyXG4gIH1cclxufSk7XHJcblxyXG5jb25zdCBvdXRsb29rX21haWxPcHRpb25zID0ge1xyXG4gIGZyb206ICd5dWFuY2hhb0BvdXRsb29rLnNnJyxcclxuICB0bzogJ3NlZXNlYTJAZ21haWwuY29tJyxcclxuICBzdWJqZWN0OiBudWxsLFxyXG4gIGh0bWw6IG51bGxcclxufTtcclxuXHJcbmZ1bmN0aW9uIFNlbmRFbWFpbChib2R5OiBhbnksIHJlczogUmVzcG9uc2UpIHtcclxuICBjb25zdCBlbWFpbEh0bWw6IHN0cmluZyA9XHJcbiAgICAnPCFET0NUWVBFIGh0bWw+PGhlYWQ+JyArXHJcbiAgICAnPG1ldGEgaHR0cC1lcXVpdj1cImNvbnRlbnQtdHlwZVwiIGNvbnRlbnQ9XCJ0ZXh0L2h0bWw7Y2hhcnNldD1VVEYtOFwiPjwvaGVhZD4nICtcclxuICAgIGA8Ym9keT48YnI+PGI+TWVzc2FnZSBmcm9tIFVzZXIgJHtib2R5Lm5hbWV9YCArXHJcbiAgICAnIDo8L2I+PGJyPjxicj4nICtcclxuICAgIGA8cD48Yj5FbWFpbDogPC9iPiAke2JvZHkuZW1haWx9YCArXHJcbiAgICAnPC9wPicgK1xyXG4gICAgYDxwPjxiPk1vYmlsZTogPC9iPiAke2JvZHkubW9iaWxlfWAgK1xyXG4gICAgJzwvcD4nICtcclxuICAgIGA8cD48Yj5NZXNzYWdlOiA8L2I+ICR7Ym9keS5tZXNzYWdlfWAgK1xyXG4gICAgJzwvcD4nICtcclxuICAgICc8L2JvZHk+PC9odG1sPic7XHJcblxyXG4gIG91dGxvb2tfbWFpbE9wdGlvbnMuc3ViamVjdCA9ICdVc2VyIElucXVpcnknO1xyXG4gIG91dGxvb2tfbWFpbE9wdGlvbnMuaHRtbCA9IGVtYWlsSHRtbDtcclxuICBvdXRsb29rX3RyYW5zcG9ydGVyLnNlbmRNYWlsKG91dGxvb2tfbWFpbE9wdGlvbnMpO1xyXG4gIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VuZEVtYWlsO1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJub2RlbWFpbGVyXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=