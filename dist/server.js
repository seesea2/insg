!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t){e.exports=require("express")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{a(r.next(e))}catch(e){u(e)}}function i(e){try{a(r.throw(e))}catch(e){u(e)}}function a(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,i)}a((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(21);t.ObjectID=u.ObjectID;var o,i="mongodb+srv://admin:admin@cluster0-dxwkg.mongodb.net/insg?retryWrites=true";function a(){return r(this,void 0,void 0,function(){var e;return s(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,u.MongoClient.connect(i,{useNewUrlParser:!0})];case 1:return e=t.sent(),[2,o=e.db("insg")];case 2:throw t.sent(),"Database connection failed.";case 3:return[2]}})})}t.MongoDb=function(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:if(o)return[2,o];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,a()];case 2:return e.sent(),[2,o];case 3:throw e.sent();case 4:return[2]}})})},t.DbCollection=function(e){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:if(o)return[2,o.collection(e)];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,a()];case 2:return t.sent(),[2,o.collection(e)];case 3:throw t.sent();case 4:return[2]}})})}},function(e,t){e.exports=require("axios")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.busArrivalUrl="http://datamall2.mytransport.sg/ltaodataservice/BusArrivalv2";t.busStopsUrl="http://datamall2.mytransport.sg/ltaodataservice/BusStops";var r={headers:{AccountKey:"6sVzf9zXRaCgkJUdjxIw2A=="}};t.headerConfig=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{a(r.next(e))}catch(e){u(e)}}function i(e){try{a(r.throw(e))}catch(e){u(e)}}function a(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,i)}a((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),o=n(3),i=[];function a(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=o.busStopsUrl,e&&(t+="?$skip="+e),[4,u.default.get(t,o.headerConfig)];case 1:if(200!=(n=r.sent()).status)throw{status:n.status};return[2,n.data.value];case 2:throw r.sent();case 3:return[2]}})})}function c(e){if(e)for(var t=0;t<i.length;t++)if(e===i[t].BusStopCode)return i[t]}t.busStops=i,function e(){return r(this,void 0,void 0,function(){var n,r,u;return s(this,function(s){switch(s.label){case 0:s.trys.push([0,5,,6]),n=0,r=[],s.label=1;case 1:return[4,a(n)];case 2:r=s.sent(),u=i,t.busStops=i=u.concat(r),n+=500,s.label=3;case 3:if(500===r.length)return[3,1];s.label=4;case 4:return[3,6];case 5:return s.sent(),t.busStops=i=[],e(),[3,6];case 6:return[2]}})})}(),t.checkBusStopLocally=c,t.getBusStopInfo=function(e,t){if(!e)return t.status(400).send("Invalid Bus Stop Code.");var n=c(e);return n?t.status(200).send(n):t.status(400).send("Bus Stop Info not found.")},t.getNearbyBusStops=function(e,t,n){if(void 0===e||void 0===t)return n.status(400).send("Invalid coordinates.");for(var r=[],s=0;s<i.length;s++){var u=(i[s].Latitude-e)*Math.PI/180,o=(i[s].Longitude-t)*Math.PI/180,a=Math.sin(u/2)*Math.sin(u/2)+Math.cos(i[s].Latitude*Math.PI/180)*Math.cos(e*Math.PI/180)*Math.sin(o/2)*Math.sin(o/2),c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371e3;Math.abs(c)<400&&r.push(i[s])}n.status(200).send(r)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{a(r.next(e))}catch(e){u(e)}}function i(e){try{a(r.throw(e))}catch(e){u(e)}}function a(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,i)}a((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1);t.GetInventory=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,u.DbCollection("gifts-inventory")];case 1:return[4,r.sent().find().toArray()];case 2:return t=r.sent(),[2,e.status(200).send(t)];case 3:return n=r.sent(),[2,e.status(500).send(n.message)];case 4:return[2]}})})},t.AdjustInventory=function(e,t,n){return r(this,void 0,void 0,function(){var r,o;return s(this,function(s){switch(s.label){case 0:if(!e||!t)return[2,n.status(400).send("Invalid input.")];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,u.DbCollection("gifts-inventory")];case 2:return[4,s.sent().updateOne({_id:new u.ObjectID(e)},{$set:{modifiedOn:new Date,qty:t}},{upsert:!0})];case 3:return r=s.sent(),[2,n.status(200).send(r)];case 4:return o=s.sent(),[2,n.status(500).send(o)];case 5:return[2]}})})},t.ReserveInventory=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,i;return s(this,function(s){switch(s.label){case 0:if(!t||t.length<=0)throw"The cart is empty.";s.label=1;case 1:return s.trys.push([1,7,,8]),n=[],r=[],[4,u.DbCollection("gifts-inventory")];case 2:o=s.sent(),i=0,s.label=3;case 3:return i<t.length?[4,o.updateOne({_id:new u.ObjectID(t[i].product._id),qty:{$gte:t[i].qty}},{$inc:{qty:-t[i].qty},$push:{reservations:{qty:t[i].qty,_id:new u.ObjectID(e),createdOn:new Date}}})]:[3,6];case 4:if(0===s.sent().result.nModified)return r.push(t[i].product),[3,6];n.push(t[i].product),s.label=5;case 5:return i++,[3,3];case 6:if(r.length>0){for(i=0;i<n.length;i++)o.updateOne({_id:n[i]._id,"reservations._id":e},{$inc:{qty:n[i].qty},$pull:{reservations:{_id:e}}});throw"Not enough storage."}return[2,"Success."];case 7:throw s.sent();case 8:return[2]}})})},t.DeleteInventoryReservation=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,u.DbCollection("gifts-inventory")];case 1:return[4,r.sent().updateOne({"reservations._id":new u.ObjectID(e)},{$pull:{reservations:{_id:new u.ObjectID(e)}}})];case 2:if((t=r.sent()).result.nModified<=0)throw"delete reservation failed.";return[2,t];case 3:throw n=r.sent(),console.log(n),"delete reservation failed with exception.";case 4:return[2]}})})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{a(r.next(e))}catch(e){u(e)}}function i(e){try{a(r.throw(e))}catch(e){u(e)}}function a(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,i)}a((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}},u=this;Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(7);function a(e){return!(!e||!e.user)}r(u,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,o.DbCollection("gifts-users")];case 1:return e.sent().createIndex("uid",{unique:!0}),[2]}})}),t.Login=function(e,t){return r(this,void 0,void 0,function(){var n,r;return s(this,function(s){switch(s.label){case 0:if(e.session&&e.session.user)return[2,t.status(200).send({uid:e.session.user.uid})];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,o.DbCollection("gifts-users")];case 2:return n=s.sent(),r=e.session,[4,n.findOne({uid:e.body.uid,pwd:i.encrypt(e.body.pwd)})];case 3:return r.user=s.sent(),e.session.user?[2,t.status(200).send({uid:e.session.user.uid})]:[2,t.status(403).send("Incorrect username or password")];case 4:return s.sent(),[2,t.status(500).send("server error.")];case 5:return[2]}})})},t.Logout=function(e,t){return e.session&&e.session.user&&(e.session.user=null),t.status(200).send({result:"ok"})},t.Register=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!(e.body.uid&&e.body.pwd&&e.body.email&&e.body.firstName&&e.body.lastName))return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,o.DbCollection("gifts-users")];case 2:return[4,r.sent().insertOne({uid:e.body.uid,pwd:i.encrypt(e.body.pwd),email:e.body.email,firstName:e.body.firstName,lastName:e.body.lastName,createdOn:new Date})];case 3:return 1===(n=r.sent()).insertedCount?[2,t.status(200).send(n.ops[0])]:[2,t.status(500).send("Register failed. Please try again later.")];case 4:return r.sent(),[2,t.status(500).send("Register failed. Please try again later.")];case 5:return[2]}})})},t.DeleteUser=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e||!e.user)return[2,t.status(403).send("Login is required.")];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.MongoDb()];case 2:return r.sent().collection("gifts-users").deleteOne({_id:e.user._id}),e.user=null,[2,t.status(200).send({result:"User deleted."})];case 3:return n=r.sent(),[2,t.status(400).send(n)];case 4:return[2]}})})},t.UserInfo=function(e,t){return a(e)?t.status(200).send({_id:e.user._id,uid:e.user.uid,email:e.user.email}):t.status(403).send("User Not login.")},t.bLogin=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,s=n(29),u="aes-192-cbc",o=s.scryptSync("inSGyc83","salt",24),i=Buffer.alloc(16,0);function a(e,t){var n="";if(e===r.String)n="abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";else if(e===r.Number)n="0123456789";else{if(e!==r.Capital)return"";n="ABCDEFGHIJKLMNOPQRSTUVWXYZ"}for(var s="",u=t;u>0;--u)s+=n[Math.floor(Math.random()*n.length)];return s}t.encrypt=function(e){try{var t=s.createCipheriv(u,o,i),n=t.update(e,"utf8","hex");return n+=t.final("hex")}catch(e){}},t.decrypt=function(e){try{var t=s.createDecipheriv(u,o,i),n=t.update(e,"hex","utf8");return n+=t.final("utf8")}catch(e){}},function(e){e[e.Capital=0]="Capital",e[e.Number=1]="Number",e[e.String=2]="String"}(r||(r={})),t.RandomTypes=r,t.randomNumber=function(e){return a(r.Number,e)},t.randomCapitals=function(e){return a(r.Capital,e)},t.randomString=function(e){return a(r.String,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(9),u=n(10),o=n(11),i=n(12),a=n(13),c=r();c.use(o()),c.use(i.json()),c.use(i.urlencoded({extended:!1})),c.use(s({secret:"insg-yc-ly-17",resave:!1,saveUninitialized:!0,cookie:{maxAge:864e5}})),c.use("/api",a.default),c.get("/",function(e,t){return t.status(200).sendFile(u.join(__dirname,"/client/index.html"))}),c.use(r.static(u.join(__dirname,"/client"))),c.use(r.static(u.join(__dirname,"/client/assets"),{dotfiles:"allow"})),c.all("/*",function(e,t){return t.status(200).sendFile(u.join(__dirname,"/client/index.html"))}),c.use(function(e,t,n){return t.status(500).send("Issue happened. Please retry later!")}),c.listen(8080,function(){console.log("app listening on port 8080.")})},function(e,t){e.exports=require("express-session")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("body-parser")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(14),u=n(16),o=n(18),i=n(23),a=n(33),c=r.Router();c.use("/dictionary",o.dictionaryRouter),c.use("/http",u.default),c.use("/lunchfun",o.lunchfunRouter),c.use("/lta/bus",s.busRouter),c.use("/gifts",i.default),c.post("/msg",function(e,t){a.default(e.body,t)}),c.all("/*",function(e,t){return t.status(400).send("Invalid Request")}),t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(15),u=n(4),o=r.Router();t.busRouter=o,o.get("/busArrival/:busStopCode",function(e,t){s.default(e.params.busStopCode,t)}),o.get("/busStop/:busStopCode",function(e,t){u.getBusStopInfo(e.params.busStopCode,t)}),o.get("/nearbyBusStops",function(e,t){u.getNearbyBusStops(e.query.latitude,e.query.longitude,t)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=n(3),u=n(4);t.default=function(e,t){if(!(e=e.trim()))return t.status(400).send("Invalid BusStopCode.");var n=u.checkBusStopLocally(e);if(!n)return t.status(400).send("Bus Stop not found.");var o=s.busArrivalUrl+"?BusStopCode="+e;r.default.get(o,s.headerConfig).then(function(e){t.status(200).send({busStopInfo:n,busArrival:e.data})}).catch(function(e){t.status(400).send(e)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(17),u=r.Router();u.post("",function(e,t){"DELETE"===e.body.type?s.Delete(e.body,t):"GET"===e.body.type?s.Get(e.body,t):"POST"===e.body.type?s.Post(e.body,t):"PUT"===e.body.type&&s.Put(e.body,t)}),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.Delete=function(e,t){var n=e.url;if(e.querys&&e.querys.length>0){n+="?";for(var s=0;s<e.querys.length;++s)n+=e.query[s],n+="=",n+=e.queryValue[s]}r.default.delete(n).then(function(e){t.status(200).send(e)}).catch(function(e){t.status(400).send(e)})},t.Post=function(e,t){return t.status(200).send(e)},t.Put=function(e,t){r.default.put(e.body.url).then(function(e){t.send(e.data)})},t.Get=function(e,t){r.default.post(e.body.url).then(function(e){t.send(e.data)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(19),u=n(20),o=n(22),i=r.Router();t.dictionaryRouter=i;var a=r.Router();t.lunchfunRouter=a,i.get("/oxford/:word",function(e,t){s.default(e.params.word,t)}),a.get("/pals",function(e,t){u.GetPals(t)}),a.post("/pal",function(e,t){u.AddPal(e.body.name,t)}),a.delete("/pal",function(e,t){u.DeletePal(e.query,t)}),a.get("/records",function(e,t){o.GetRecords(t)}),a.post("/record",function(e,t){o.AddRecord(e.body.payer,e.body.attendees,t)}),a.delete("/record",function(e,t){o.DeleteRecord(e.query._id,t)}),a.get("/stats/attendance",function(e,t){u.GetPalsAttendance(t)})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{a(r.next(e))}catch(e){u(e)}}function i(e){try{a(r.throw(e))}catch(e){u(e)}}function a(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,i)}a((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),o={headers:{app_id:"0314e9e2",app_key:"5a6c2589474a2f83ccd69f397bfec7a2"}};t.default=function(e,t){return r(this,void 0,void 0,function(){var n,r,i,a,c,l,d,f,p,h,b,y,v,g,w,_,m,x,O,D,I,C,P,k,S,j,M,q,G;return s(this,function(s){switch(s.label){case 0:if(!e||!e.trim())return[2,t.status(400).send("Invalid word.")];e=e.trim().toLowerCase(),n="https://od-api.oxforddictionaries.com/api/v2/entries/en-gb/"+e+"?fields=definitions%2Cpronunciations",s.label=1;case 1:return s.trys.push([1,3,,4]),[4,u.default(n,o)];case 2:for(r=s.sent(),i=r.data,a={lexicalEntries:[]},c=0,l=i.results;c<l.length;c++)for(d=l[c],f=0,p=d.lexicalEntries;f<p.length;f++){for(h=p[f],b={entries:[],lexicalCategory:"",pronunciations:[]},a.lexicalEntries.push(b),h.lexicalCategory&&(b.lexicalCategory=h.lexicalCategory.text),y=0,v=h.entries;y<v.length;y++)for(g=v[y],w=0,_=g.senses;w<_.length;w++){for(m=_[w],x=0,O=m.definitions;x<O.length;x++)S=O[x],b.entries.push(S);for(D=0,I=m.subsenses||[];D<I.length;D++)for(C=I[D],P=0,k=C.definitions;P<k.length;P++)S=k[P],b.entries.push(S)}for(j=0,M=h.pronunciations;j<M.length;j++)q=M[j],b.pronunciations.push({audioFile:q.audioFile,phoneticSpelling:q.phoneticSpelling})}return[2,t.status(200).send(a)];case 3:return G=s.sent(),[2,t.status(400).send(G.message)];case 4:return[2]}})})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{a(r.next(e))}catch(e){u(e)}}function i(e){try{a(r.throw(e))}catch(e){u(e)}}function a(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,i)}a((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=[];function i(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,u.DbCollection("lunchfun-pals")];case 1:return[4,e.sent().find().sort({name:1}).toArray()];case 2:return o=e.sent(),[3,4];case 3:throw e.sent();case 4:return[2]}})})}t.GetPals=function(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:if(o.length>0)return[2,e.status(200).send(o)];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,i()];case 2:return n.sent(),[2,e.status(200).send(o)];case 3:return t=n.sent(),[2,e.status(500).send(t)];case 4:return[2]}})})},t.AddPal=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,u.DbCollection("lunchfun-pals")];case 2:return r.sent().insertOne({name:e}),i(),[2,t.status(200).send({result:"ok"})];case 3:return n=r.sent(),[2,t.status(500).send(n)];case 4:return[2]}})})},t.DeletePal=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e)return[2,t.status(400).send("Invalid name to delete.")];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,u.DbCollection("lunchfun-pals")];case 2:return r.sent().deleteOne({name:e}),i(),[2,t.status(200).send({result:"ok"})];case 3:return n=r.sent(),[2,t.status(500).send(n)];case 4:return[2]}})})},t.GetPalsAttendance=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,u.DbCollection("lunchfun-records")];case 1:return[4,r.sent().aggregate([{$unwind:"$attendees"},{$group:{_id:"$attendees",attendance:{$sum:1}}},{$project:{name:"$_id",attendance:"$attendance"}}]).toArray()];case 2:return t=r.sent(),[2,e.status(200).send(t)];case 3:return n=r.sent(),[2,e.status(500).send(n)];case 4:return[2]}})})}},function(e,t){e.exports=require("mongodb")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{a(r.next(e))}catch(e){u(e)}}function i(e){try{a(r.throw(e))}catch(e){u(e)}}function a(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,i)}a((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1);t.GetRecords=function(e,t){return r(this,void 0,void 0,function(){var n,r;return s(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,u.DbCollection("lunchfun-records")];case 1:return[4,s.sent().find({}).sort({createdOn:-1}).limit(30|t).toArray()];case 2:return n=s.sent(),[2,e.status(200).send(n)];case 3:return r=s.sent(),[2,e.status(500).send(r)];case 4:return[2]}})})},t.AddRecord=function(e,t,n){return r(this,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:if(!e||!t||t.length<=0)return[2,n.status(400).send("Invalid params to add.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.DbCollection("lunchfun-records")];case 2:return[4,r.sent().insertOne({payer:e,attendees:t,createdOn:new Date})];case 3:return r.sent(),[2,n.status(200).send({result:"ok"})];case 4:return r.sent(),[2,n.status(500).send("Error at server. Please try again later.")];case 5:return[2]}})})},t.DeleteRecord=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e)return[2,t.status(400).send("Invalid record to delete.")];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,u.DbCollection("lunchfun-records")];case 2:return r.sent().deleteOne({_id:new u.ObjectID(e)}),[2,t.status(200).send({result:"ok"})];case 3:return n=r.sent(),[2,t.status(500).send(n)];case 4:return[2]}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(24),u=n(27),o=n(28),i=n(32),a=r.Router();a.use("/products",s.default),a.use("/orders",u.default),a.use("/users",o.default),a.use("/staffs",i.default),t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(25),u=n(26),o=n(5),i=r.Router();i.get("/view/:product_no",function(e,t){u.GetProduct(e.params,t)}),i.get("/categories",function(e,t){s.GetCategories(t)}),i.post("/category",function(e,t){s.AddCategory(e.body,t)}),i.delete("/category",function(e,t){s.DeleteCategory(e.query,t)}),i.get("/samples",function(e,t){s.GetSamplesOfCategories(t)}),i.get("",function(e,t){u.GetProductsByCategory(e,t)}),i.get("/product",function(e,t){u.GetProduct(e.query,t)}),i.post("/product",function(e,t){u.AddProduct(e.body,t)}),i.put("/product",function(e,t){u.UpdateProduct(e.body,t)}),i.delete("/product",function(e,t){u.DeleteProduct(e.query,t)}),i.get("/inventory",function(e,t){o.GetInventory(t)}),i.put("/inventory",function(e,t){o.AdjustInventory(e.body._id,e.body.qty,t)}),t.default=i},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{a(r.next(e))}catch(e){u(e)}}function i(e){try{a(r.throw(e))}catch(e){u(e)}}function a(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,i)}a((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=[],i=[];function a(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:if(!(o.length<=0))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,c()];case 2:return o=n.sent(),[3,4];case 3:throw n.sent();case 4:return 0===e?[2,o]:(t=[],o.forEach(function(n){console.log(n.category.match(new RegExp("/","g"))),n.category.match(new RegExp("/","g")).length<=e&&t.push(n)}),[2,t])}})})}function c(){return r(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,u.DbCollection("gifts-products-catalog")];case 1:return[4,e.sent().find().sort("category",1).toArray()];case 2:return[2,o=e.sent()];case 3:throw e.sent(),{errMsg:"Get categories from database failed."};case 4:return[2]}})})}function l(){return r(this,void 0,void 0,function(){var e,t;return s(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,u.DbCollection("gifts-products")];case 1:return e=n.sent(),null,[4,e.aggregate([{$sort:{_id:-1}},{$group:{_id:{category:"$category"},products:{$push:{_id:"$_id",category:"$category",img:"$img"}}}},{$project:{_id:"$_id",products:{$slice:["$products",4]}}}]).toArray()];case 2:return[2,n.sent()];case 3:return t=n.sent(),console.log(t),[2,{errMsg:"Get products failed."}];case 4:return[2]}})})}t.GetCategories=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,a(0)];case 1:return t=r.sent(),[2,e.status(200).send(t)];case 2:return n=r.sent(),[2,e.status(500).send(n)];case 3:return[2]}})})},t.GetSamplesOfCategories=function(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:if(i.length>0)return[2,e.status(200).send(i)];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,l()];case 2:return i=n.sent(),[2,e.status(200).send(i)];case 3:return t=n.sent(),[2,e.status(500).send(t)];case 4:return[2]}})})},t.AddCategory=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e.name||!e.category)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.DbCollection("gifts-products-catalog")];case 2:return[4,r.sent().insertOne({name:e.name,category:e.category})];case 3:return r.sent(),o=[],i=[],[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})},t.DeleteCategory=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e._id)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.DbCollection("gifts-products-catalog")];case 2:return[4,r.sent().deleteOne({_id:new u.ObjectID(e._id)})];case 3:return r.sent(),o=[],i=[],[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{a(r.next(e))}catch(e){u(e)}}function i(e){try{a(r.throw(e))}catch(e){u(e)}}function a(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,i)}a((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1);t.GetProduct=function(e,t){return r(this,void 0,void 0,function(){var n,r;return s(this,function(s){switch(s.label){case 0:if(!e._id)return[2,t.status(400).send("Invalid product no.")];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,u.MongoDb()];case 2:return[4,s.sent().collection("gifts-products").findOne({_id:new u.ObjectID(e._id)})];case 3:return n=s.sent(),[2,t.status(200).send(n)];case 4:return r=s.sent(),[2,t.status(500).send(r)];case 5:return[2]}})})},t.GetProductsByCategory=function(e,t){return r(this,void 0,void 0,function(){var n,r,o,i;return s(this,function(s){switch(s.label){case 0:return s.trys.push([0,6,,7]),[4,u.DbCollection("gifts-products")];case 1:return n=s.sent(),r=null,e.query.category?(o=new RegExp(["^",e.query.category.trim()].join(""),"i"),[4,n.find({category:o}).toArray()]):[3,3];case 2:return r=s.sent(),[3,5];case 3:return[4,n.find().toArray()];case 4:r=s.sent(),s.label=5;case 5:return[2,t.status(200).send(r)];case 6:return i=s.sent(),[2,t.status(500).send(i)];case 7:return[2]}})})},t.AddProduct=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e.name)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.MongoDb()];case 2:return[4,r.sent().collection("gifts-products").insertOne({name:e.name,img:e.img,price:e.price,category:e.category,color:e.color,packaging:e.packaging,material:e.material,size:e.size,note:e.note,retailer:e.retailer,createdOn:new Date})];case 3:return r.sent(),[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})},t.UpdateProduct=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e._id)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.DbCollection("gifts-products")];case 2:return[4,r.sent().updateOne({_id:new u.ObjectID(e._id)},{$set:{modifiedOn:new Date,name:e.name,img:e.img,price:e.price,category:e.category,color:e.color,packaging:e.packaging,material:e.material,size:e.size,note:e.note,retailer:e.retailer}})];case 3:return r.sent(),[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})},t.DeleteProduct=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!e._id)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.MongoDb()];case 2:return[4,r.sent().collection("gifts-products").deleteOne({_id:new u.ObjectID(e._id)})];case 3:return r.sent(),[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).Router();r.get("/allOrders",function(e,t){return e.session&&e.session.staff?t.status(200).send({result:"ok"}):t.sendStatus(401)}),r.put("/updateStatus",function(e,t){if(!e.session||!e.session.staff.id)return t.sendStatus(401);if(!e.body.new_status||!e.body.sno||!e.body.order_no)return t.status(400).send("Failed. Pleaes review inputs.");e.body.order_no,e.body.sno,Date.now(),e.session.staff.id,e.body.new_status,e.body.note;return t.status(200).send({result:"ok"})}),r.put("/updateContact",function(e,t){if(!e.session||!e.session.staff.id)return t.sendStatus(401);if(!e.body.order_no)return t.status(400).send("Order_no empty.");if(!(e.body.email&&e.body.email.includes("@")&&e.body.email.includes("."))||e.body.email.includes("/")||e.body.email.includes("\\"))return t.status(400).send("Invalid email.");if(!e.body.name)return t.status(400).send("Invalid name.");e.body.name,e.body.email,e.body.mobile,e.body.company,e.body.mobile2,e.body.addr,e.body.order_no;return t.status(200).send({result:"ok"})}),r.put("/updateOrderItem",function(e,t){if(!e.session||!e.session.staff.id)return t.sendStatus(401);if(!e.body.order_no)return t.status(400).send("Failed. Invalid Order No.");if(!e.body.sno||""===e.body.sno)return t.status(400).send("Failed. Invalid Order Sno.");e.body.new_sale_price,e.body.new_qty,e.body.new_status,e.body.order_no,e.body.sno;return t.status(200).send({result:"ok"})}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(6),u=n(30),o=r.Router();o.post("/login",function(e,t){s.Login(e,t)}),o.get("/info",function(e,t){s.UserInfo(e.session,t)}),o.get("/logout",function(e,t){s.Logout(e,t)}),o.post("/register",function(e,t){s.Register(e,t)}),o.delete("/deleteuser",function(e,t){s.DeleteUser(e.session,t)}),o.get("/cart",function(e,t){u.GetCart(e.session,t)}),o.post("/cart",function(e,t){u.AddToCart(e.session,e.body,t)}),o.delete("/cart",function(e,t){u.DeleteCart(e.session,t)}),o.put("/cart",function(e,t){u.UpdateCartQty(e,t)}),o.delete("/cart/product",function(e,t){u.DeleteInCart(e.session,e.query._id,t)}),o.post("/cart/checkout",function(e,t){u.CartCheckout(e,t)}),t.default=o},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{a(r.next(e))}catch(e){u(e)}}function i(e){try{a(r.throw(e))}catch(e){u(e)}}function a(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,i)}a((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),o=n(7),i=n(6),a=n(5),c=n(31);t.GetCart=function(e,t){return r(this,void 0,void 0,function(){var n,r;return s(this,function(s){switch(s.label){case 0:if(!i.bLogin(e))return[2,t.status(403).send("User not login")];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,u.DbCollection("gifts-carts")];case 2:return[4,s.sent().findOne({_id:new u.ObjectID(e.user._id)})];case 3:return n=s.sent(),console.log(n),[2,t.status(200).send(n)];case 4:return r=s.sent(),[2,t.status(500).send(r)];case 5:return[2]}})})},t.AddToCart=function(e,t,n){return r(this,void 0,void 0,function(){var r,o;return s(this,function(s){switch(s.label){case 0:if(!i.bLogin(e))return[2,n.status(403).send("User not login")];s.label=1;case 1:return s.trys.push([1,5,,6]),[4,u.DbCollection("gifts-carts")];case 2:return[4,(r=s.sent()).updateOne({_id:new u.ObjectID(e.user._id)},{$pull:{products:{productId:new u.ObjectID(t.product._id)}}})];case 3:return s.sent(),[4,r.updateOne({_id:new u.ObjectID(e.user._id)},{$push:{products:{productId:new u.ObjectID(t.product._id),quantity:t.qty,name:t.product.name,price:t.product.price}}},{upsert:!0})];case 4:return s.sent(),[2,n.status(200).send({result:"ok"})];case 5:return o=s.sent(),[2,n.status(500).send(o)];case 6:return[2]}})})},t.UpdateCartQty=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(i.bLogin(e.session)||t.status(403).send("User not login."),!e.body.productId||!e.body.qty)return[2,t.status(400).send("Invalid input.")];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.MongoDb()];case 2:return[4,r.sent().collection("gifts-carts").updateOne({_id:e.session.user._id,"products.productId":e.body.productId},{$set:{"products.$.qty":e.body.qty,modifiedOn:new Date}})];case 3:return r.sent(),[2,t.status(200).send({result:"ok"})];case 4:return n=r.sent(),[2,t.status(500).send(n)];case 5:return[2]}})})},t.DeleteCart=function(e,t){return r(this,void 0,void 0,function(){var n;return s(this,function(r){switch(r.label){case 0:if(!i.bLogin(e))return[2,t.status(400).send("User not login.")];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,u.DbCollection("gifts-carts")];case 2:return r.sent().deleteOne({_id:new u.ObjectID(e.user._id)}),[2,t.status(200).send({result:"ok"})];case 3:return n=r.sent(),[2,t.status(500).send(n)];case 4:return[2]}})})},t.DeleteInCart=function(e,t,n){return r(this,void 0,void 0,function(){var r;return s(this,function(s){switch(s.label){case 0:if(!i.bLogin(e))return[2,n.status(400).send("User not login.")];s.label=1;case 1:return s.trys.push([1,4,,5]),[4,u.DbCollection("gifts-carts")];case 2:return[4,s.sent().updateOne({_id:new u.ObjectID(e.user._id)},{$pull:{products:{productId:new u.ObjectID(t)}}})];case 3:return s.sent(),[2,n.status(200).send({result:"ok"})];case 4:return r=s.sent(),[2,n.status(500).send(r)];case 5:return[2]}})})},t.CartCheckout=function(e,t){return r(this,void 0,void 0,function(){var n,r,l,d,f,p;return s(this,function(s){switch(s.label){case 0:if(!(e.body.cart&&e.body.cart.customer&&e.body.cart.customer.name&&e.body.cart.customer.mobile&&e.body.cart.customer.address))return[2,t.status(400).send("Invalid customer information.")];if(e.body.cart.total<=0)return[2,t.status(400).send("No product to checkout.")];n=i.bLogin(e.session),r="",r=n?e.session.user._id:o.randomString(20),l=e.body.cart.cartItems,d=e.body.cart.customer,s.label=1;case 1:return s.trys.push([1,10,,11]),[4,a.ReserveInventory(r,l)];case 2:return s.sent(),[4,c.NewOrder(d,l)];case 3:return s.sent().result.n<=0?[4,a.DeleteInventoryReservation(r)]:[3,5];case 4:throw s.sent(),"Create new order failed.";case 5:return[4,a.DeleteInventoryReservation(r)];case 6:return f=s.sent(),console.log(f),n?[4,u.DbCollection("gifts-carts")]:[3,9];case 7:return[4,s.sent().deleteOne({_id:new u.ObjectID(r)})];case 8:s.sent(),s.label=9;case 9:return[2,t.status(200).send({orderId:r})];case 10:return p=s.sent(),console.error(p),[2,t.status(500).send(p)];case 11:return[2]}})})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(s,u){function o(e){try{a(r.next(e))}catch(e){u(e)}}function i(e){try{a(r.throw(e))}catch(e){u(e)}}function a(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,i)}a((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,s,u,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&u[0]?r.return:u[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,u[1])).done)return s;switch(r=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return o.label++,{value:u[1],done:!1};case 5:o.label++,r=u[1],u=[0];continue;case 7:u=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){o=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){o.label=u[1];break}if(6===u[0]&&o.label<s[1]){o.label=s[1],s=u;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(u);break}s[2]&&o.ops.pop(),o.trys.pop();continue}u=t.call(e,o)}catch(e){u=[6,e],r=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1);t.NewOrder=function(e,t){return r(this,void 0,void 0,function(){var n,r;return s(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,u.DbCollection("gifts-orders")];case 1:return n=s.sent(),r=n.insertOne({created_on:new Date,shipping:{name:e.name,mobile:e.mobile,address:e.address,message:e.message},payment:{method:"visa",transaction_id:"2312213312XXXTD"},cartItems:t}),console.log("insertRslt: ",r),[2,r];case 2:throw s.sent(),"create new order failed.";case 3:return[2]}})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).Router();r.post("/login",function(e,t){}),r.get("/logout",function(e,t){}),r.post("/register",function(e,t){}),r.delete("/deleteuser",function(e,t){}),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34).createTransport({host:"mail.insg.xyz",secure:!0,auth:{user:"i@insg.xyz",pass:"pass1234"}}),s={from:"i@insg.xyz",to:"seesea2@gmail.com",subject:"Hello",text:"This is email from InSG.xyz",html:"<b>this is email from InSG.xyz</b>"};function u(e,t){r.sendMail(s)}u(),t.default=u},function(e,t){e.exports=require("nodemailer")}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZXhwcmVzc1wiIiwid2VicGFjazovLy8uL3NlcnZlci9tb25nb2RiLW9wcy50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJheGlvc1wiIiwid2VicGFjazovLy8uL3NlcnZlci9sdGEvbHRhLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9sdGEvYnVzLXN0b3BzLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9naWZ0cy1wcm9kdWN0cy9naWZ0cy1wcm9kdWN0cy1pbnZlbnRvcnkub3BzLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9naWZ0cy11c2Vycy9naWZ0cy11c2Vycy5vcHMudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL3N0cmluZy1vcHMudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL3NlcnZlci50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJleHByZXNzLXNlc3Npb25cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiY29yc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcImJvZHktcGFyc2VyXCIiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2FwaS1yb3V0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2x0YS9yb3V0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2x0YS9idXMtYXJyaXZhbC50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvaHR0cC1yZXF1ZXN0L3JvdXRlci50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvaHR0cC1yZXF1ZXN0L2h0dHAtcmVxdWVzdC50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvbHVuY2hmdW4tYW5kLWRpY3Rpb25hcnkvcm91dGVyLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9sdW5jaGZ1bi1hbmQtZGljdGlvbmFyeS9kaWN0aW9uYXJ5LnRzIiwid2VicGFjazovLy8uL3NlcnZlci9sdW5jaGZ1bi1hbmQtZGljdGlvbmFyeS9sdW5jaGZ1bi1wYWxzLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1vbmdvZGJcIiIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvbHVuY2hmdW4tYW5kLWRpY3Rpb25hcnkvbHVuY2hmdW4tcmVjb3Jkcy50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvYXBpLWdpZnRzLXJvdXRlci50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvZ2lmdHMtcHJvZHVjdHMvZ2lmdHMtcHJvZHVjdHMtcm91dGVyLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9naWZ0cy1wcm9kdWN0cy9naWZ0cy1wcm9kdWN0cy1jYXRlZ29yaWVzLm9wcy50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvZ2lmdHMtcHJvZHVjdHMvZ2lmdHMtcHJvZHVjdHMub3BzLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9naWZ0cy1vcmRlcnMvZ2lmdHMtb3JkZXJzLXJvdXRlci50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvZ2lmdHMtdXNlcnMvZ2lmdHMtdXNlcnMtcm91dGVyLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcImNyeXB0b1wiIiwid2VicGFjazovLy8uL3NlcnZlci9naWZ0cy11c2Vycy9naWZ0cy1jYXJ0cy5vcHMudHMiLCJ3ZWJwYWNrOi8vLy4vc2VydmVyL2dpZnRzLW9yZGVycy9naWZ0cy1vcmRlcnMub3BzLnRzIiwid2VicGFjazovLy8uL3NlcnZlci9naWZ0cy1zdGFmZnMvZ2lmdHMtc3RhZmZzLXJvdXRlci50cyIsIndlYnBhY2s6Ly8vLi9zZXJ2ZXIvZW1haWwvZW1haWwub3BzLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcIm5vZGVtYWlsZXJcIiJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInJlcXVpcmUiLCJtb25nb2RiXzEiLCJPYmplY3RJRCIsImRhdGFiYXNlIiwiTU9OR09fVVJMIiwiSW5pdERiIiwiTW9uZ29DbGllbnQiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwiY2xpZW50IiwiX2EiLCJzZW50IiwiZGIiLCJNb25nb0RiIiwiRGJDb2xsZWN0aW9uIiwiY29sbGVjdGlvbiIsImJ1c0Fycml2YWxVcmwiLCJidXNTdG9wc1VybCIsImhlYWRlckNvbmZpZyIsImhlYWRlcnMiLCJBY2NvdW50S2V5IiwiYXhpb3NfMSIsImx0YV8xIiwiYnVzU3RvcHMiLCJnZXRCdXNTdG9wc0Zyb21MdGEiLCJza2lwIiwidXJsIiwiZGVmYXVsdCIsInJlc3BvbnNlIiwic3RhdHVzIiwiZGF0YSIsImNoZWNrQnVzU3RvcExvY2FsbHkiLCJidXNTdG9wQ29kZSIsImxlbmd0aCIsIkJ1c1N0b3BDb2RlIiwiZ2V0QWxsQnVzU3RvcHMiLCJuZXdCdXNTdG9wcyIsInRlbXAiLCJjb25jYXQiLCJnZXRCdXNTdG9wSW5mbyIsInJlcyIsInNlbmQiLCJidXNTdG9wSW5mbyIsImdldE5lYXJieUJ1c1N0b3BzIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJ1bmRlZmluZWQiLCJuZWFyYnlTdG9wcyIsImRMYXQiLCJMYXRpdHVkZSIsIk1hdGgiLCJQSSIsImRMb25nIiwiTG9uZ2l0dWRlIiwiYSIsInNpbiIsImNvcyIsImRpc3QiLCJhdGFuMiIsInNxcnQiLCJhYnMiLCJwdXNoIiwibW9uZ29kYl9vcHNfMSIsIkdldEludmVudG9yeSIsImZpbmQiLCJ0b0FycmF5IiwiaW52ZW50b3J5IiwiZV8xIiwibWVzc2FnZSIsIkFkanVzdEludmVudG9yeSIsIl9pZCIsInF0eSIsInVwZGF0ZU9uZSIsIiRzZXQiLCJtb2RpZmllZE9uIiwiRGF0ZSIsInVwc2VydCIsInJzbHQiLCJlXzIiLCJSZXNlcnZlSW52ZW50b3J5IiwiaWQiLCJjYXJ0SXRlbXMiLCJzdWNjZXNzIiwiZmFpbGVkIiwiZGJJbnZlbnRvcnkiLCJwcm9kdWN0IiwiJGd0ZSIsIiRpbmMiLCIkcHVzaCIsInJlc2VydmF0aW9ucyIsImNyZWF0ZWRPbiIsInJlc3VsdCIsIm5Nb2RpZmllZCIsInJlc2VydmF0aW9ucy5faWQiLCIkcHVsbCIsIkRlbGV0ZUludmVudG9yeVJlc2VydmF0aW9uIiwidXBkYXRlUnNsdCIsImNvbnNvbGUiLCJsb2ciLCJlXzQiLCJfdGhpcyIsInRoaXMiLCJzdHJpbmdfb3BzXzEiLCJiTG9naW4iLCJzZXNzaW9uIiwidXNlciIsIl9fYXdhaXRlciIsImNyZWF0ZUluZGV4IiwidW5pcXVlIiwiTG9naW4iLCJyZXEiLCJ1aWQiLCJkYlVzZXJzIiwiX2IiLCJmaW5kT25lIiwiYm9keSIsInB3ZCIsImVuY3J5cHQiLCJMb2dvdXQiLCJSZWdpc3RlciIsImVtYWlsIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJpbnNlcnRPbmUiLCJpbnNlcnRlZENvdW50Iiwib3BzIiwiRGVsZXRlVXNlciIsImRlbGV0ZU9uZSIsImVfMyIsIlVzZXJJbmZvIiwiUmFuZG9tVHlwZXMiLCJjcnlwdG8iLCJhbGdvcml0aG0iLCJzY3J5cHRTeW5jIiwiaXYiLCJCdWZmZXIiLCJhbGxvYyIsInJhbmRvbSIsInR5cGUiLCJyU3RyaW5nIiwiU3RyaW5nIiwiTnVtYmVyIiwiQ2FwaXRhbCIsImZsb29yIiwidGV4dCIsImNpcGhlciIsImNyZWF0ZUNpcGhlcml2IiwiY3J5cHRlZCIsInVwZGF0ZSIsImZpbmFsIiwiZSIsImRlY3J5cHQiLCJkZWNpcGhlciIsImNyZWF0ZURlY2lwaGVyaXYiLCJkZWMiLCJyYW5kb21OdW1iZXIiLCJyYW5kb21DYXBpdGFscyIsInJhbmRvbVN0cmluZyIsImV4cHJlc3MiLCJwYXRoXzEiLCJjb3JzIiwiYm9keVBhcnNlciIsImFwaV9yb3V0ZXJfMSIsImFwcCIsInVzZSIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJzZWNyZXQiLCJyZXNhdmUiLCJzYXZlVW5pbml0aWFsaXplZCIsImNvb2tpZSIsIm1heEFnZSIsInNlbmRGaWxlIiwiam9pbiIsIl9fZGlybmFtZSIsInN0YXRpYyIsImRvdGZpbGVzIiwiYWxsIiwibmV4dCIsImxpc3RlbiIsImV4cHJlc3NfMSIsInJvdXRlcl8xIiwicm91dGVyXzIiLCJyb3V0ZXJfMyIsImFwaV9naWZ0c19yb3V0ZXJfMSIsImVtYWlsX29wc18xIiwiYXBpUm91dGVyIiwiUm91dGVyIiwiZGljdGlvbmFyeVJvdXRlciIsImx1bmNoZnVuUm91dGVyIiwiYnVzUm91dGVyIiwicG9zdCIsImJ1c19hcnJpdmFsXzEiLCJidXNfc3RvcHNfMSIsInBhcmFtcyIsInF1ZXJ5IiwidHJpbSIsInRoZW4iLCJyZXNwb3NlIiwiYnVzQXJyaXZhbCIsImNhdGNoIiwiaHR0cF9yZXF1ZXN0XzEiLCJodHRwUm91dGVyIiwiRGVsZXRlIiwiR2V0IiwiUG9zdCIsIlB1dCIsInF1ZXJ5cyIsInF1ZXJ5VmFsdWUiLCJkZWxldGUiLCJwdXQiLCJkaWN0aW9uYXJ5XzEiLCJsdW5jaGZ1bl9wYWxzXzEiLCJsdW5jaGZ1bl9yZWNvcmRzXzEiLCJ3b3JkIiwiR2V0UGFscyIsIkFkZFBhbCIsIkRlbGV0ZVBhbCIsIkdldFJlY29yZHMiLCJBZGRSZWNvcmQiLCJwYXllciIsImF0dGVuZGVlcyIsIkRlbGV0ZVJlY29yZCIsIkdldFBhbHNBdHRlbmRhbmNlIiwiY29uZmlnIiwiYXBwX2lkIiwiYXBwX2tleSIsInRvTG93ZXJDYXNlIiwicmVzcCIsIl9yIiwiZW50cmllcyIsInJldHVybl9yZXN1bHQiLCJsZXhpY2FsRW50cmllcyIsIl9pIiwicmVzdWx0cyIsIl9jIiwibGV4aWNhbEVudHJ5IiwibmV3X2xleGljYWxFbnRyeSIsImxleGljYWxDYXRlZ29yeSIsInByb251bmNpYXRpb25zIiwiX2QiLCJfZSIsImVudHJ5IiwiX2YiLCJfZyIsInNlbnNlcyIsInNlbnNlIiwiX2giLCJfaiIsImRlZmluaXRpb25zIiwiZGVmaW5pdGlvbiIsIl9rIiwiX2wiLCJzdWJzZW5zZXMiLCJzdWJzZW5zZSIsIl9tIiwiX28iLCJfcCIsIl9xIiwicHJvbnVuY2lhdGlvbiIsImF1ZGlvRmlsZSIsInBob25ldGljU3BlbGxpbmciLCJsdW5jaFBhbHMiLCJyZWZyZXNoUGFscyIsInNvcnQiLCJhZ2dyZWdhdGUiLCIkdW53aW5kIiwiJGdyb3VwIiwiYXR0ZW5kYW5jZSIsIiRzdW0iLCIkcHJvamVjdCIsImF0dGVuZGFuY2VzIiwiZV81IiwibGltaXQiLCJyZWNvcmRzIiwiZ2lmdHNfcHJvZHVjdHNfcm91dGVyXzEiLCJnaWZ0c19vcmRlcnNfcm91dGVyXzEiLCJnaWZ0c191c2Vyc19yb3V0ZXJfMSIsImdpZnRzX3N0YWZmc19yb3V0ZXJfMSIsImdpZnRzUm91dGVyIiwiZ2lmdHNfcHJvZHVjdHNfY2F0ZWdvcmllc19vcHNfMSIsImdpZnRzX3Byb2R1Y3RzX29wc18xIiwiZ2lmdHNfcHJvZHVjdHNfaW52ZW50b3J5X29wc18xIiwiZ2lmdHNQcm9kdWN0c1JvdXRlciIsIkdldFByb2R1Y3QiLCJHZXRDYXRlZ29yaWVzIiwiQWRkQ2F0ZWdvcnkiLCJEZWxldGVDYXRlZ29yeSIsIkdldFNhbXBsZXNPZkNhdGVnb3JpZXMiLCJHZXRQcm9kdWN0c0J5Q2F0ZWdvcnkiLCJBZGRQcm9kdWN0IiwiVXBkYXRlUHJvZHVjdCIsIkRlbGV0ZVByb2R1Y3QiLCJnbG9iYWxDYXRlZ29yaWVzIiwiZ2xvYmFsU2FtcGxlc09mQ2F0ZWdvcmllcyIsIkdldENhdGVnb3JpZXNCeUxldmVsIiwibGV2ZWwiLCJHZXRDYXRlZ29yaWVzRnJvbURiIiwicmV0dXJuQ2F0ZWdvcmllcyIsImZvckVhY2giLCJjYXQiLCJjYXRlZ29yeSIsIm1hdGNoIiwiUmVnRXhwIiwiZXJyTXNnIiwiR2V0U2FtcGxlcyIsImRiQ29sbGVjdGlvbiIsIiRzb3J0IiwicHJvZHVjdHMiLCJpbWciLCIkc2xpY2UiLCJlXzciLCJjYXRlZ29yaWVzIiwiZG9jcyIsInJlZ2V4IiwicHJpY2UiLCJjb2xvciIsInBhY2thZ2luZyIsIm1hdGVyaWFsIiwic2l6ZSIsIm5vdGUiLCJyZXRhaWxlciIsImdpZnRzT3JkZXJzUm91dGVyIiwic3RhZmYiLCJzZW5kU3RhdHVzIiwibmV3X3N0YXR1cyIsInNubyIsIm9yZGVyX25vIiwibm93IiwiaW5jbHVkZXMiLCJtb2JpbGUiLCJjb21wYW55IiwibW9iaWxlMiIsImFkZHIiLCJuZXdfc2FsZV9wcmljZSIsIm5ld19xdHkiLCJnaWZ0c191c2Vyc19vcHNfMSIsImdpZnRzX2NhcnRzX29wc18xIiwiZ2lmdHNVc2Vyc1JvdXRlciIsIkdldENhcnQiLCJBZGRUb0NhcnQiLCJEZWxldGVDYXJ0IiwiVXBkYXRlQ2FydFF0eSIsIkRlbGV0ZUluQ2FydCIsIkNhcnRDaGVja291dCIsImdpZnRzX29yZGVyc19vcHNfMSIsImNhcnQiLCJwcm9kdWN0SWQiLCJxdWFudGl0eSIsInByb2R1Y3RzLnByb2R1Y3RJZCIsInByb2R1Y3RzLiQucXR5IiwiY3VzdG9tZXIiLCJhZGRyZXNzIiwidG90YWwiLCJiTWVtYmVyIiwiTmV3T3JkZXIiLCJvcmRlcklkIiwiZXJyb3IiLCJlXzYiLCJkYk9yZGVycyIsImluc2VydFJzbHQiLCJjcmVhdGVkX29uIiwic2hpcHBpbmciLCJwYXltZW50IiwibWV0aG9kIiwidHJhbnNhY3Rpb25faWQiLCJnaWZ0c1N0YWZmc1JvdXRlciIsInRyYW5zcG9ydGVyIiwiY3JlYXRlVHJhbnNwb3J0IiwiaG9zdCIsInNlY3VyZSIsImF1dGgiLCJwYXNzIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJzdWJqZWN0IiwiaHRtbCIsIlNlbmRFbWFpbCIsInNlbmRNYWlsIl0sIm1hcHBpbmdzIjoiYUFDQSxJ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QUNsQjdSLFFBQVM0UixFQUFTNVIsU0FFcEJ3UyxRQUFTLENBQUVDLE9BQVEsT0FBUUMsZUFBZ0IsbUJBQzNDN1IsVUFBV0EsSUFFYmdCLFFBQVFDLElBQUksZUFBZ0J1USxHQUM1QixHQUFPQSxVQUVQLGVBQU0saUlDdEJWLElBSU1NLEVBSk5uWixFQUFBLEdBSTBCZ08sU0FFMUJtTCxFQUFrQi9LLEtBQUssU0FBVSxTQUFDbEYsRUFBY3RFLE1BR2hEdVUsRUFBa0JsWSxJQUFJLFVBQVcsU0FBQ2lJLEVBQWN0RSxNQUdoRHVVLEVBQWtCL0ssS0FBSyxZQUFhLFNBQUNsRixFQUFjdEUsTUFHbkR1VSxFQUFrQjdKLE9BQU8sY0FBZSxTQUFDcEcsRUFBY3RFLE1BSXZEMUUsRUFBQTZELFFBQWVvVixpRkNuQmYsSUFJTUMsRUFKTnBaLEVBQUEsSUFJb0JxWixnQkFBZ0IsQ0FDbENDLEtBQU0sZ0JBQ05DLFFBQVEsRUFDUkMsS0FBTSxDQUNKM1EsS0FBTSxhQUNONFEsS0FBTSxjQUlKQyxFQUFjLENBQ2xCQyxLQUFNLGFBQ05DLEdBQUksb0JBQ0pDLFFBQVMsUUFDVHpPLEtBQU0sOEJBQ04wTyxLQUFNLHNDQUdSLFNBQVNDLEVBQVV4USxFQUFXM0UsR0FnQjVCd1UsRUFBWVksU0FBU04sR0FJdkJLLElBRUE3WixFQUFBNkQsUUFBZWdXLGlCQzNDZjVaLEVBQUFELFFBQUFrQyxRQUFBIiwiZmlsZSI6InNlcnZlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA4KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3NcIik7IiwiaW1wb3J0IHsgTW9uZ29DbGllbnQsIERiLCBPYmplY3RJRCB9IGZyb20gJ21vbmdvZGInO1xyXG5cclxuY29uc3QgTU9OR09fVVJMID1cclxuICAnbW9uZ29kYitzcnY6Ly9hZG1pbjphZG1pbkBjbHVzdGVyMC1keHdrZy5tb25nb2RiLm5ldC9pbnNnP3JldHJ5V3JpdGVzPXRydWUnO1xyXG5cclxubGV0IGRhdGFiYXNlOiBEYjtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEluaXREYigpOiBQcm9taXNlPERiPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNsaWVudCA9IGF3YWl0IE1vbmdvQ2xpZW50LmNvbm5lY3QoTU9OR09fVVJMLCB7XHJcbiAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gKGRhdGFiYXNlID0gY2xpZW50LmRiKCdpbnNnJykpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHRocm93ICdEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZC4nO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gTW9uZ29EYigpOiBQcm9taXNlPERiPiB7XHJcbiAgaWYgKGRhdGFiYXNlKSB7XHJcbiAgICByZXR1cm4gZGF0YWJhc2U7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgYXdhaXQgSW5pdERiKCk7XHJcbiAgICByZXR1cm4gZGF0YWJhc2U7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coZSk7XHJcbiAgICB0aHJvdyBlO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gRGJDb2xsZWN0aW9uKG5hbWU6IHN0cmluZykge1xyXG4gIGlmIChkYXRhYmFzZSkge1xyXG4gICAgcmV0dXJuIGRhdGFiYXNlLmNvbGxlY3Rpb24obmFtZSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgYXdhaXQgSW5pdERiKCk7XHJcbiAgICByZXR1cm4gZGF0YWJhc2UuY29sbGVjdGlvbihuYW1lKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICB0aHJvdyBlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgRGJDb2xsZWN0aW9uLCBNb25nb0RiLCBPYmplY3RJRCB9O1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJheGlvc1wiKTsiLCJjb25zdCBsdGFBY2NvdW50S2V5ID0gJzZzVnpmOXpYUmFDZ2tKVWRqeEl3MkE9PSc7XHJcblxyXG5jb25zdCBidXNBcnJpdmFsVXJsID1cclxuICAnaHR0cDovL2RhdGFtYWxsMi5teXRyYW5zcG9ydC5zZy9sdGFvZGF0YXNlcnZpY2UvQnVzQXJyaXZhbHYyJztcclxuY29uc3QgYnVzU3RvcHNVcmwgPSAnaHR0cDovL2RhdGFtYWxsMi5teXRyYW5zcG9ydC5zZy9sdGFvZGF0YXNlcnZpY2UvQnVzU3RvcHMnO1xyXG5cclxuY29uc3QgaGVhZGVyQ29uZmlnID0ge1xyXG4gIGhlYWRlcnM6IHtcclxuICAgIEFjY291bnRLZXk6IGx0YUFjY291bnRLZXlcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgeyBidXNBcnJpdmFsVXJsLCBidXNTdG9wc1VybCwgaGVhZGVyQ29uZmlnIH07XHJcbiIsImltcG9ydCBBeGlvcyBmcm9tICdheGlvcyc7XHJcblxyXG5pbXBvcnQgeyBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCB7IGJ1c1N0b3BzVXJsLCBoZWFkZXJDb25maWcgfSBmcm9tICcuL2x0YSc7XHJcbmltcG9ydCB7IEJ1c1N0b3BJbmZvIH0gZnJvbSAnLi9idXMtc3RvcHMtaW50ZXJmYWNlJztcclxuXHJcbmxldCBidXNTdG9wczogQnVzU3RvcEluZm9bXSA9IFtdO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0QnVzU3RvcHNGcm9tTHRhKHNraXA/OiBudW1iZXIpOiBQcm9taXNlPEJ1c1N0b3BJbmZvW10+IHtcclxuICB0cnkge1xyXG4gICAgbGV0IHVybCA9IGJ1c1N0b3BzVXJsO1xyXG4gICAgaWYgKHNraXApIHtcclxuICAgICAgdXJsICs9IGA/JHNraXA9JHtza2lwfWA7XHJcbiAgICB9XHJcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBBeGlvcy5nZXQodXJsLCBoZWFkZXJDb25maWcpO1xyXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPSAyMDApIHtcclxuICAgICAgdGhyb3cgeyBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEudmFsdWU7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgdGhyb3cgZTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEFsbEJ1c1N0b3BzKCkge1xyXG4gIHRyeSB7XHJcbiAgICBsZXQgc2tpcCA9IDA7XHJcbiAgICBsZXQgbmV3QnVzU3RvcHM6IEJ1c1N0b3BJbmZvW10gPSBbXTtcclxuICAgIGRvIHtcclxuICAgICAgbmV3QnVzU3RvcHMgPSBhd2FpdCBnZXRCdXNTdG9wc0Zyb21MdGEoc2tpcCk7XHJcbiAgICAgIGxldCB0ZW1wID0gYnVzU3RvcHM7XHJcbiAgICAgIGJ1c1N0b3BzID0gdGVtcC5jb25jYXQobmV3QnVzU3RvcHMpO1xyXG4gICAgICBza2lwICs9IDUwMDtcclxuICAgIH0gd2hpbGUgKG5ld0J1c1N0b3BzLmxlbmd0aCA9PT0gNTAwKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBidXNTdG9wcyA9IFtdO1xyXG4gICAgZ2V0QWxsQnVzU3RvcHMoKTtcclxuICB9XHJcbn1cclxuZ2V0QWxsQnVzU3RvcHMoKTtcclxuXHJcbmZ1bmN0aW9uIGNoZWNrQnVzU3RvcExvY2FsbHkoYnVzU3RvcENvZGU6IHN0cmluZykge1xyXG4gIGlmICghYnVzU3RvcENvZGUpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBidXNTdG9wcy5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKGJ1c1N0b3BDb2RlID09PSBidXNTdG9wc1tpXS5CdXNTdG9wQ29kZSkge1xyXG4gICAgICByZXR1cm4gYnVzU3RvcHNbaV07XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybjtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QnVzU3RvcEluZm8oYnVzU3RvcENvZGU6IHN0cmluZywgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghYnVzU3RvcENvZGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBCdXMgU3RvcCBDb2RlLicpO1xyXG4gIH1cclxuICBsZXQgYnVzU3RvcEluZm8gPSBjaGVja0J1c1N0b3BMb2NhbGx5KGJ1c1N0b3BDb2RlKTtcclxuICBpZiAoYnVzU3RvcEluZm8pIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChidXNTdG9wSW5mbyk7XHJcbiAgfVxyXG4gIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnQnVzIFN0b3AgSW5mbyBub3QgZm91bmQuJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE5lYXJieUJ1c1N0b3BzKGxhdGl0dWRlOiBudW1iZXIsIGxvbmdpdHVkZTogbnVtYmVyLCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKGxhdGl0dWRlID09PSB1bmRlZmluZWQgfHwgbG9uZ2l0dWRlID09PSB1bmRlZmluZWQpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBjb29yZGluYXRlcy4nKTtcclxuICB9XHJcblxyXG4gIGxldCBuZWFyYnlTdG9wcyA9IFtdO1xyXG4gIGNvbnN0IFIgPSA2MzcxZTM7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBidXNTdG9wcy5sZW5ndGg7IGkrKykge1xyXG4gICAgbGV0IGRMYXQgPSAoKGJ1c1N0b3BzW2ldLkxhdGl0dWRlIC0gbGF0aXR1ZGUpICogTWF0aC5QSSkgLyAxODA7XHJcbiAgICBsZXQgZExvbmcgPSAoKGJ1c1N0b3BzW2ldLkxvbmdpdHVkZSAtIGxvbmdpdHVkZSkgKiBNYXRoLlBJKSAvIDE4MDtcclxuXHJcbiAgICBsZXQgYSA9XHJcbiAgICAgIE1hdGguc2luKGRMYXQgLyAyKSAqIE1hdGguc2luKGRMYXQgLyAyKSArXHJcbiAgICAgIE1hdGguY29zKChidXNTdG9wc1tpXS5MYXRpdHVkZSAqIE1hdGguUEkpIC8gMTgwKSAqXHJcbiAgICAgICAgTWF0aC5jb3MoKGxhdGl0dWRlICogTWF0aC5QSSkgLyAxODApICpcclxuICAgICAgICBNYXRoLnNpbihkTG9uZyAvIDIpICpcclxuICAgICAgICBNYXRoLnNpbihkTG9uZyAvIDIpO1xyXG4gICAgbGV0IGMgPSAyICogTWF0aC5hdGFuMihNYXRoLnNxcnQoYSksIE1hdGguc3FydCgxIC0gYSkpO1xyXG4gICAgbGV0IGRpc3QgPSBSICogYztcclxuICAgIGlmIChNYXRoLmFicyhkaXN0KSA8IDQwMCkge1xyXG4gICAgICBuZWFyYnlTdG9wcy5wdXNoKGJ1c1N0b3BzW2ldKTtcclxuICAgIH1cclxuICB9XHJcbiAgcmVzLnN0YXR1cygyMDApLnNlbmQobmVhcmJ5U3RvcHMpO1xyXG59XHJcblxyXG5leHBvcnQgeyBidXNTdG9wcywgY2hlY2tCdXNTdG9wTG9jYWxseSwgZ2V0QnVzU3RvcEluZm8sIGdldE5lYXJieUJ1c1N0b3BzIH07XHJcbiIsImltcG9ydCB7IFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgRGJDb2xsZWN0aW9uLCBPYmplY3RJRCB9IGZyb20gJy4uL21vbmdvZGItb3BzJztcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEdldEludmVudG9yeShyZXM6IFJlc3BvbnNlKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiSW52ZW50b3J5ID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1pbnZlbnRvcnknKTtcclxuICAgIGNvbnN0IGludmVudG9yeSA9IGF3YWl0IGRiSW52ZW50b3J5LmZpbmQoKS50b0FycmF5KCk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoaW52ZW50b3J5KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZS5tZXNzYWdlKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIHF0eSBieSBwcm9kdWN0OyBUb2RvOiBieSBjb2xvdXIsIHNpemUsIGV0Yy5cclxuYXN5bmMgZnVuY3Rpb24gQWRqdXN0SW52ZW50b3J5KF9pZDogc3RyaW5nLCBxdHk6IG51bWJlciwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghX2lkIHx8ICFxdHkpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBpbnB1dC4nKTtcclxuICB9XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiSW52ZW50b3J5ID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1pbnZlbnRvcnknKTtcclxuICAgIGNvbnN0IHJzbHQgPSBhd2FpdCBkYkludmVudG9yeS51cGRhdGVPbmUoXHJcbiAgICAgIHtcclxuICAgICAgICBfaWQ6IG5ldyBPYmplY3RJRChfaWQpXHJcbiAgICAgIH0sXHJcbiAgICAgIHsgJHNldDogeyBtb2RpZmllZE9uOiBuZXcgRGF0ZSgpLCBxdHk6IHF0eSB9IH0sXHJcbiAgICAgIHsgdXBzZXJ0OiB0cnVlIH1cclxuICAgICk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQocnNsdCk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gUmVzZXJ2ZUludmVudG9yeShpZDogc3RyaW5nLCBjYXJ0SXRlbXM6IGFueSkge1xyXG4gIGlmICghY2FydEl0ZW1zIHx8IGNhcnRJdGVtcy5sZW5ndGggPD0gMCkge1xyXG4gICAgdGhyb3cgJ1RoZSBjYXJ0IGlzIGVtcHR5Lic7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3VjY2VzcyA9IFtdO1xyXG4gICAgY29uc3QgZmFpbGVkID0gW107XHJcblxyXG4gICAgY29uc3QgZGJJbnZlbnRvcnkgPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLWludmVudG9yeScpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXJ0SXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGJJbnZlbnRvcnkudXBkYXRlT25lKFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIF9pZDogbmV3IE9iamVjdElEKGNhcnRJdGVtc1tpXS5wcm9kdWN0Ll9pZCksXHJcbiAgICAgICAgICBxdHk6IHsgJGd0ZTogY2FydEl0ZW1zW2ldLnF0eSB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAkaW5jOiB7IHF0eTogLWNhcnRJdGVtc1tpXS5xdHkgfSxcclxuICAgICAgICAgICRwdXNoOiB7XHJcbiAgICAgICAgICAgIHJlc2VydmF0aW9uczoge1xyXG4gICAgICAgICAgICAgIHF0eTogY2FydEl0ZW1zW2ldLnF0eSxcclxuICAgICAgICAgICAgICBfaWQ6IG5ldyBPYmplY3RJRChpZCksXHJcbiAgICAgICAgICAgICAgY3JlYXRlZE9uOiBuZXcgRGF0ZSgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIGlmIChyZXN1bHQucmVzdWx0Lm5Nb2RpZmllZCA9PT0gMCkge1xyXG4gICAgICAgIGZhaWxlZC5wdXNoKGNhcnRJdGVtc1tpXS5wcm9kdWN0KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzdWNjZXNzLnB1c2goY2FydEl0ZW1zW2ldLnByb2R1Y3QpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGZhaWxlZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3VjY2Vzcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGRiSW52ZW50b3J5LnVwZGF0ZU9uZShcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgX2lkOiBzdWNjZXNzW2ldLl9pZCxcclxuICAgICAgICAgICAgJ3Jlc2VydmF0aW9ucy5faWQnOiBpZFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgJGluYzogeyBxdHk6IHN1Y2Nlc3NbaV0ucXR5IH0sXHJcbiAgICAgICAgICAgICRwdWxsOiB7IHJlc2VydmF0aW9uczogeyBfaWQ6IGlkIH0gfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuICAgICAgdGhyb3cgJ05vdCBlbm91Z2ggc3RvcmFnZS4nO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICdTdWNjZXNzLic7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgdGhyb3cgZTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIERlbGV0ZUludmVudG9yeVJlc2VydmF0aW9uKF9pZDogc3RyaW5nKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiSW52ZW50b3J5ID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1pbnZlbnRvcnknKTtcclxuICAgIGxldCB1cGRhdGVSc2x0ID0gYXdhaXQgZGJJbnZlbnRvcnkudXBkYXRlT25lKFxyXG4gICAgICB7XHJcbiAgICAgICAgJ3Jlc2VydmF0aW9ucy5faWQnOiBuZXcgT2JqZWN0SUQoX2lkKVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgJHB1bGw6IHsgcmVzZXJ2YXRpb25zOiB7IF9pZDogbmV3IE9iamVjdElEKF9pZCkgfSB9XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICBpZiAodXBkYXRlUnNsdC5yZXN1bHQubk1vZGlmaWVkIDw9IDApIHtcclxuICAgICAgdGhyb3cgJ2RlbGV0ZSByZXNlcnZhdGlvbiBmYWlsZWQuJztcclxuICAgIH1cclxuICAgIHJldHVybiB1cGRhdGVSc2x0O1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgdGhyb3cgJ2RlbGV0ZSByZXNlcnZhdGlvbiBmYWlsZWQgd2l0aCBleGNlcHRpb24uJztcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgQWRqdXN0SW52ZW50b3J5LFxyXG4gIERlbGV0ZUludmVudG9yeVJlc2VydmF0aW9uLFxyXG4gIEdldEludmVudG9yeSxcclxuICBSZXNlcnZlSW52ZW50b3J5XHJcbn07XHJcbiIsImltcG9ydCB7IERiQ29sbGVjdGlvbiwgTW9uZ29EYiwgT2JqZWN0SUQgfSBmcm9tICcuLi9tb25nb2RiLW9wcyc7XHJcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgZW5jcnlwdCB9IGZyb20gJy4uL3N0cmluZy1vcHMnO1xyXG5cclxuKGFzeW5jICgpID0+IHtcclxuICBjb25zdCBkYiA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtdXNlcnMnKTtcclxuICBkYi5jcmVhdGVJbmRleCgndWlkJywgeyB1bmlxdWU6IHRydWUgfSk7XHJcbn0pKCk7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBMb2dpbihyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAocmVxLnNlc3Npb24gJiYgcmVxLnNlc3Npb24udXNlcikge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgdWlkOiByZXEuc2Vzc2lvbi51c2VyLnVpZCB9KTtcclxuICB9XHJcbiAgdHJ5IHtcclxuICAgIGxldCBkYlVzZXJzID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy11c2VycycpO1xyXG4gICAgcmVxLnNlc3Npb24udXNlciA9IGF3YWl0IGRiVXNlcnMuZmluZE9uZSh7XHJcbiAgICAgIHVpZDogcmVxLmJvZHkudWlkLFxyXG4gICAgICBwd2Q6IGVuY3J5cHQocmVxLmJvZHkucHdkKVxyXG4gICAgfSk7XHJcbiAgICBpZiAoIXJlcS5zZXNzaW9uLnVzZXIpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKCdJbmNvcnJlY3QgdXNlcm5hbWUgb3IgcGFzc3dvcmQnKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHVpZDogcmVxLnNlc3Npb24udXNlci51aWQgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKCdzZXJ2ZXIgZXJyb3IuJyk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBMb2dvdXQocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKHJlcS5zZXNzaW9uICYmIHJlcS5zZXNzaW9uLnVzZXIpIHtcclxuICAgIHJlcS5zZXNzaW9uLnVzZXIgPSBudWxsO1xyXG4gIH1cclxuICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIFJlZ2lzdGVyKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmIChcclxuICAgICFyZXEuYm9keS51aWQgfHxcclxuICAgICFyZXEuYm9keS5wd2QgfHxcclxuICAgICFyZXEuYm9keS5lbWFpbCB8fFxyXG4gICAgIXJlcS5ib2R5LmZpcnN0TmFtZSB8fFxyXG4gICAgIXJlcS5ib2R5Lmxhc3ROYW1lXHJcbiAgKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgaW5wdXQuJyk7XHJcbiAgfVxyXG4gIHRyeSB7XHJcbiAgICBsZXQgZGJVc2VycyA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtdXNlcnMnKTtcclxuICAgIGxldCByc2x0ID0gYXdhaXQgZGJVc2Vycy5pbnNlcnRPbmUoe1xyXG4gICAgICB1aWQ6IHJlcS5ib2R5LnVpZCxcclxuICAgICAgcHdkOiBlbmNyeXB0KHJlcS5ib2R5LnB3ZCksXHJcbiAgICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcclxuICAgICAgZmlyc3ROYW1lOiByZXEuYm9keS5maXJzdE5hbWUsXHJcbiAgICAgIGxhc3ROYW1lOiByZXEuYm9keS5sYXN0TmFtZSxcclxuICAgICAgY3JlYXRlZE9uOiBuZXcgRGF0ZSgpXHJcbiAgICB9KTtcclxuICAgIGlmIChyc2x0Lmluc2VydGVkQ291bnQgPT09IDEpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJzbHQub3BzWzBdKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZCgnUmVnaXN0ZXIgZmFpbGVkLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLicpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKCdSZWdpc3RlciBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBEZWxldGVVc2VyKHNlc3Npb246IGFueSwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghc2Vzc2lvbiB8fCAhc2Vzc2lvbi51c2VyKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLnNlbmQoJ0xvZ2luIGlzIHJlcXVpcmVkLicpO1xyXG4gIH1cclxuICB0cnkge1xyXG4gICAgbGV0IGRiID0gYXdhaXQgTW9uZ29EYigpO1xyXG4gICAgZGIuY29sbGVjdGlvbignZ2lmdHMtdXNlcnMnKS5kZWxldGVPbmUoe1xyXG4gICAgICBfaWQ6IHNlc3Npb24udXNlci5faWRcclxuICAgIH0pO1xyXG4gICAgc2Vzc2lvbi51c2VyID0gbnVsbDtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ1VzZXIgZGVsZXRlZC4nIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFVzZXJJbmZvKHNlc3Npb246IGFueSwgcmVzKSB7XHJcbiAgaWYgKCFiTG9naW4oc2Vzc2lvbikpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuc2VuZCgnVXNlciBOb3QgbG9naW4uJyk7XHJcbiAgfVxyXG4gIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XHJcbiAgICBfaWQ6IHNlc3Npb24udXNlci5faWQsXHJcbiAgICB1aWQ6IHNlc3Npb24udXNlci51aWQsXHJcbiAgICBlbWFpbDogc2Vzc2lvbi51c2VyLmVtYWlsXHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJMb2dpbihzZXNzaW9uOiBhbnkpIHtcclxuICBpZiAoIXNlc3Npb24gfHwgIXNlc3Npb24udXNlcikge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuZXhwb3J0IHsgYkxvZ2luLCBMb2dpbiwgTG9nb3V0LCBSZWdpc3RlciwgRGVsZXRlVXNlciwgVXNlckluZm8gfTtcclxuIiwiaW1wb3J0ICogYXMgY3J5cHRvIGZyb20gJ2NyeXB0byc7XHJcblxyXG5jb25zdCBhbGdvcml0aG0gPSAnYWVzLTE5Mi1jYmMnO1xyXG5jb25zdCBwYXNzd29yZCA9ICdpblNHeWM4Myc7XHJcbmNvbnN0IGtleSA9IGNyeXB0by5zY3J5cHRTeW5jKHBhc3N3b3JkLCAnc2FsdCcsIDI0KTtcclxuY29uc3QgaXYgPSBCdWZmZXIuYWxsb2MoMTYsIDApO1xyXG5cclxuZnVuY3Rpb24gZW5jcnlwdCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIHRyeSB7XHJcbiAgICBsZXQgY2lwaGVyID0gY3J5cHRvLmNyZWF0ZUNpcGhlcml2KGFsZ29yaXRobSwga2V5LCBpdik7XHJcbiAgICBsZXQgY3J5cHRlZDogc3RyaW5nID0gY2lwaGVyLnVwZGF0ZSh0ZXh0LCAndXRmOCcsICdoZXgnKTtcclxuICAgIGNyeXB0ZWQgKz0gY2lwaGVyLmZpbmFsKCdoZXgnKTtcclxuICAgIHJldHVybiBjcnlwdGVkO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdlbmNyeXB0ID0+ICcsIGUpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZGVjcnlwdCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIHRyeSB7XHJcbiAgICBsZXQgZGVjaXBoZXIgPSBjcnlwdG8uY3JlYXRlRGVjaXBoZXJpdihhbGdvcml0aG0sIGtleSwgaXYpO1xyXG4gICAgbGV0IGRlYzogc3RyaW5nID0gZGVjaXBoZXIudXBkYXRlKHRleHQsICdoZXgnLCAndXRmOCcpO1xyXG4gICAgZGVjICs9IGRlY2lwaGVyLmZpbmFsKCd1dGY4Jyk7XHJcbiAgICByZXR1cm4gZGVjO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdkZWNyeXB0ID0+ICcsIGUpO1xyXG4gIH1cclxufVxyXG5cclxuLypcclxuICogc3RyaW5nIG9wZXJhdGlvblxyXG4gKi9cclxuZW51bSBSYW5kb21UeXBlcyB7XHJcbiAgQ2FwaXRhbCxcclxuICBOdW1iZXIsXHJcbiAgU3RyaW5nXHJcbn1cclxuXHJcbi8vIHJldHVybiBzdHJpbmcgb2YgcmFuZG9tIG51bWJlcnMgd2l0aCBzcGVjaWZpZWQgbGVuZ3RoLlxyXG5mdW5jdGlvbiByYW5kb21OdW1iZXIobGVuZ3RoOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gIHJldHVybiByYW5kb20oUmFuZG9tVHlwZXMuTnVtYmVyLCBsZW5ndGgpO1xyXG59XHJcblxyXG4vLyByZXR1cm4gc3RyaW5nIG9mIHJhbmRvbSBjYXBpdGFsIGNoYXJhY3RlcnMgd2l0aCBzcGVjaWZpZWQgbGVuZ3RoLlxyXG5mdW5jdGlvbiByYW5kb21DYXBpdGFscyhsZW5ndGg6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgcmV0dXJuIHJhbmRvbShSYW5kb21UeXBlcy5DYXBpdGFsLCBsZW5ndGgpO1xyXG59XHJcblxyXG4vLyByZXR1cm4gc3RyaW5nIG9mIHJhbmRvbSBjaGFyYWN0ZXJzIG9yIG51bWJlcnMgd2l0aCBzcGVjaWZpZWQgbGVuZ3RoLlxyXG5mdW5jdGlvbiByYW5kb21TdHJpbmcobGVuZ3RoOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gIHJldHVybiByYW5kb20oUmFuZG9tVHlwZXMuU3RyaW5nLCBsZW5ndGgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByYW5kb20odHlwZTogUmFuZG9tVHlwZXMsIGxlbmd0aDogbnVtYmVyKTogc3RyaW5nIHtcclxuICBsZXQgclN0cmluZzogc3RyaW5nID0gJyc7XHJcbiAgaWYgKHR5cGUgPT09IFJhbmRvbVR5cGVzLlN0cmluZykge1xyXG4gICAgclN0cmluZyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWic7XHJcbiAgfSBlbHNlIGlmICh0eXBlID09PSBSYW5kb21UeXBlcy5OdW1iZXIpIHtcclxuICAgIHJTdHJpbmcgPSAnMDEyMzQ1Njc4OSc7XHJcbiAgfSBlbHNlIGlmICh0eXBlID09PSBSYW5kb21UeXBlcy5DYXBpdGFsKSB7XHJcbiAgICByU3RyaW5nID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJztcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuXHJcbiAgbGV0IHJlc3VsdDogc3RyaW5nID0gJyc7XHJcbiAgZm9yIChsZXQgaSA9IGxlbmd0aDsgaSA+IDA7IC0taSkge1xyXG4gICAgcmVzdWx0ICs9IHJTdHJpbmdbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogclN0cmluZy5sZW5ndGgpXTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICBlbmNyeXB0LFxyXG4gIGRlY3J5cHQsXHJcbiAgcmFuZG9tQ2FwaXRhbHMsXHJcbiAgcmFuZG9tTnVtYmVyLFxyXG4gIHJhbmRvbVN0cmluZyxcclxuICBSYW5kb21UeXBlc1xyXG59O1xyXG4iLCJpbXBvcnQgKiBhcyBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgKiBhcyBzZXNzaW9uIGZyb20gJ2V4cHJlc3Mtc2Vzc2lvbic7XHJcbmltcG9ydCB7IGpvaW4gfSBmcm9tICdwYXRoJztcclxuaW1wb3J0ICogYXMgY29ycyBmcm9tICdjb3JzJztcclxuaW1wb3J0ICogYXMgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XHJcblxyXG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSwgTmV4dEZ1bmN0aW9uIH0gZnJvbSAnLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQgYXBpUm91dGVyIGZyb20gJy4vYXBpLXJvdXRlcic7XHJcblxyXG4vLyBFeHByZXNzIHNlcnZlclxyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcblxyXG5hcHAudXNlKGNvcnMoKSk7XHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xyXG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSk7XHJcblxyXG5hcHAudXNlKFxyXG4gIHNlc3Npb24oe1xyXG4gICAgc2VjcmV0OiAnaW5zZy15Yy1seS0xNycsXHJcbiAgICByZXNhdmU6IGZhbHNlLFxyXG4gICAgc2F2ZVVuaW5pdGlhbGl6ZWQ6IHRydWUsXHJcbiAgICBjb29raWU6IHtcclxuICAgICAgbWF4QWdlOiAxMDAwICogNjAgKiA2MCAqIDI0IC8vIG1pbGxzZWNvbmRzIG9mIDI0aHJzICB9XHJcbiAgICB9XHJcbiAgfSlcclxuKTtcclxuXHJcbmFwcC51c2UoJy9hcGknLCBhcGlSb3V0ZXIpO1xyXG5cclxuYXBwLmdldCgnLycsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKGpvaW4oX19kaXJuYW1lLCAnL2NsaWVudC9pbmRleC5odG1sJykpO1xyXG59KTtcclxuXHJcbi8vIFNlcnZlciBzdGF0aWMgZmlsZXMgZnJvbSAvY2xpZW50XHJcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMoam9pbihfX2Rpcm5hbWUsICcvY2xpZW50JykpKTtcclxuYXBwLnVzZShcclxuICBleHByZXNzLnN0YXRpYyhqb2luKF9fZGlybmFtZSwgJy9jbGllbnQvYXNzZXRzJyksIHsgZG90ZmlsZXM6ICdhbGxvdycgfSlcclxuKTtcclxuXHJcbi8vIGVycm9yIGhhbmRsaW5nIC0gMVxyXG5hcHAuYWxsKCcvKicsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKGpvaW4oX19kaXJuYW1lLCAnL2NsaWVudC9pbmRleC5odG1sJykpO1xyXG59KTtcclxuLy8gZXJyb3IgaGFuZGxpbmcgLSAyXHJcbmFwcC51c2UoKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSwgbmV4dDogTmV4dEZ1bmN0aW9uKSA9PiB7XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKCdJc3N1ZSBoYXBwZW5lZC4gUGxlYXNlIHJldHJ5IGxhdGVyIScpO1xyXG59KTtcclxuXHJcbmFwcC5saXN0ZW4oODA4MCwgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKCdhcHAgbGlzdGVuaW5nIG9uIHBvcnQgODA4MC4nKTtcclxufSk7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImV4cHJlc3Mtc2Vzc2lvblwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXRoXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvcnNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiYm9keS1wYXJzZXJcIik7IiwiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7IFJlcXVlc3QsIFJlc3BvbnNlIH0gZnJvbSAnLi9pbnRlcmZhY2UnO1xyXG5cclxuaW1wb3J0IHsgYnVzUm91dGVyIH0gZnJvbSAnLi9sdGEvcm91dGVyJztcclxuaW1wb3J0IGh0dHBSb3V0ZXIgZnJvbSAnLi9odHRwLXJlcXVlc3Qvcm91dGVyJztcclxuaW1wb3J0IHtcclxuICBkaWN0aW9uYXJ5Um91dGVyLFxyXG4gIGx1bmNoZnVuUm91dGVyXHJcbn0gZnJvbSAnLi9sdW5jaGZ1bi1hbmQtZGljdGlvbmFyeS9yb3V0ZXInO1xyXG5pbXBvcnQgZ2lmdHNSb3V0ZXIgZnJvbSAnLi9hcGktZ2lmdHMtcm91dGVyJztcclxuaW1wb3J0IFNlbmRFbWFpbCBmcm9tICcuL2VtYWlsL2VtYWlsLm9wcyc7XHJcblxyXG5jb25zdCBhcGlSb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbi8vIHVybDogL2FwaVxyXG5hcGlSb3V0ZXIudXNlKCcvZGljdGlvbmFyeScsIGRpY3Rpb25hcnlSb3V0ZXIpO1xyXG5hcGlSb3V0ZXIudXNlKCcvaHR0cCcsIGh0dHBSb3V0ZXIpO1xyXG5hcGlSb3V0ZXIudXNlKCcvbHVuY2hmdW4nLCBsdW5jaGZ1blJvdXRlcik7XHJcbmFwaVJvdXRlci51c2UoJy9sdGEvYnVzJywgYnVzUm91dGVyKTtcclxuYXBpUm91dGVyLnVzZSgnL2dpZnRzJywgZ2lmdHNSb3V0ZXIpO1xyXG5cclxuLy8gbXNnIGZyb20gdXNlcnM7IGZvcndhcmQgaXQgdmlhIG5vZGVtYWlsZXIuXHJcbmFwaVJvdXRlci5wb3N0KCcvbXNnJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIFNlbmRFbWFpbChyZXEuYm9keSwgcmVzKTtcclxufSk7XHJcblxyXG4vLyBlcnJvciBoYW5kbGluZ1xyXG5hcGlSb3V0ZXIuYWxsKCcvKicsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgUmVxdWVzdCcpO1xyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFwaVJvdXRlcjtcclxuIiwiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCBnZXRCdXNBcnJpdmFsIGZyb20gJy4vYnVzLWFycml2YWwnO1xyXG5pbXBvcnQgeyBnZXRCdXNTdG9wSW5mbywgZ2V0TmVhcmJ5QnVzU3RvcHMgfSBmcm9tICcuL2J1cy1zdG9wcyc7XHJcblxyXG4vLyB1cmw6IC9hcGkvbHRhL2J1c1xyXG5jb25zdCBidXNSb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbmJ1c1JvdXRlci5nZXQoJy9idXNBcnJpdmFsLzpidXNTdG9wQ29kZScsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBnZXRCdXNBcnJpdmFsKHJlcS5wYXJhbXMuYnVzU3RvcENvZGUsIHJlcyk7XHJcbn0pO1xyXG5cclxuYnVzUm91dGVyLmdldCgnL2J1c1N0b3AvOmJ1c1N0b3BDb2RlJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIGdldEJ1c1N0b3BJbmZvKHJlcS5wYXJhbXMuYnVzU3RvcENvZGUsIHJlcyk7XHJcbn0pO1xyXG5cclxuYnVzUm91dGVyLmdldCgnL25lYXJieUJ1c1N0b3BzJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIGdldE5lYXJieUJ1c1N0b3BzKHJlcS5xdWVyeS5sYXRpdHVkZSwgcmVxLnF1ZXJ5LmxvbmdpdHVkZSwgcmVzKTtcclxufSk7XHJcblxyXG5leHBvcnQgeyBidXNSb3V0ZXIgfTtcclxuIiwiaW1wb3J0IEF4aW9zIGZyb20gJ2F4aW9zJztcclxuXHJcbmltcG9ydCB7IFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuaW1wb3J0IHsgYnVzQXJyaXZhbFVybCwgaGVhZGVyQ29uZmlnIH0gZnJvbSAnLi9sdGEnO1xyXG5pbXBvcnQgeyBjaGVja0J1c1N0b3BMb2NhbGx5IH0gZnJvbSAnLi9idXMtc3RvcHMnO1xyXG5cclxuZnVuY3Rpb24gZ2V0QnVzQXJyaXZhbChidXNTdG9wQ29kZTogc3RyaW5nLCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgYnVzU3RvcENvZGUgPSBidXNTdG9wQ29kZS50cmltKCk7XHJcbiAgaWYgKCFidXNTdG9wQ29kZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIEJ1c1N0b3BDb2RlLicpO1xyXG4gIH1cclxuXHJcbiAgbGV0IGJ1c1N0b3BJbmZvID0gY2hlY2tCdXNTdG9wTG9jYWxseShidXNTdG9wQ29kZSk7XHJcbiAgaWYgKCFidXNTdG9wSW5mbykge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdCdXMgU3RvcCBub3QgZm91bmQuJyk7XHJcbiAgfVxyXG5cclxuICBsZXQgdXJsID0gYCR7YnVzQXJyaXZhbFVybH0/QnVzU3RvcENvZGU9JHtidXNTdG9wQ29kZX1gO1xyXG4gIEF4aW9zLmdldCh1cmwsIGhlYWRlckNvbmZpZylcclxuICAgIC50aGVuKHJlc3Bvc2UgPT4ge1xyXG4gICAgICByZXNcclxuICAgICAgICAuc3RhdHVzKDIwMClcclxuICAgICAgICAuc2VuZCh7IGJ1c1N0b3BJbmZvOiBidXNTdG9wSW5mbywgYnVzQXJyaXZhbDogcmVzcG9zZS5kYXRhIH0pO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlID0+IHtcclxuICAgICAgcmVzLnN0YXR1cyg0MDApLnNlbmQoZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZ2V0QnVzQXJyaXZhbDtcclxuIiwiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCB7IERlbGV0ZSwgR2V0LCBQb3N0LCBQdXQgfSBmcm9tICcuL2h0dHAtcmVxdWVzdCc7XHJcblxyXG5jb25zdCBodHRwUm91dGVyID0gUm91dGVyKCk7XHJcblxyXG5odHRwUm91dGVyLnBvc3QoJycsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBpZiAocmVxLmJvZHkudHlwZSA9PT0gJ0RFTEVURScpIHtcclxuICAgIERlbGV0ZShyZXEuYm9keSwgcmVzKTtcclxuICB9IGVsc2UgaWYgKHJlcS5ib2R5LnR5cGUgPT09ICdHRVQnKSB7XHJcbiAgICBHZXQocmVxLmJvZHksIHJlcyk7XHJcbiAgfSBlbHNlIGlmIChyZXEuYm9keS50eXBlID09PSAnUE9TVCcpIHtcclxuICAgIFBvc3QocmVxLmJvZHksIHJlcyk7XHJcbiAgfSBlbHNlIGlmIChyZXEuYm9keS50eXBlID09PSAnUFVUJykge1xyXG4gICAgUHV0KHJlcS5ib2R5LCByZXMpO1xyXG4gIH1cclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBodHRwUm91dGVyO1xyXG4iLCJpbXBvcnQgQXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5cclxuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5cclxuZnVuY3Rpb24gRGVsZXRlKGJvZHk6IGFueSwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGxldCB1cmwgPSBib2R5LnVybDtcclxuICBpZiAoYm9keS5xdWVyeXMgJiYgYm9keS5xdWVyeXMubGVuZ3RoID4gMCkge1xyXG4gICAgdXJsICs9ICc/JztcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm9keS5xdWVyeXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgdXJsICs9IGJvZHkucXVlcnlbaV07XHJcbiAgICAgIHVybCArPSAnPSc7XHJcbiAgICAgIHVybCArPSBib2R5LnF1ZXJ5VmFsdWVbaV07XHJcbiAgICB9XHJcbiAgfVxyXG4gIEF4aW9zLmRlbGV0ZSh1cmwpXHJcbiAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJlc3BvbnNlKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5zZW5kKGUpO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gUG9zdChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcclxuICBsZXQgaGVhZGVycyA9IHt9O1xyXG5cclxuICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQocmVxKTtcclxuICBsZXQgdXJsOiBzdHJpbmcgPSByZXEuYm9keS51cmw7XHJcbiAgaWYgKHJlcS5ib2R5LmhlYWRlcnMpIHtcclxuICAgIGhlYWRlcnMgPSB7XHJcbiAgICAgIGhlYWRlcnM6IHJlcS5ib2R5LmhlYWRlcnNcclxuICAgIH07XHJcbiAgfVxyXG4gIGlmIChyZXEuYm9keS5wYXJhbWV0ZXJzKSB7XHJcbiAgICB1cmwgKz0gJz8nO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXEuYm9keS5wYXJhbWV0ZXJzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgIHVybCArPSByZXEuYm9keS5wYXJhbWV0ZXJzW2ldICsgJz0nICsgcmVxLmJvZHkucGFyYW1ldGVyVmFsdWVbaV0gKyAnJic7XHJcbiAgICB9XHJcbiAgfVxyXG4gIEF4aW9zLmdldCh1cmwsIGhlYWRlcnMpLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgcmVzLnNlbmQocmVzcG9uc2UuZGF0YSk7XHJcbiAgfSk7XHJcbn1cclxuZnVuY3Rpb24gUHV0KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4gIEF4aW9zLnB1dChyZXEuYm9keS51cmwpLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgcmVzLnNlbmQocmVzcG9uc2UuZGF0YSk7XHJcbiAgfSk7XHJcbn1cclxuZnVuY3Rpb24gR2V0KHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkge1xyXG4gIEF4aW9zLnBvc3QocmVxLmJvZHkudXJsKS50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgIHJlcy5zZW5kKHJlc3BvbnNlLmRhdGEpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQgeyBEZWxldGUsIEdldCwgUG9zdCwgUHV0IH07XHJcbiIsImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xyXG5cclxuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQgQ2hlY2tPeGZvcmRFbnRyaWVzIGZyb20gJy4vZGljdGlvbmFyeSc7XHJcbmltcG9ydCB7IEFkZFBhbCwgRGVsZXRlUGFsLCBHZXRQYWxzLCBHZXRQYWxzQXR0ZW5kYW5jZSB9IGZyb20gJy4vbHVuY2hmdW4tcGFscyc7XHJcbmltcG9ydCB7IEFkZFJlY29yZCwgRGVsZXRlUmVjb3JkLCBHZXRSZWNvcmRzIH0gZnJvbSAnLi9sdW5jaGZ1bi1yZWNvcmRzJztcclxuXHJcbmNvbnN0IGRpY3Rpb25hcnlSb3V0ZXIgPSBSb3V0ZXIoKTtcclxuY29uc3QgbHVuY2hmdW5Sb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbmRpY3Rpb25hcnlSb3V0ZXIuZ2V0KCcvb3hmb3JkLzp3b3JkJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIENoZWNrT3hmb3JkRW50cmllcyhyZXEucGFyYW1zLndvcmQsIHJlcyk7XHJcbn0pO1xyXG5cclxubHVuY2hmdW5Sb3V0ZXIuZ2V0KCcvcGFscycsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBHZXRQYWxzKHJlcyk7XHJcbn0pO1xyXG5sdW5jaGZ1blJvdXRlci5wb3N0KCcvcGFsJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIEFkZFBhbChyZXEuYm9keS5uYW1lLCByZXMpO1xyXG59KTtcclxubHVuY2hmdW5Sb3V0ZXIuZGVsZXRlKCcvcGFsJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIERlbGV0ZVBhbChyZXEucXVlcnksIHJlcyk7XHJcbn0pO1xyXG5cclxubHVuY2hmdW5Sb3V0ZXIuZ2V0KCcvcmVjb3JkcycsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBHZXRSZWNvcmRzKHJlcyk7XHJcbn0pO1xyXG5sdW5jaGZ1blJvdXRlci5wb3N0KCcvcmVjb3JkJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIEFkZFJlY29yZChyZXEuYm9keS5wYXllciwgcmVxLmJvZHkuYXR0ZW5kZWVzLCByZXMpO1xyXG59KTtcclxubHVuY2hmdW5Sb3V0ZXIuZGVsZXRlKCcvcmVjb3JkJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIERlbGV0ZVJlY29yZChyZXEucXVlcnkuX2lkLCByZXMpO1xyXG59KTtcclxuXHJcbmx1bmNoZnVuUm91dGVyLmdldCgnL3N0YXRzL2F0dGVuZGFuY2UnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgR2V0UGFsc0F0dGVuZGFuY2UocmVzKTtcclxufSk7XHJcblxyXG5leHBvcnQgeyBkaWN0aW9uYXJ5Um91dGVyLCBsdW5jaGZ1blJvdXRlciB9O1xyXG4iLCJpbXBvcnQgQXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgeyBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCB7XHJcbiAgQ2hlY2tFbnRyaWVzUmVzdWx0LFxyXG4gIE94Zm9yZEVudHJpZXMsXHJcbiAgT3hmb3JkTGVtbWFzXHJcbn0gZnJvbSAnLi9veGZvcmQtaW50ZXJmYWNlJztcclxuXHJcbmNvbnN0IGFwcF9pZDogc3RyaW5nID0gJzAzMTRlOWUyJztcclxuY29uc3QgYXBwX2tleTogc3RyaW5nID0gJzVhNmMyNTg5NDc0YTJmODNjY2Q2OWYzOTdiZmVjN2EyJztcclxuY29uc3QgY29uZmlnID0ge1xyXG4gIGhlYWRlcnM6IHtcclxuICAgIGFwcF9pZDogYXBwX2lkLFxyXG4gICAgYXBwX2tleTogYXBwX2tleVxyXG4gIH1cclxufTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIENoZWNrT3hmb3JkRW50cmllcyh3b3JkOiBzdHJpbmcsIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIXdvcmQgfHwgIXdvcmQudHJpbSgpKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgd29yZC4nKTtcclxuICB9XHJcbiAgd29yZCA9IHdvcmQudHJpbSgpLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gIGNvbnN0IHVybCA9XHJcbiAgICAnaHR0cHM6Ly9vZC1hcGkub3hmb3JkZGljdGlvbmFyaWVzLmNvbS9hcGkvdjIvZW50cmllcy9lbi1nYi8nICtcclxuICAgIHdvcmQgK1xyXG4gICAgJz9maWVsZHM9ZGVmaW5pdGlvbnMlMkNwcm9udW5jaWF0aW9ucyc7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBsZXQgcmVzcCA9IGF3YWl0IEF4aW9zKHVybCwgY29uZmlnKTtcclxuICAgIGxldCBlbnRyaWVzOiBPeGZvcmRFbnRyaWVzID0gcmVzcC5kYXRhO1xyXG4gICAgbGV0IHJldHVybl9yZXN1bHQ6IENoZWNrRW50cmllc1Jlc3VsdCA9IHsgbGV4aWNhbEVudHJpZXM6IFtdIH07XHJcbiAgICBmb3IgKGxldCByZXN1bHQgb2YgZW50cmllcy5yZXN1bHRzKSB7XHJcbiAgICAgIGZvciAobGV0IGxleGljYWxFbnRyeSBvZiByZXN1bHQubGV4aWNhbEVudHJpZXMpIHtcclxuICAgICAgICBsZXQgbmV3X2xleGljYWxFbnRyeSA9IHtcclxuICAgICAgICAgIGVudHJpZXM6IFtdLFxyXG4gICAgICAgICAgbGV4aWNhbENhdGVnb3J5OiAnJyxcclxuICAgICAgICAgIHByb251bmNpYXRpb25zOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuX3Jlc3VsdC5sZXhpY2FsRW50cmllcy5wdXNoKG5ld19sZXhpY2FsRW50cnkpO1xyXG5cclxuICAgICAgICBpZiAobGV4aWNhbEVudHJ5LmxleGljYWxDYXRlZ29yeSkge1xyXG4gICAgICAgICAgbmV3X2xleGljYWxFbnRyeS5sZXhpY2FsQ2F0ZWdvcnkgPSBsZXhpY2FsRW50cnkubGV4aWNhbENhdGVnb3J5LnRleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGVudHJ5IG9mIGxleGljYWxFbnRyeS5lbnRyaWVzKSB7XHJcbiAgICAgICAgICBmb3IgKGxldCBzZW5zZSBvZiBlbnRyeS5zZW5zZXMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgZGVmaW5pdGlvbiBvZiBzZW5zZS5kZWZpbml0aW9ucykge1xyXG4gICAgICAgICAgICAgIG5ld19sZXhpY2FsRW50cnkuZW50cmllcy5wdXNoKGRlZmluaXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBzdWJzZW5zZSBvZiBzZW5zZS5zdWJzZW5zZXMgfHwgW10pIHtcclxuICAgICAgICAgICAgICBmb3IgKGxldCBkZWZpbml0aW9uIG9mIHN1YnNlbnNlLmRlZmluaXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdfbGV4aWNhbEVudHJ5LmVudHJpZXMucHVzaChkZWZpbml0aW9uKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IHByb251bmNpYXRpb24gb2YgbGV4aWNhbEVudHJ5LnByb251bmNpYXRpb25zKSB7XHJcbiAgICAgICAgICBuZXdfbGV4aWNhbEVudHJ5LnByb251bmNpYXRpb25zLnB1c2goe1xyXG4gICAgICAgICAgICBhdWRpb0ZpbGU6IHByb251bmNpYXRpb24uYXVkaW9GaWxlLFxyXG4gICAgICAgICAgICBwaG9uZXRpY1NwZWxsaW5nOiBwcm9udW5jaWF0aW9uLnBob25ldGljU3BlbGxpbmdcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHJldHVybl9yZXN1bHQpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZChlLm1lc3NhZ2UpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gQ2hlY2tPeGZvcmRMZW1tYXMod29yZDogc3RyaW5nKSB7XHJcbiAgaWYgKCF3b3JkIHx8ICF3b3JkLnRyaW0oKSkge1xyXG4gICAgcmV0dXJuICdJbnZhbGlkIHdvcmQuJztcclxuICB9XHJcbiAgY29uc3QgdXJsID1cclxuICAgICdodHRwczovL29kLWFwaS5veGZvcmRkaWN0aW9uYXJpZXMuY29tL2FwaS92Mi9sZW1tYXMvZW4tZ2IvJyArIHdvcmQ7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBsZXQgcmVzcCA9IGF3YWl0IEF4aW9zKHVybCwgY29uZmlnKTtcclxuICAgIGNvbnN0IGxlbW1hczogT3hmb3JkTGVtbWFzID0gcmVzcC5kYXRhO1xyXG4gICAgbGV0IHJldHVybl9yZXN1bHQgPSBbXTtcclxuICAgIGxlbW1hcy5yZXN1bHRzLmZvckVhY2gocmVzdWx0ID0+IHtcclxuICAgICAgcmVzdWx0LmxleGljYWxFbnRyaWVzLmZvckVhY2gobGV4aWNhbEVudHJ5ID0+IHtcclxuICAgICAgICBsZXhpY2FsRW50cnkuaW5mbGVjdGlvbk9mLmZvckVhY2goaW5mbGVjdGlvbiA9PiB7XHJcbiAgICAgICAgICByZXR1cm5fcmVzdWx0LnB1c2goaW5mbGVjdGlvbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmV0dXJuX3Jlc3VsdDtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gZS5tZXNzYWdlO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2hlY2tPeGZvcmRFbnRyaWVzO1xyXG4iLCJpbXBvcnQgeyBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCB7IERiQ29sbGVjdGlvbiB9IGZyb20gJy4uL21vbmdvZGItb3BzJztcclxuXHJcbmxldCBsdW5jaFBhbHMgPSBbXTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHJlZnJlc2hQYWxzKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwYWxzQ29sbGVjdGlvbiA9IGF3YWl0IERiQ29sbGVjdGlvbignbHVuY2hmdW4tcGFscycpO1xyXG4gICAgbHVuY2hQYWxzID0gYXdhaXQgcGFsc0NvbGxlY3Rpb25cclxuICAgICAgLmZpbmQoKVxyXG4gICAgICAuc29ydCh7IG5hbWU6IDEgfSlcclxuICAgICAgLnRvQXJyYXkoKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICB0aHJvdyBlO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gR2V0UGFscyhyZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKGx1bmNoUGFscy5sZW5ndGggPiAwKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQobHVuY2hQYWxzKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCByZWZyZXNoUGFscygpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGx1bmNoUGFscyk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gQWRkUGFsKG5hbWU6IHN0cmluZywgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghbmFtZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIGlucHV0LicpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHBhbHNDb2xsZWN0aW9uID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdsdW5jaGZ1bi1wYWxzJyk7XHJcbiAgICBwYWxzQ29sbGVjdGlvbi5pbnNlcnRPbmUoeyBuYW1lOiBuYW1lIH0pO1xyXG4gICAgcmVmcmVzaFBhbHMoKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBEZWxldGVQYWwobmFtZTogc3RyaW5nLCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFuYW1lKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgbmFtZSB0byBkZWxldGUuJyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcGFsc0NvbGxlY3Rpb24gPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2x1bmNoZnVuLXBhbHMnKTtcclxuICAgIHBhbHNDb2xsZWN0aW9uLmRlbGV0ZU9uZSh7IG5hbWU6IG5hbWUgfSk7XHJcbiAgICByZWZyZXNoUGFscygpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEdldFBhbHNBdHRlbmRhbmNlKHJlczogUmVzcG9uc2UpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IERiQ29sbGVjdGlvbignbHVuY2hmdW4tcmVjb3JkcycpO1xyXG4gICAgY29uc3QgYXR0ZW5kYW5jZXMgPSBhd2FpdCBjb2xsZWN0aW9uXHJcbiAgICAgIC5hZ2dyZWdhdGUoW1xyXG4gICAgICAgIHsgJHVud2luZDogJyRhdHRlbmRlZXMnIH0sXHJcbiAgICAgICAgeyAkZ3JvdXA6IHsgX2lkOiAnJGF0dGVuZGVlcycsIGF0dGVuZGFuY2U6IHsgJHN1bTogMSB9IH0gfSxcclxuICAgICAgICB7ICRwcm9qZWN0OiB7IG5hbWU6ICckX2lkJywgYXR0ZW5kYW5jZTogJyRhdHRlbmRhbmNlJyB9IH1cclxuICAgICAgXSlcclxuICAgICAgLnRvQXJyYXkoKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChhdHRlbmRhbmNlcyk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgQWRkUGFsLCBEZWxldGVQYWwsIEdldFBhbHMsIEdldFBhbHNBdHRlbmRhbmNlIH07XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1vbmdvZGJcIik7IiwiaW1wb3J0IHsgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQgeyBEYkNvbGxlY3Rpb24sIE9iamVjdElEIH0gZnJvbSAnLi4vbW9uZ29kYi1vcHMnO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gR2V0UmVjb3JkcyhyZXM6IFJlc3BvbnNlLCBxdHk/OiBudW1iZXIpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IERiQ29sbGVjdGlvbignbHVuY2hmdW4tcmVjb3JkcycpO1xyXG4gICAgY29uc3QgcmVjb3JkcyA9IGF3YWl0IGNvbGxlY3Rpb25cclxuICAgICAgLmZpbmQoe30pXHJcbiAgICAgIC5zb3J0KHsgY3JlYXRlZE9uOiAtMSB9KVxyXG4gICAgICAubGltaXQocXR5IHwgMzApXHJcbiAgICAgIC50b0FycmF5KCk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQocmVjb3Jkcyk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gQWRkUmVjb3JkKHBheWVyOiBzdHJpbmcsIGF0dGVuZGVlczogc3RyaW5nW10sIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIXBheWVyIHx8ICFhdHRlbmRlZXMgfHwgYXR0ZW5kZWVzLmxlbmd0aCA8PSAwKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgcGFyYW1zIHRvIGFkZC4nKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdsdW5jaGZ1bi1yZWNvcmRzJyk7XHJcbiAgICBhd2FpdCBjb2xsZWN0aW9uLmluc2VydE9uZSh7XHJcbiAgICAgIHBheWVyOiBwYXllcixcclxuICAgICAgYXR0ZW5kZWVzOiBhdHRlbmRlZXMsXHJcbiAgICAgIGNyZWF0ZWRPbjogbmV3IERhdGUoKVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coZSk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoJ0Vycm9yIGF0IHNlcnZlci4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci4nKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIERlbGV0ZVJlY29yZChfaWQ6IHN0cmluZywgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghX2lkKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgcmVjb3JkIHRvIGRlbGV0ZS4nKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdsdW5jaGZ1bi1yZWNvcmRzJyk7XHJcbiAgICBjb2xsZWN0aW9uLmRlbGV0ZU9uZSh7IF9pZDogbmV3IE9iamVjdElEKF9pZCkgfSk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgQWRkUmVjb3JkLCBEZWxldGVSZWNvcmQsIEdldFJlY29yZHMgfTtcclxuIiwiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5pbXBvcnQgZ2lmdHNQcm9kdWN0c1JvdXRlciBmcm9tICcuL2dpZnRzLXByb2R1Y3RzL2dpZnRzLXByb2R1Y3RzLXJvdXRlcic7XHJcbmltcG9ydCBnaWZ0c09yZGVyc1JvdXRlciBmcm9tICcuL2dpZnRzLW9yZGVycy9naWZ0cy1vcmRlcnMtcm91dGVyJztcclxuaW1wb3J0IGdpZnRzVXNlcnNSb3V0ZXIgZnJvbSAnLi9naWZ0cy11c2Vycy9naWZ0cy11c2Vycy1yb3V0ZXInO1xyXG5pbXBvcnQgZ2lmdHNTdGFmZnNSb3V0ZXIgZnJvbSAnLi9naWZ0cy1zdGFmZnMvZ2lmdHMtc3RhZmZzLXJvdXRlcic7XHJcblxyXG5jb25zdCBnaWZ0c1JvdXRlciA9IFJvdXRlcigpO1xyXG5cclxuLy8gdXJsOiAvYXBpL2dpZnRzXHJcbmdpZnRzUm91dGVyLnVzZSgnL3Byb2R1Y3RzJywgZ2lmdHNQcm9kdWN0c1JvdXRlcik7XHJcbmdpZnRzUm91dGVyLnVzZSgnL29yZGVycycsIGdpZnRzT3JkZXJzUm91dGVyKTtcclxuZ2lmdHNSb3V0ZXIudXNlKCcvdXNlcnMnLCBnaWZ0c1VzZXJzUm91dGVyKTtcclxuZ2lmdHNSb3V0ZXIudXNlKCcvc3RhZmZzJywgZ2lmdHNTdGFmZnNSb3V0ZXIpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZ2lmdHNSb3V0ZXI7XHJcbiIsImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xyXG5cclxuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQge1xyXG4gIEFkZENhdGVnb3J5LFxyXG4gIERlbGV0ZUNhdGVnb3J5LFxyXG4gIEdldENhdGVnb3JpZXMsXHJcbiAgR2V0U2FtcGxlc09mQ2F0ZWdvcmllc1xyXG59IGZyb20gJy4vZ2lmdHMtcHJvZHVjdHMtY2F0ZWdvcmllcy5vcHMnO1xyXG5pbXBvcnQge1xyXG4gIEFkZFByb2R1Y3QsXHJcbiAgRGVsZXRlUHJvZHVjdCxcclxuICBHZXRQcm9kdWN0LFxyXG4gIEdldFByb2R1Y3RzQnlDYXRlZ29yeSxcclxuICBVcGRhdGVQcm9kdWN0XHJcbn0gZnJvbSAnLi9naWZ0cy1wcm9kdWN0cy5vcHMnO1xyXG5pbXBvcnQgeyBBZGp1c3RJbnZlbnRvcnksIEdldEludmVudG9yeSB9IGZyb20gJy4vZ2lmdHMtcHJvZHVjdHMtaW52ZW50b3J5Lm9wcyc7XHJcblxyXG5jb25zdCBnaWZ0c1Byb2R1Y3RzUm91dGVyID0gUm91dGVyKCk7XHJcblxyXG5naWZ0c1Byb2R1Y3RzUm91dGVyLmdldCgnL3ZpZXcvOnByb2R1Y3Rfbm8nLCAocmVxLCByZXMpID0+IHtcclxuICBHZXRQcm9kdWN0KHJlcS5wYXJhbXMsIHJlcyk7XHJcbn0pO1xyXG5cclxuLypcclxuICogaW5xdWlyeTogL2FwaS9naWZ0cy9wcm9kdWN0c1xyXG4gKi9cclxuZ2lmdHNQcm9kdWN0c1JvdXRlci5nZXQoJy9jYXRlZ29yaWVzJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIEdldENhdGVnb3JpZXMocmVzKTtcclxufSk7XHJcbmdpZnRzUHJvZHVjdHNSb3V0ZXIucG9zdCgnL2NhdGVnb3J5JywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIEFkZENhdGVnb3J5KHJlcS5ib2R5LCByZXMpO1xyXG59KTtcclxuZ2lmdHNQcm9kdWN0c1JvdXRlci5kZWxldGUoJy9jYXRlZ29yeScsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBEZWxldGVDYXRlZ29yeShyZXEucXVlcnksIHJlcyk7XHJcbn0pO1xyXG5cclxuZ2lmdHNQcm9kdWN0c1JvdXRlci5nZXQoJy9zYW1wbGVzJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIEdldFNhbXBsZXNPZkNhdGVnb3JpZXMocmVzKTtcclxufSk7XHJcbmdpZnRzUHJvZHVjdHNSb3V0ZXIuZ2V0KCcnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgR2V0UHJvZHVjdHNCeUNhdGVnb3J5KHJlcSwgcmVzKTtcclxufSk7XHJcbmdpZnRzUHJvZHVjdHNSb3V0ZXIuZ2V0KCcvcHJvZHVjdCcsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBHZXRQcm9kdWN0KHJlcS5xdWVyeSwgcmVzKTtcclxufSk7XHJcbmdpZnRzUHJvZHVjdHNSb3V0ZXIucG9zdCgnL3Byb2R1Y3QnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgQWRkUHJvZHVjdChyZXEuYm9keSwgcmVzKTtcclxufSk7XHJcbmdpZnRzUHJvZHVjdHNSb3V0ZXIucHV0KCcvcHJvZHVjdCcsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBVcGRhdGVQcm9kdWN0KHJlcS5ib2R5LCByZXMpO1xyXG59KTtcclxuZ2lmdHNQcm9kdWN0c1JvdXRlci5kZWxldGUoJy9wcm9kdWN0JywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIERlbGV0ZVByb2R1Y3QocmVxLnF1ZXJ5LCByZXMpO1xyXG59KTtcclxuXHJcbmdpZnRzUHJvZHVjdHNSb3V0ZXIuZ2V0KCcvaW52ZW50b3J5JywgKHJlcSwgcmVzKSA9PiB7XHJcbiAgR2V0SW52ZW50b3J5KHJlcyk7XHJcbn0pO1xyXG5naWZ0c1Byb2R1Y3RzUm91dGVyLnB1dCgnL2ludmVudG9yeScsIChyZXEsIHJlcykgPT4ge1xyXG4gIEFkanVzdEludmVudG9yeShyZXEuYm9keS5faWQsIHJlcS5ib2R5LnF0eSwgcmVzKTtcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBnaWZ0c1Byb2R1Y3RzUm91dGVyO1xyXG4iLCJpbXBvcnQgeyBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCB7IE9iamVjdElELCBEYkNvbGxlY3Rpb24gfSBmcm9tICcuLi9tb25nb2RiLW9wcyc7XHJcblxyXG5sZXQgZ2xvYmFsQ2F0ZWdvcmllcyA9IFtdO1xyXG5sZXQgZ2xvYmFsU2FtcGxlc09mQ2F0ZWdvcmllcyA9IFtdO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gR2V0Q2F0ZWdvcmllcyhyZXM6IFJlc3BvbnNlKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBHZXRDYXRlZ29yaWVzQnlMZXZlbCgwKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChjYXRlZ29yaWVzKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBHZXRTYW1wbGVzT2ZDYXRlZ29yaWVzKHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoZ2xvYmFsU2FtcGxlc09mQ2F0ZWdvcmllcy5sZW5ndGggPiAwKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoZ2xvYmFsU2FtcGxlc09mQ2F0ZWdvcmllcyk7XHJcbiAgfVxyXG4gIHRyeSB7XHJcbiAgICBnbG9iYWxTYW1wbGVzT2ZDYXRlZ29yaWVzID0gYXdhaXQgR2V0U2FtcGxlcygpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGdsb2JhbFNhbXBsZXNPZkNhdGVnb3JpZXMpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEFkZENhdGVnb3J5KGJvZHk6IGFueSwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghYm9keS5uYW1lIHx8ICFib2R5LmNhdGVnb3J5KSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgaW5wdXQuJyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgZGJDb2xsZWN0aW9uID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1wcm9kdWN0cy1jYXRhbG9nJyk7XHJcbiAgICBhd2FpdCBkYkNvbGxlY3Rpb24uaW5zZXJ0T25lKHsgbmFtZTogYm9keS5uYW1lLCBjYXRlZ29yeTogYm9keS5jYXRlZ29yeSB9KTtcclxuICAgIGdsb2JhbENhdGVnb3JpZXMgPSBbXTtcclxuICAgIGdsb2JhbFNhbXBsZXNPZkNhdGVnb3JpZXMgPSBbXTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBEZWxldGVDYXRlZ29yeShxdWVyeTogYW55LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFxdWVyeS5faWQpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBpbnB1dC4nKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYkNvbGxlY3Rpb24gPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLXByb2R1Y3RzLWNhdGFsb2cnKTtcclxuICAgIGF3YWl0IGRiQ29sbGVjdGlvbi5kZWxldGVPbmUoeyBfaWQ6IG5ldyBPYmplY3RJRChxdWVyeS5faWQpIH0pO1xyXG4gICAgZ2xvYmFsQ2F0ZWdvcmllcyA9IFtdO1xyXG4gICAgZ2xvYmFsU2FtcGxlc09mQ2F0ZWdvcmllcyA9IFtdO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIEBsZXZlbDpcclxuLy8gMCAtIGFsbDsgIDEgLSAxc3QgbGV2ZWw7ICAyIC0gMm5kIGFuZCBhYm92ZSBsZXZlbHNcclxuYXN5bmMgZnVuY3Rpb24gR2V0Q2F0ZWdvcmllc0J5TGV2ZWwobGV2ZWw6IG51bWJlcikge1xyXG4gIGlmIChnbG9iYWxDYXRlZ29yaWVzLmxlbmd0aCA8PSAwKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBnbG9iYWxDYXRlZ29yaWVzID0gYXdhaXQgR2V0Q2F0ZWdvcmllc0Zyb21EYigpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICB0aHJvdyBlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaWYgKGxldmVsID09PSAwKSB7XHJcbiAgICByZXR1cm4gZ2xvYmFsQ2F0ZWdvcmllcztcclxuICB9XHJcbiAgY29uc3QgcmV0dXJuQ2F0ZWdvcmllcyA9IFtdO1xyXG4gIGdsb2JhbENhdGVnb3JpZXMuZm9yRWFjaChjYXQgPT4ge1xyXG4gICAgY29uc29sZS5sb2coY2F0LmNhdGVnb3J5Lm1hdGNoKG5ldyBSZWdFeHAoJy8nLCAnZycpKSk7XHJcbiAgICBpZiAoY2F0LmNhdGVnb3J5Lm1hdGNoKG5ldyBSZWdFeHAoJy8nLCAnZycpKS5sZW5ndGggPD0gbGV2ZWwpIHtcclxuICAgICAgcmV0dXJuQ2F0ZWdvcmllcy5wdXNoKGNhdCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHJldHVybkNhdGVnb3JpZXM7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEdldENhdGVnb3JpZXNGcm9tRGIoKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiQ29sbGVjdGlvbiA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtcHJvZHVjdHMtY2F0YWxvZycpO1xyXG4gICAgZ2xvYmFsQ2F0ZWdvcmllcyA9IGF3YWl0IGRiQ29sbGVjdGlvblxyXG4gICAgICAuZmluZCgpXHJcbiAgICAgIC5zb3J0KCdjYXRlZ29yeScsIDEpXHJcbiAgICAgIC50b0FycmF5KCk7XHJcbiAgICByZXR1cm4gZ2xvYmFsQ2F0ZWdvcmllcztcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICB0aHJvdyB7IGVyck1zZzogJ0dldCBjYXRlZ29yaWVzIGZyb20gZGF0YWJhc2UgZmFpbGVkLicgfTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEdldFNhbXBsZXMoKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiQ29sbGVjdGlvbiA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtcHJvZHVjdHMnKTtcclxuICAgIGxldCBkb2NzID0gbnVsbDtcclxuICAgIGRvY3MgPSBhd2FpdCBkYkNvbGxlY3Rpb25cclxuICAgICAgLmFnZ3JlZ2F0ZShbXHJcbiAgICAgICAgeyAkc29ydDogeyBfaWQ6IC0xIH0gfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAkZ3JvdXA6IHtcclxuICAgICAgICAgICAgX2lkOiB7IGNhdGVnb3J5OiAnJGNhdGVnb3J5JyB9LFxyXG4gICAgICAgICAgICBwcm9kdWN0czoge1xyXG4gICAgICAgICAgICAgICRwdXNoOiB7XHJcbiAgICAgICAgICAgICAgICBfaWQ6ICckX2lkJyxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnJGNhdGVnb3J5JyxcclxuICAgICAgICAgICAgICAgIGltZzogJyRpbWcnXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAkcHJvamVjdDoge1xyXG4gICAgICAgICAgICBfaWQ6ICckX2lkJyxcclxuICAgICAgICAgICAgcHJvZHVjdHM6IHtcclxuICAgICAgICAgICAgICAkc2xpY2U6IFtcclxuICAgICAgICAgICAgICAgICckcHJvZHVjdHMnLFxyXG4gICAgICAgICAgICAgICAgNCAvLyBtYXggbnVtYmVyIG9mIGVsZW1lbnRzIHJldHVybmVkIGZyb20gdGhlIHN0YXJ0IG9mIHRoZSBhcnJheVxyXG4gICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgXSlcclxuICAgICAgLnRvQXJyYXkoKTtcclxuICAgIHJldHVybiBkb2NzO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgcmV0dXJuIHsgZXJyTXNnOiAnR2V0IHByb2R1Y3RzIGZhaWxlZC4nIH07XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBBZGRDYXRlZ29yeSwgRGVsZXRlQ2F0ZWdvcnksIEdldENhdGVnb3JpZXMsIEdldFNhbXBsZXNPZkNhdGVnb3JpZXMgfTtcclxuIiwiaW1wb3J0IHsgRGJDb2xsZWN0aW9uLCBNb25nb0RiLCBPYmplY3RJRCB9IGZyb20gJy4uL21vbmdvZGItb3BzJztcclxuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gR2V0UHJvZHVjdChwYXJhbXM6IGFueSwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghcGFyYW1zLl9pZCkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIHByb2R1Y3Qgbm8uJyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBNb25nb0RiKCk7XHJcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgZGJcclxuICAgICAgLmNvbGxlY3Rpb24oJ2dpZnRzLXByb2R1Y3RzJylcclxuICAgICAgLmZpbmRPbmUoeyBfaWQ6IG5ldyBPYmplY3RJRChwYXJhbXMuX2lkKSB9KTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZChwcm9kdWN0KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBHZXRQcm9kdWN0c0J5Q2F0ZWdvcnkocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiQ29sbGVjdGlvbiA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtcHJvZHVjdHMnKTtcclxuICAgIGxldCBkb2NzID0gbnVsbDtcclxuICAgIGlmIChyZXEucXVlcnkuY2F0ZWdvcnkpIHtcclxuICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKFsnXicsIHJlcS5xdWVyeS5jYXRlZ29yeS50cmltKCldLmpvaW4oJycpLCAnaScpO1xyXG4gICAgICBkb2NzID0gYXdhaXQgZGJDb2xsZWN0aW9uLmZpbmQoeyBjYXRlZ29yeTogcmVnZXggfSkudG9BcnJheSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZG9jcyA9IGF3YWl0IGRiQ29sbGVjdGlvbi5maW5kKCkudG9BcnJheSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGRvY3MpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEFkZFByb2R1Y3QoYm9keTogYW55LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFib2R5Lm5hbWUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBpbnB1dC4nKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IE1vbmdvRGIoKTtcclxuICAgIGF3YWl0IGRiLmNvbGxlY3Rpb24oJ2dpZnRzLXByb2R1Y3RzJykuaW5zZXJ0T25lKHtcclxuICAgICAgbmFtZTogYm9keS5uYW1lLFxyXG4gICAgICBpbWc6IGJvZHkuaW1nLFxyXG4gICAgICBwcmljZTogYm9keS5wcmljZSxcclxuICAgICAgY2F0ZWdvcnk6IGJvZHkuY2F0ZWdvcnksXHJcbiAgICAgIGNvbG9yOiBib2R5LmNvbG9yLFxyXG4gICAgICBwYWNrYWdpbmc6IGJvZHkucGFja2FnaW5nLFxyXG4gICAgICBtYXRlcmlhbDogYm9keS5tYXRlcmlhbCxcclxuICAgICAgc2l6ZTogYm9keS5zaXplLFxyXG4gICAgICBub3RlOiBib2R5Lm5vdGUsXHJcbiAgICAgIHJldGFpbGVyOiBib2R5LnJldGFpbGVyLFxyXG4gICAgICBjcmVhdGVkT246IG5ldyBEYXRlKClcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIFVwZGF0ZVByb2R1Y3QoYm9keTogYW55LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFib2R5Ll9pZCkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIGlucHV0LicpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiUHJvZHVjdHMgPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLXByb2R1Y3RzJyk7XHJcbiAgICBhd2FpdCBkYlByb2R1Y3RzLnVwZGF0ZU9uZShcclxuICAgICAgeyBfaWQ6IG5ldyBPYmplY3RJRChib2R5Ll9pZCkgfSxcclxuICAgICAge1xyXG4gICAgICAgICRzZXQ6IHtcclxuICAgICAgICAgIG1vZGlmaWVkT246IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICBuYW1lOiBib2R5Lm5hbWUsXHJcbiAgICAgICAgICBpbWc6IGJvZHkuaW1nLFxyXG4gICAgICAgICAgcHJpY2U6IGJvZHkucHJpY2UsXHJcbiAgICAgICAgICBjYXRlZ29yeTogYm9keS5jYXRlZ29yeSxcclxuICAgICAgICAgIGNvbG9yOiBib2R5LmNvbG9yLFxyXG4gICAgICAgICAgcGFja2FnaW5nOiBib2R5LnBhY2thZ2luZyxcclxuICAgICAgICAgIG1hdGVyaWFsOiBib2R5Lm1hdGVyaWFsLFxyXG4gICAgICAgICAgc2l6ZTogYm9keS5zaXplLFxyXG4gICAgICAgICAgbm90ZTogYm9keS5ub3RlLFxyXG4gICAgICAgICAgcmV0YWlsZXI6IGJvZHkucmV0YWlsZXJcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gRGVsZXRlUHJvZHVjdChxdWVyeTogYW55LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFxdWVyeS5faWQpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBpbnB1dC4nKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IE1vbmdvRGIoKTtcclxuICAgIGF3YWl0IGRiXHJcbiAgICAgIC5jb2xsZWN0aW9uKCdnaWZ0cy1wcm9kdWN0cycpXHJcbiAgICAgIC5kZWxldGVPbmUoeyBfaWQ6IG5ldyBPYmplY3RJRChxdWVyeS5faWQpIH0pO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgQWRkUHJvZHVjdCxcclxuICBEZWxldGVQcm9kdWN0LFxyXG4gIEdldFByb2R1Y3RzQnlDYXRlZ29yeSxcclxuICBHZXRQcm9kdWN0LFxyXG4gIFVwZGF0ZVByb2R1Y3RcclxufTtcclxuIiwiaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnZXhwcmVzcyc7XHJcblxyXG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcblxyXG5jb25zdCBnaWZ0c09yZGVyc1JvdXRlciA9IFJvdXRlcigpO1xyXG5cclxuLy8gb3JkZXIgbGlzdCB3aXRoIG9yZGVyX25vLCBzdGF0dXMgJiBzdGFmZiBpZCB0byBmb2xsb3ctdXAuXHJcbmdpZnRzT3JkZXJzUm91dGVyLmdldCgnL2FsbE9yZGVycycsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBpZiAoIXJlcS5zZXNzaW9uIHx8ICFyZXEuc2Vzc2lvbi5zdGFmZikge1xyXG4gICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDQwMSk7XHJcbiAgfVxyXG4gIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxufSk7XHJcblxyXG4vLyB1cGRhdGUgb3JkZXIgc3RhdHVzIGJ5IHN0YWZmIGZvbGxvdy11cC5cclxuZ2lmdHNPcmRlcnNSb3V0ZXIucHV0KCcvdXBkYXRlU3RhdHVzJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIGlmICghcmVxLnNlc3Npb24gfHwgIXJlcS5zZXNzaW9uLnN0YWZmLmlkKSB7XHJcbiAgICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoNDAxKTtcclxuICB9XHJcbiAgaWYgKCFyZXEuYm9keS5uZXdfc3RhdHVzIHx8ICFyZXEuYm9keS5zbm8gfHwgIXJlcS5ib2R5Lm9yZGVyX25vKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ZhaWxlZC4gUGxlYWVzIHJldmlldyBpbnB1dHMuJyk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBwYXJhbSA9IHtcclxuICAgIDE6IHJlcS5ib2R5Lm9yZGVyX25vLFxyXG4gICAgMjogcmVxLmJvZHkuc25vLFxyXG4gICAgMzogRGF0ZS5ub3coKSxcclxuICAgIDQ6IHJlcS5zZXNzaW9uLnN0YWZmLmlkLFxyXG4gICAgNTogcmVxLmJvZHkubmV3X3N0YXR1cyxcclxuICAgIDY6IHJlcS5ib2R5Lm5vdGUgfHwgbnVsbFxyXG4gIH07XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG59KTtcclxuXHJcbi8vIHN0YWZmIHRvIHVwZGF0ZSBjb250YWN0IGluZm8gb2YgdGhlIG9yZGVyLlxyXG5naWZ0c09yZGVyc1JvdXRlci5wdXQoJy91cGRhdGVDb250YWN0JywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIGlmICghcmVxLnNlc3Npb24gfHwgIXJlcS5zZXNzaW9uLnN0YWZmLmlkKSB7XHJcbiAgICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoNDAxKTtcclxuICB9XHJcbiAgaWYgKCFyZXEuYm9keS5vcmRlcl9ubykge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdPcmRlcl9ubyBlbXB0eS4nKTtcclxuICB9IGVsc2UgaWYgKFxyXG4gICAgIXJlcS5ib2R5LmVtYWlsIHx8XHJcbiAgICAhcmVxLmJvZHkuZW1haWwuaW5jbHVkZXMoJ0AnKSB8fFxyXG4gICAgIXJlcS5ib2R5LmVtYWlsLmluY2x1ZGVzKCcuJykgfHxcclxuICAgIHJlcS5ib2R5LmVtYWlsLmluY2x1ZGVzKCcvJykgfHxcclxuICAgIHJlcS5ib2R5LmVtYWlsLmluY2x1ZGVzKCdcXFxcJylcclxuICApIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBlbWFpbC4nKTtcclxuICB9IGVsc2UgaWYgKCFyZXEuYm9keS5uYW1lKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ0ludmFsaWQgbmFtZS4nKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHBhcmFtID0ge1xyXG4gICAgMTogcmVxLmJvZHkubmFtZSxcclxuICAgIDI6IHJlcS5ib2R5LmVtYWlsLFxyXG4gICAgMzogcmVxLmJvZHkubW9iaWxlIHx8IG51bGwsXHJcbiAgICA0OiByZXEuYm9keS5jb21wYW55IHx8IG51bGwsXHJcbiAgICA1OiByZXEuYm9keS5tb2JpbGUyIHx8IG51bGwsXHJcbiAgICA2OiByZXEuYm9keS5hZGRyIHx8IG51bGwsXHJcbiAgICA3OiByZXEuYm9keS5vcmRlcl9ub1xyXG4gIH07XHJcbiAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG59KTtcclxuXHJcbi8vIHN0YWZmIHRvIGNoYW5nZSBvcmRlciBkZXRhaWxzIGUuZy4gcHJpY2UsIHF0eSwgaW4gY2FzZSB1c2VycyBjaGFuZ2VkIG1pbmQuXHJcbi8vIHN0YWZmIG1heSBjaGFuZ2Ugc3RhdHVzIG9mIHNwZWNpZmljIHByb2R1Y3Qgb2YgdGhlIG9yZGVyLlxyXG5naWZ0c09yZGVyc1JvdXRlci5wdXQoJy91cGRhdGVPcmRlckl0ZW0nLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgaWYgKCFyZXEuc2Vzc2lvbiB8fCAhcmVxLnNlc3Npb24uc3RhZmYuaWQpIHtcclxuICAgIHJldHVybiByZXMuc2VuZFN0YXR1cyg0MDEpO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFyZXEuYm9keS5vcmRlcl9ubykge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdGYWlsZWQuIEludmFsaWQgT3JkZXIgTm8uJyk7XHJcbiAgfVxyXG4gIGlmICghcmVxLmJvZHkuc25vIHx8IHJlcS5ib2R5LnNubyA9PT0gJycpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnRmFpbGVkLiBJbnZhbGlkIE9yZGVyIFNuby4nKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHBhcmFtID0ge1xyXG4gICAgMTogcmVxLmJvZHkubmV3X3NhbGVfcHJpY2UsXHJcbiAgICAyOiByZXEuYm9keS5uZXdfcXR5LFxyXG4gICAgMzogcmVxLmJvZHkubmV3X3N0YXR1cyxcclxuICAgIDQ6IHJlcS5ib2R5Lm9yZGVyX25vLFxyXG4gICAgNTogcmVxLmJvZHkuc25vXHJcbiAgfTtcclxuICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZ2lmdHNPcmRlcnNSb3V0ZXI7XHJcbiIsImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xyXG5cclxuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5pbXBvcnQge1xyXG4gIExvZ2luLFxyXG4gIExvZ291dCxcclxuICBSZWdpc3RlcixcclxuICBEZWxldGVVc2VyLFxyXG4gIFVzZXJJbmZvXHJcbn0gZnJvbSAnLi9naWZ0cy11c2Vycy5vcHMnO1xyXG5pbXBvcnQge1xyXG4gIEFkZFRvQ2FydCxcclxuICBDYXJ0Q2hlY2tvdXQsXHJcbiAgRGVsZXRlQ2FydCxcclxuICBEZWxldGVJbkNhcnQsXHJcbiAgR2V0Q2FydCxcclxuICBVcGRhdGVDYXJ0UXR5XHJcbn0gZnJvbSAnLi9naWZ0cy1jYXJ0cy5vcHMnO1xyXG5cclxuY29uc3QgZ2lmdHNVc2Vyc1JvdXRlciA9IFJvdXRlcigpO1xyXG5cclxuLy8gdXJsOiAvYXBpL2dpZnRzL3VzZXJzL1xyXG5naWZ0c1VzZXJzUm91dGVyLnBvc3QoJy9sb2dpbicsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBMb2dpbihyZXEsIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1VzZXJzUm91dGVyLmdldCgnL2luZm8nLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgVXNlckluZm8ocmVxLnNlc3Npb24sIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1VzZXJzUm91dGVyLmdldCgnL2xvZ291dCcsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBMb2dvdXQocmVxLCByZXMpO1xyXG59KTtcclxuZ2lmdHNVc2Vyc1JvdXRlci5wb3N0KCcvcmVnaXN0ZXInLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgUmVnaXN0ZXIocmVxLCByZXMpO1xyXG59KTtcclxuZ2lmdHNVc2Vyc1JvdXRlci5kZWxldGUoJy9kZWxldGV1c2VyJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIERlbGV0ZVVzZXIocmVxLnNlc3Npb24sIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1VzZXJzUm91dGVyLmdldCgnL2NhcnQnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgR2V0Q2FydChyZXEuc2Vzc2lvbiwgcmVzKTtcclxufSk7XHJcbmdpZnRzVXNlcnNSb3V0ZXIucG9zdCgnL2NhcnQnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgQWRkVG9DYXJ0KHJlcS5zZXNzaW9uLCByZXEuYm9keSwgcmVzKTtcclxufSk7XHJcbmdpZnRzVXNlcnNSb3V0ZXIuZGVsZXRlKCcvY2FydCcsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBEZWxldGVDYXJ0KHJlcS5zZXNzaW9uLCByZXMpO1xyXG59KTtcclxuZ2lmdHNVc2Vyc1JvdXRlci5wdXQoJy9jYXJ0JywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIFVwZGF0ZUNhcnRRdHkocmVxLCByZXMpO1xyXG59KTtcclxuZ2lmdHNVc2Vyc1JvdXRlci5kZWxldGUoJy9jYXJ0L3Byb2R1Y3QnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgRGVsZXRlSW5DYXJ0KHJlcS5zZXNzaW9uLCByZXEucXVlcnkuX2lkLCByZXMpO1xyXG59KTtcclxuZ2lmdHNVc2Vyc1JvdXRlci5wb3N0KCcvY2FydC9jaGVja291dCcsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICBDYXJ0Q2hlY2tvdXQocmVxLCByZXMpO1xyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGdpZnRzVXNlcnNSb3V0ZXI7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNyeXB0b1wiKTsiLCJpbXBvcnQgeyBEYkNvbGxlY3Rpb24sIE1vbmdvRGIsIE9iamVjdElEIH0gZnJvbSAnLi4vbW9uZ29kYi1vcHMnO1xyXG5pbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCB7IHJhbmRvbVN0cmluZyB9IGZyb20gJy4uL3N0cmluZy1vcHMnO1xyXG5cclxuaW1wb3J0IHsgYkxvZ2luIH0gZnJvbSAnLi9naWZ0cy11c2Vycy5vcHMnO1xyXG5pbXBvcnQgeyBDYXJ0SXRlbSB9IGZyb20gJy4vdXNlcnMtaW50ZXJmYWNlJztcclxuaW1wb3J0IHtcclxuICBEZWxldGVJbnZlbnRvcnlSZXNlcnZhdGlvbixcclxuICBSZXNlcnZlSW52ZW50b3J5XHJcbn0gZnJvbSAnLi4vZ2lmdHMtcHJvZHVjdHMvZ2lmdHMtcHJvZHVjdHMtaW52ZW50b3J5Lm9wcyc7XHJcbmltcG9ydCB7IE5ld09yZGVyIH0gZnJvbSAnLi4vZ2lmdHMtb3JkZXJzL2dpZnRzLW9yZGVycy5vcHMnO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gR2V0Q2FydChzZXNzaW9uOiBhbnksIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIWJMb2dpbihzZXNzaW9uKSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAzKS5zZW5kKCdVc2VyIG5vdCBsb2dpbicpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1jYXJ0cycpO1xyXG4gICAgY29uc3QgY2FydCA9IGF3YWl0IGRiLmZpbmRPbmUoeyBfaWQ6IG5ldyBPYmplY3RJRChzZXNzaW9uLnVzZXIuX2lkKSB9KTtcclxuICAgIGNvbnNvbGUubG9nKGNhcnQpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGNhcnQpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIEFkZFRvQ2FydChzZXNzaW9uOiBhbnksIGJvZHk6IGFueSwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghYkxvZ2luKHNlc3Npb24pKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLnNlbmQoJ1VzZXIgbm90IGxvZ2luJyk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgZGIgPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLWNhcnRzJyk7XHJcbiAgICBsZXQgcnNsdCA9IGF3YWl0IGRiLnVwZGF0ZU9uZShcclxuICAgICAgeyBfaWQ6IG5ldyBPYmplY3RJRChzZXNzaW9uLnVzZXIuX2lkKSB9LFxyXG4gICAgICB7ICRwdWxsOiB7IHByb2R1Y3RzOiB7IHByb2R1Y3RJZDogbmV3IE9iamVjdElEKGJvZHkucHJvZHVjdC5faWQpIH0gfSB9XHJcbiAgICApO1xyXG4gICAgcnNsdCA9IGF3YWl0IGRiLnVwZGF0ZU9uZShcclxuICAgICAgeyBfaWQ6IG5ldyBPYmplY3RJRChzZXNzaW9uLnVzZXIuX2lkKSB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgJHB1c2g6IHtcclxuICAgICAgICAgIHByb2R1Y3RzOiB7XHJcbiAgICAgICAgICAgIHByb2R1Y3RJZDogbmV3IE9iamVjdElEKGJvZHkucHJvZHVjdC5faWQpLFxyXG4gICAgICAgICAgICBxdWFudGl0eTogYm9keS5xdHksXHJcbiAgICAgICAgICAgIG5hbWU6IGJvZHkucHJvZHVjdC5uYW1lLFxyXG4gICAgICAgICAgICBwcmljZTogYm9keS5wcm9kdWN0LnByaWNlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7IHVwc2VydDogdHJ1ZSB9XHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIFVwZGF0ZUNhcnRRdHkocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKCFiTG9naW4ocmVxLnNlc3Npb24pKSB7XHJcbiAgICByZXMuc3RhdHVzKDQwMykuc2VuZCgnVXNlciBub3QgbG9naW4uJyk7XHJcbiAgfVxyXG4gIGlmICghcmVxLmJvZHkucHJvZHVjdElkIHx8ICFyZXEuYm9keS5xdHkpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBpbnB1dC4nKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IE1vbmdvRGIoKTtcclxuICAgIGNvbnN0IHJzbHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdnaWZ0cy1jYXJ0cycpLnVwZGF0ZU9uZShcclxuICAgICAge1xyXG4gICAgICAgIF9pZDogcmVxLnNlc3Npb24udXNlci5faWQsXHJcbiAgICAgICAgJ3Byb2R1Y3RzLnByb2R1Y3RJZCc6IHJlcS5ib2R5LnByb2R1Y3RJZFxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgJHNldDoge1xyXG4gICAgICAgICAgJ3Byb2R1Y3RzLiQucXR5JzogcmVxLmJvZHkucXR5LFxyXG4gICAgICAgICAgbW9kaWZpZWRPbjogbmV3IERhdGUoKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBEZWxldGVDYXJ0KHNlc3Npb246IGFueSwgcmVzOiBSZXNwb25zZSkge1xyXG4gIGlmICghYkxvZ2luKHNlc3Npb24pKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ1VzZXIgbm90IGxvZ2luLicpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRiID0gYXdhaXQgRGJDb2xsZWN0aW9uKCdnaWZ0cy1jYXJ0cycpO1xyXG4gICAgZGIuZGVsZXRlT25lKHsgX2lkOiBuZXcgT2JqZWN0SUQoc2Vzc2lvbi51c2VyLl9pZCkgfSk7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyByZXN1bHQ6ICdvaycgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gRGVsZXRlSW5DYXJ0KHNlc3Npb246IGFueSwgX2lkOiBzdHJpbmcsIHJlczogUmVzcG9uc2UpIHtcclxuICBpZiAoIWJMb2dpbihzZXNzaW9uKSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdVc2VyIG5vdCBsb2dpbi4nKTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBkYiA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtY2FydHMnKTtcclxuICAgIGxldCByc2x0ID0gYXdhaXQgZGIudXBkYXRlT25lKFxyXG4gICAgICB7IF9pZDogbmV3IE9iamVjdElEKHNlc3Npb24udXNlci5faWQpIH0sXHJcbiAgICAgIHsgJHB1bGw6IHsgcHJvZHVjdHM6IHsgcHJvZHVjdElkOiBuZXcgT2JqZWN0SUQoX2lkKSB9IH0gfVxyXG4gICAgKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IHJlc3VsdDogJ29rJyB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbiAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBDYXJ0Q2hlY2tvdXQocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgaWYgKFxyXG4gICAgIXJlcS5ib2R5LmNhcnQgfHxcclxuICAgICFyZXEuYm9keS5jYXJ0LmN1c3RvbWVyIHx8XHJcbiAgICAhcmVxLmJvZHkuY2FydC5jdXN0b21lci5uYW1lIHx8XHJcbiAgICAhcmVxLmJvZHkuY2FydC5jdXN0b21lci5tb2JpbGUgfHxcclxuICAgICFyZXEuYm9keS5jYXJ0LmN1c3RvbWVyLmFkZHJlc3NcclxuICApIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnSW52YWxpZCBjdXN0b21lciBpbmZvcm1hdGlvbi4nKTtcclxuICB9XHJcbiAgaWYgKHJlcS5ib2R5LmNhcnQudG90YWwgPD0gMCkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdObyBwcm9kdWN0IHRvIGNoZWNrb3V0LicpO1xyXG4gIH1cclxuXHJcbiAgbGV0IGJNZW1iZXI6IGJvb2xlYW4gPSBiTG9naW4ocmVxLnNlc3Npb24pO1xyXG5cclxuICBsZXQgaWQgPSAnJztcclxuICBpZiAoYk1lbWJlcikge1xyXG4gICAgaWQgPSByZXEuc2Vzc2lvbi51c2VyLl9pZDtcclxuICB9IGVsc2Uge1xyXG4gICAgaWQgPSByYW5kb21TdHJpbmcoMjApO1xyXG4gIH1cclxuICBjb25zdCBjYXJ0SXRlbXM6IENhcnRJdGVtW10gPSByZXEuYm9keS5jYXJ0LmNhcnRJdGVtcztcclxuICBjb25zdCBjdXN0b21lciA9IHJlcS5ib2R5LmNhcnQuY3VzdG9tZXI7XHJcblxyXG4gIHRyeSB7XHJcbiAgICAvLyByZXNlcnZlIGludmVudG9yeSwgaXQgdGhyb3cgZXJyb3IgaW4gY2FzZSBvZiBmYWlsdXJlLlxyXG4gICAgYXdhaXQgUmVzZXJ2ZUludmVudG9yeShpZCwgY2FydEl0ZW1zKTtcclxuXHJcbiAgICBsZXQgaW5zZXJ0UnNsdCA9IGF3YWl0IE5ld09yZGVyKGN1c3RvbWVyLCBjYXJ0SXRlbXMpO1xyXG4gICAgaWYgKGluc2VydFJzbHQucmVzdWx0Lm4gPD0gMCkge1xyXG4gICAgICBhd2FpdCBEZWxldGVJbnZlbnRvcnlSZXNlcnZhdGlvbihpZCk7XHJcbiAgICAgIHRocm93ICdDcmVhdGUgbmV3IG9yZGVyIGZhaWxlZC4nO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCB1cGRhdGVSc2x0ID0gYXdhaXQgRGVsZXRlSW52ZW50b3J5UmVzZXJ2YXRpb24oaWQpO1xyXG4gICAgY29uc29sZS5sb2codXBkYXRlUnNsdCk7XHJcblxyXG4gICAgaWYgKGJNZW1iZXIpIHtcclxuICAgICAgY29uc3QgZGJDYXJ0cyA9IGF3YWl0IERiQ29sbGVjdGlvbignZ2lmdHMtY2FydHMnKTtcclxuICAgICAgbGV0IGRlbGV0ZVJzbHQgPSBhd2FpdCBkYkNhcnRzLmRlbGV0ZU9uZSh7IF9pZDogbmV3IE9iamVjdElEKGlkKSB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyBvcmRlcklkOiBpZCB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5zZW5kKGUpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtcclxuICBBZGRUb0NhcnQsXHJcbiAgQ2FydENoZWNrb3V0LFxyXG4gIERlbGV0ZUNhcnQsXHJcbiAgRGVsZXRlSW5DYXJ0LFxyXG4gIEdldENhcnQsXHJcbiAgVXBkYXRlQ2FydFF0eVxyXG59O1xyXG4iLCJpbXBvcnQgeyBSZXF1ZXN0LCBSZXNwb25zZSB9IGZyb20gJy4uL2ludGVyZmFjZSc7XHJcbmltcG9ydCB7IERiQ29sbGVjdGlvbiwgT2JqZWN0SUQgfSBmcm9tICcuLi9tb25nb2RiLW9wcyc7XHJcbmltcG9ydCB7IGJMb2dpbiB9IGZyb20gJy4uL2dpZnRzLXVzZXJzL2dpZnRzLXVzZXJzLm9wcyc7XHJcbmltcG9ydCB7IENhcnRJdGVtIH0gZnJvbSAnLi4vZ2lmdHMtdXNlcnMvdXNlcnMtaW50ZXJmYWNlJztcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIE5ld09yZGVyKGN1c3RvbWVyLCBjYXJ0SXRlbXM6IENhcnRJdGVtW10pIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgZGJPcmRlcnMgPSBhd2FpdCBEYkNvbGxlY3Rpb24oJ2dpZnRzLW9yZGVycycpO1xyXG4gICAgbGV0IGluc2VydFJzbHQgPSBkYk9yZGVycy5pbnNlcnRPbmUoe1xyXG4gICAgICBjcmVhdGVkX29uOiBuZXcgRGF0ZSgpLFxyXG4gICAgICBzaGlwcGluZzoge1xyXG4gICAgICAgIG5hbWU6IGN1c3RvbWVyLm5hbWUsXHJcbiAgICAgICAgbW9iaWxlOiBjdXN0b21lci5tb2JpbGUsXHJcbiAgICAgICAgYWRkcmVzczogY3VzdG9tZXIuYWRkcmVzcyxcclxuICAgICAgICBtZXNzYWdlOiBjdXN0b21lci5tZXNzYWdlXHJcbiAgICAgIH0sXHJcbiAgICAgIHBheW1lbnQ6IHsgbWV0aG9kOiAndmlzYScsIHRyYW5zYWN0aW9uX2lkOiAnMjMxMjIxMzMxMlhYWFREJyB9LFxyXG4gICAgICBjYXJ0SXRlbXM6IGNhcnRJdGVtc1xyXG4gICAgfSk7XHJcbiAgICBjb25zb2xlLmxvZygnaW5zZXJ0UnNsdDogJywgaW5zZXJ0UnNsdCk7XHJcbiAgICByZXR1cm4gaW5zZXJ0UnNsdDtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICB0aHJvdyAnY3JlYXRlIG5ldyBvcmRlciBmYWlsZWQuJztcclxuICB9XHJcbn1cclxuLy8gYXN5bmMgZnVuY3Rpb24gR2V0Q2FydChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcclxuLy8gICBpZiAoIWJMb2dpbihyZXEuc2Vzc2lvbikpIHtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuc2VuZCgnVXNlciBub3QgbG9naW4nKTtcclxuLy8gICB9XHJcblxyXG4vLyAgIHRyeSB7XHJcbi8vICAgICBjb25zdCBkYiA9IGF3YWl0IE1vbmdvRGIoKTtcclxuLy8gICAgIGxldCBjYXJ0ID0gYXdhaXQgZGJcclxuLy8gICAgICAgLmNvbGxlY3Rpb24oJ2dpZnRzLWNhcnRzJylcclxuLy8gICAgICAgLmZpbmQoeyBfaWQ6IHJlcS5zZXNzaW9uLnVzZXJbMF0uX2lkIH0pXHJcbi8vICAgICAgIC50b0FycmF5KCk7XHJcblxyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGNhcnQpO1xyXG4vLyAgIH0gY2F0Y2ggKGUpIHtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuLy8gICB9XHJcbi8vIH1cclxuXHJcbi8vIGFzeW5jIGZ1bmN0aW9uIFVwZGF0ZUNhcnRRdHkocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XHJcbi8vICAgaWYgKCFiTG9naW4ocmVxLnNlc3Npb24pKSB7XHJcbi8vICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCgnVXNlciBub3QgbG9naW4uJyk7XHJcbi8vICAgfVxyXG4vLyAgIGlmICghcmVxLmJvZHkucHJvZHVjdElkIHx8ICFyZXEuYm9keS5xdWFudGl0eSkge1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5zZW5kKCdJbnZhbGlkIGlucHV0LicpO1xyXG4vLyAgIH1cclxuXHJcbi8vICAgdHJ5IHtcclxuLy8gICAgIGNvbnN0IGRiID0gYXdhaXQgTW9uZ29EYigpO1xyXG4vLyAgICAgbGV0IHJzbHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKCdnaWZ0cy1jYXJ0cycpLnVwZGF0ZU9uZShcclxuLy8gICAgICAge1xyXG4vLyAgICAgICAgIF9pZDogcmVxLnNlc3Npb24udXNlclswXS5faWQsXHJcbi8vICAgICAgICAgJ3Byb2R1Y3RzLnByb2R1Y3RJZCc6IHJlcS5ib2R5LnByb2R1Y3RJZFxyXG4vLyAgICAgICB9LFxyXG4vLyAgICAgICB7XHJcbi8vICAgICAgICAgJHNldDoge1xyXG4vLyAgICAgICAgICAgJ3Byb2R1Y3RzLiQucXVhbnRpdHknOiByZXEuYm9keS5xdWFudGl0eSxcclxuLy8gICAgICAgICAgIG1vZGlmaWVkT246IG5ldyBEYXRlKClcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgIH1cclxuLy8gICAgICk7XHJcbi8vICAgICBjb25zb2xlLmxvZyhyc2x0KTtcclxuLy8gICAgIHJldHVybiByZXMuc2VuZFN0YXR1cygyMDApO1xyXG4vLyAgIH0gY2F0Y2ggKGUpIHtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuLy8gICB9XHJcbi8vIH1cclxuXHJcbi8vIGFzeW5jIGZ1bmN0aW9uIERlbGV0ZUNhcnQocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSB7XHJcbi8vICAgaWYgKCFiTG9naW4ocmVxLnNlc3Npb24pKSB7XHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoJ1VzZXIgbm90IGxvZ2luLicpO1xyXG4vLyAgIH1cclxuXHJcbi8vICAgdHJ5IHtcclxuLy8gICAgIGNvbnN0IGRiID0gYXdhaXQgTW9uZ29EYigpO1xyXG4vLyAgICAgYXdhaXQgZGJcclxuLy8gICAgICAgLmNvbGxlY3Rpb24oJ2dpZnRzLWNhcnRzJylcclxuLy8gICAgICAgLmRlbGV0ZU9uZSh7IF9pZDogcmVxLnNlc3Npb24udXNlclswXS5faWQgfSk7XHJcbi8vICAgICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoMjAwKTtcclxuLy8gICB9IGNhdGNoIChlKSB7XHJcbi8vICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoZSk7XHJcbi8vICAgfVxyXG4vLyB9XHJcblxyXG4vLyBhc3luYyBmdW5jdGlvbiBEZWxldGVDYXJ0UHJvZHVjdChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcclxuLy8gICBpZiAoIWJMb2dpbihyZXEuc2Vzc2lvbikpIHtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnVXNlciBub3QgbG9naW4uJyk7XHJcbi8vICAgfVxyXG5cclxuLy8gICB0cnkge1xyXG4vLyAgICAgY29uc3QgZGIgPSBhd2FpdCBNb25nb0RiKCk7XHJcbi8vICAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKCdnaWZ0cy1jYXJ0cycpLnVwZGF0ZU9uZShcclxuLy8gICAgICAgeyBfaWQ6IHJlcS5zZXNzaW9uLnVzZXJbMF0uX2lkIH0sXHJcbi8vICAgICAgIHtcclxuLy8gICAgICAgICAkc2V0OiB7IG1vZGlmaWVkT246IG5ldyBEYXRlKCkgfSxcclxuLy8gICAgICAgICAkcHVsbDoge1xyXG4vLyAgICAgICAgICAgcHJvZHVjdHM6IHtcclxuLy8gICAgICAgICAgICAgcHJvZHVjdElkOiByZXEuYm9keS5wcm9kdWN0SWQsXHJcbi8vICAgICAgICAgICAgIHF1YW50aXR5OiByZXEuYm9keS5xdWFudGl0eVxyXG4vLyAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgfVxyXG4vLyAgICAgKTtcclxuLy8gICAgIHJldHVybiByZXMuc2VuZFN0YXR1cygyMDApO1xyXG4vLyAgIH0gY2F0Y2ggKGUpIHtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuLy8gICB9XHJcbi8vIH1cclxuXHJcbi8vIGFzeW5jIGZ1bmN0aW9uIENhcnRDaGVja291dChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpIHtcclxuLy8gICBpZiAoIWJMb2dpbihyZXEuc2Vzc2lvbikpIHtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuc2VuZCgnVXNlciBub3QgbG9naW4uJyk7XHJcbi8vICAgfVxyXG5cclxuLy8gICB0cnkge1xyXG4vLyAgICAgY29uc3QgZGIgPSBhd2FpdCBNb25nb0RiKCk7XHJcbi8vICAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKCdnaWZ0cy1jYXJ0cycpLnVwZGF0ZU9uZShcclxuLy8gICAgICAgeyBfaWQ6IHJlcS5zZXNzaW9uLnVzZXJbMF0uX2lkIH0sXHJcbi8vICAgICAgIHtcclxuLy8gICAgICAgICAkc2V0OiB7IG1vZGlmaWVkT246IG5ldyBEYXRlKCkgfSxcclxuLy8gICAgICAgICAkcHVsbDoge1xyXG4vLyAgICAgICAgICAgcHJvZHVjdHM6IHtcclxuLy8gICAgICAgICAgICAgcHJvZHVjdElkOiByZXEuYm9keS5wcm9kdWN0SWQsXHJcbi8vICAgICAgICAgICAgIHF1YW50aXR5OiByZXEuYm9keS5xdWFudGl0eVxyXG4vLyAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuLy8gICAgICAgfVxyXG4vLyAgICAgKTtcclxuLy8gICAgIHJldHVybiByZXMuc2VuZFN0YXR1cygyMDApO1xyXG4vLyAgIH0gY2F0Y2ggKGUpIHtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuc2VuZChlKTtcclxuLy8gICB9XHJcbi8vIH1cclxuXHJcbi8vIGV4cG9ydCB7IERlbGV0ZUNhcnQsIERlbGV0ZUNhcnRQcm9kdWN0LCBHZXRDYXJ0LCBVcGRhdGVDYXJ0UXR5IH07XHJcbmV4cG9ydCB7IE5ld09yZGVyIH07XHJcbiIsImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xyXG5cclxuaW1wb3J0IHsgUmVxdWVzdCwgUmVzcG9uc2UgfSBmcm9tICcuLi9pbnRlcmZhY2UnO1xyXG5cclxuY29uc3QgZ2lmdHNTdGFmZnNSb3V0ZXIgPSBSb3V0ZXIoKTtcclxuXHJcbmdpZnRzU3RhZmZzUm91dGVyLnBvc3QoJy9sb2dpbicsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICAvLyBMb2dpbihyZXEsIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1N0YWZmc1JvdXRlci5nZXQoJy9sb2dvdXQnLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgLy8gTG9nb3V0KHJlcSwgcmVzKTtcclxufSk7XHJcbmdpZnRzU3RhZmZzUm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcclxuICAvLyBSZWdpc3RlcihyZXEsIHJlcyk7XHJcbn0pO1xyXG5naWZ0c1N0YWZmc1JvdXRlci5kZWxldGUoJy9kZWxldGV1c2VyJywgKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSkgPT4ge1xyXG4gIC8vIERlbGV0ZVVzZXIocmVxLCByZXMpO1xyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGdpZnRzU3RhZmZzUm91dGVyO1xyXG4iLCJpbXBvcnQgeyBjcmVhdGVUcmFuc3BvcnQgfSBmcm9tICdub2RlbWFpbGVyJztcclxuXHJcbmltcG9ydCB7IFJlc3BvbnNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlJztcclxuXHJcbmNvbnN0IHRyYW5zcG9ydGVyID0gY3JlYXRlVHJhbnNwb3J0KHtcclxuICBob3N0OiAnbWFpbC5pbnNnLnh5eicsXHJcbiAgc2VjdXJlOiB0cnVlLFxyXG4gIGF1dGg6IHtcclxuICAgIHVzZXI6ICdpQGluc2cueHl6JyxcclxuICAgIHBhc3M6ICdwYXNzMTIzNCdcclxuICB9XHJcbn0pO1xyXG5cclxuY29uc3QgbWFpbE9wdGlvbnMgPSB7XHJcbiAgZnJvbTogJ2lAaW5zZy54eXonLFxyXG4gIHRvOiAnc2Vlc2VhMkBnbWFpbC5jb20nLFxyXG4gIHN1YmplY3Q6ICdIZWxsbycsXHJcbiAgdGV4dDogJ1RoaXMgaXMgZW1haWwgZnJvbSBJblNHLnh5eicsXHJcbiAgaHRtbDogJzxiPnRoaXMgaXMgZW1haWwgZnJvbSBJblNHLnh5ejwvYj4nXHJcbn07XHJcblxyXG5mdW5jdGlvbiBTZW5kRW1haWwoYm9keTogYW55LCByZXM6IFJlc3BvbnNlKSB7XHJcbiAgLy8gY29uc3QgZW1haWxIdG1sOiBzdHJpbmcgPVxyXG4gIC8vICAgJzwhRE9DVFlQRSBodG1sPjxoZWFkPicgK1xyXG4gIC8vICAgJzxtZXRhIGh0dHAtZXF1aXY9XCJjb250ZW50LXR5cGVcIiBjb250ZW50PVwidGV4dC9odG1sO2NoYXJzZXQ9VVRGLThcIj48L2hlYWQ+JyArXHJcbiAgLy8gICBgPGJvZHk+PGJyPjxiPk1lc3NhZ2UgZnJvbSBVc2VyICR7Ym9keS5uYW1lfWAgK1xyXG4gIC8vICAgJyA6PC9iPjxicj48YnI+JyArXHJcbiAgLy8gICBgPHA+PGI+RW1haWw6IDwvYj4gJHtib2R5LmVtYWlsfWAgK1xyXG4gIC8vICAgJzwvcD4nICtcclxuICAvLyAgIGA8cD48Yj5Nb2JpbGU6IDwvYj4gJHtib2R5Lm1vYmlsZX1gICtcclxuICAvLyAgICc8L3A+JyArXHJcbiAgLy8gICBgPHA+PGI+TWVzc2FnZTogPC9iPiAke2JvZHkubWVzc2FnZX1gICtcclxuICAvLyAgICc8L3A+JyArXHJcbiAgLy8gICAnPC9ib2R5PjwvaHRtbD4nO1xyXG5cclxuICAvLyBtYWlsT3B0aW9ucy5zdWJqZWN0ID0gJ1VzZXIgSW5xdWlyeSc7XHJcbiAgLy8gbWFpbE9wdGlvbnMuaHRtbCA9IGVtYWlsSHRtbDtcclxuICB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucyk7XHJcbiAgLy8gcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgcmVzdWx0OiAnb2snIH0pO1xyXG59XHJcblxyXG5TZW5kRW1haWwobnVsbCwgbnVsbCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTZW5kRW1haWw7XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm5vZGVtYWlsZXJcIik7Il0sInNvdXJjZVJvb3QiOiIifQ==