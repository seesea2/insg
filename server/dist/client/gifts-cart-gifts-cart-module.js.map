{"version":3,"sources":["webpack:///./src/app/gifts-cart/cart-home.component.css","webpack:///./src/app/gifts-cart/cart-home.component.html","webpack:///./src/app/gifts-cart/cart-home.component.ts","webpack:///./src/app/gifts-cart/checkout/checkout.component.css","webpack:///./src/app/gifts-cart/checkout/checkout.component.html","webpack:///./src/app/gifts-cart/checkout/checkout.component.ts","webpack:///./src/app/gifts-cart/gifts-cart.module.ts"],"names":[],"mappings":"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","file":"gifts-cart-gifts-cart-module.js","sourcesContent":["module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2dpZnRzLWNhcnQvY2FydC1ob21lLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"<div class=\\\"container\\\">\\r\\n  <h2 class=\\\"pt-5 pb-4\\\">View Cart</h2>\\r\\n\\r\\n  <div *ngIf=\\\"!cart.cartItems.length\\\" class=\\\"my-5\\\">\\r\\n    <h4>The cart is empty. Enjoy shopping.</h4>\\r\\n  </div>\\r\\n  <div *ngIf=\\\"cart.cartItems.length\\\">\\r\\n    <mat-list>\\r\\n      <mat-list-item *ngFor=\\\"let productItem of cart.cartItems; let i=index\\\" class=\\\"bg-white border\\\">\\r\\n        <img matListAvatar src=\\\"/assets/{{productItem.product.img[0]}}\\\">\\r\\n        <div matLine>\\r\\n          <span class=\\\"mx-4\\\">Name: {{productItem.product.name}}</span>\\r\\n          <span class=\\\"mr-4\\\">Price: {{productItem.product.price}} S$</span>\\r\\n          <span class=\\\"mr-auto\\\">Qty: {{productItem.qty}}</span>\\r\\n          <span>Subtotal: {{productItem.qty * productItem.product.price}} S$</span>\\r\\n        </div>\\r\\n        <div matLine>\\r\\n          <button mat-button (click)=\\\"removeFromCart(productItem.product._id)\\\">Remove</button>\\r\\n        </div>\\r\\n      </mat-list-item>\\r\\n    </mat-list>\\r\\n    <button mat-button (click)=\\\"clearCart()\\\">Empty Cart</button>\\r\\n\\r\\n    <mat-card class=\\\"my-4\\\">\\r\\n      <mat-card-content>\\r\\n        <h2>Total:</h2> {{cart.total}} S$\\r\\n        <mat-hint class=\\\"ml-4\\\">Inclusive of 7% GST</mat-hint>\\r\\n      </mat-card-content>\\r\\n      <mat-card-actions>\\r\\n        <button mat-raised-button color=\\\"primary\\\" routerLink=\\\"/gifts/cart/checkout\\\">\\r\\n          Checkout\\r\\n        </button>\\r\\n      </mat-card-actions>\\r\\n    </mat-card>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { Cart } from '../core/cart-interface';\r\nimport { CartApiService } from '../core/services/cart-api.service';\r\n// import { ProductsApiService } from '../core/services/products-api.service';\r\n// import { Product } from '../core/products-interface';\r\n\r\n@Component({\r\n  selector: 'cart-home',\r\n  templateUrl: './cart-home.component.html',\r\n  styleUrls: ['./cart-home.component.css']\r\n})\r\nexport class CartHomeComponent implements OnInit {\r\n  cart: Cart;\r\n\r\n  constructor(private cartApi: CartApiService) {}\r\n\r\n  ngOnInit() {\r\n    this.cartApi.cart$.subscribe(cart => {\r\n      this.cart = cart;\r\n    });\r\n  }\r\n\r\n  removeFromCart(_id: string) {\r\n    this.cartApi.removeFromCart(_id);\r\n  }\r\n\r\n  clearCart() {\r\n    this.cartApi.clearCart();\r\n  }\r\n}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2dpZnRzLWNhcnQvY2hlY2tvdXQvY2hlY2tvdXQuY29tcG9uZW50LmNzcyJ9 */\"","module.exports = \"<div class=\\\"container my-4\\\">\\r\\n  <mat-horizontal-stepper labelPosition=\\\"bottom\\\" linear #stepper>\\r\\n    <ng-template matStepperIcon=\\\"edit\\\">\\r\\n      <i class=\\\"fa fa-check\\\"></i>\\r\\n    </ng-template>\\r\\n    <ng-template matStepperIcon=\\\"done\\\">\\r\\n      <i class=\\\"fa fa-check\\\"></i>\\r\\n    </ng-template>\\r\\n    <mat-step [stepControl]=\\\"firstFormGroup\\\" label=\\\"Shipping Info\\\" class=\\\"my-4 py-4\\\">\\r\\n      <form [formGroup]=\\\"firstFormGroup\\\">\\r\\n        <mat-form-field class=\\\"col-6\\\">\\r\\n          <mat-label>Name</mat-label>\\r\\n          <input matInput formControlName=\\\"name\\\" type=\\\"text\\\" required>\\r\\n        </mat-form-field>\\r\\n        <mat-form-field class=\\\"col-6\\\">\\r\\n          <mat-label>Mobile</mat-label>\\r\\n          <input matInput formControlName=\\\"mobile\\\" type=\\\"tel\\\" required>\\r\\n        </mat-form-field>\\r\\n        <mat-form-field class=\\\"col-12\\\">\\r\\n          <mat-label>Address</mat-label>\\r\\n          <input matInput formControlName=\\\"address\\\" type=\\\"text\\\" required>\\r\\n        </mat-form-field>\\r\\n        <div>\\r\\n          <button matStepperNext mat-raised-button color=\\\"primary\\\">Next</button>\\r\\n        </div>\\r\\n      </form>\\r\\n    </mat-step>\\r\\n    <mat-step [stepControl]=\\\"secondFormGroup\\\" label=\\\"Review Purchase\\\" class=\\\"my-4 py-4\\\">\\r\\n      <form [formGroup]=\\\"secondFormGroup\\\">\\r\\n        <mat-form-field class=\\\"col-12\\\">\\r\\n          <mat-label>Message for order</mat-label>\\r\\n          <textarea matInput formControlName=\\\"message\\\"></textarea>\\r\\n        </mat-form-field>\\r\\n        <div>\\r\\n          <button mat-raised-button matStepperPrevious>Back</button>\\r\\n          <button mat-raised-button color=\\\"primary\\\" matStepperNext>Next</button>\\r\\n        </div>\\r\\n      </form>\\r\\n    </mat-step>\\r\\n    <mat-step label=\\\"Done\\\" class=\\\"my-4 py-4\\\">\\r\\n      <ng-template matStepLabel>Done</ng-template>\\r\\n      <div>{{submitMsg}}</div>\\r\\n      <div *ngIf=\\\"!submitDone\\\">\\r\\n        <button mat-raised-button matStepperPrevious>Back</button>\\r\\n        <button mat-raised-button color=\\\"primary\\\" (click)=\\\"onSubmit()\\\" [disabled]=\\\"processing\\\">Submit</button>\\r\\n      </div>\\r\\n    </mat-step>\\r\\n  </mat-horizontal-stepper>\\r\\n</div>\\r\\n\"","import { Component, Input, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\nimport { Cart } from '../../core/cart-interface';\r\nimport { CartApiService } from '../../core/services/cart-api.service';\r\nimport { UsersService } from '../../core/services/users.service';\r\n\r\n@Component({\r\n  selector: 'cart-checkout',\r\n  templateUrl: './checkout.component.html',\r\n  styleUrls: ['./checkout.component.css']\r\n})\r\nexport class CartCheckoutComponent implements OnInit {\r\n  cart: Cart;\r\n  firstFormGroup: FormGroup;\r\n  processing: boolean;\r\n  secondFormGroup: FormGroup;\r\n  submitDone: boolean;\r\n  submitMsg: string;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private cartApi: CartApiService,\r\n    private usersService: UsersService\r\n  ) {\r\n    cartApi.cart$.subscribe(data => {\r\n      this.cart = data;\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.firstFormGroup = this.formBuilder.group({\r\n      name: ['', Validators.required],\r\n      mobile: ['', Validators.required],\r\n      address: ['', Validators.required]\r\n    });\r\n    this.processing = false;\r\n    this.secondFormGroup = this.formBuilder.group({\r\n      message: ['']\r\n    });\r\n    this.submitDone = false;\r\n    this.submitMsg = '';\r\n  }\r\n\r\n  onSubmit() {\r\n    console.log(this.firstFormGroup.controls);\r\n    console.log(this.secondFormGroup.controls);\r\n\r\n    if(this.cart.cartItems.length <= 0) {\r\n      return this.submitMsg = \"No product in cart to checkout.\"\r\n    }\r\n\r\n    this.cart.customer = {\r\n      name: this.firstFormGroup.controls.name.value,\r\n      mobile: this.firstFormGroup.controls.mobile.value,\r\n      address: this.firstFormGroup.controls.address.value,\r\n      message: this.secondFormGroup.controls.message.value\r\n    };\r\n    console.log('this.cart.customer: ', this.cart.customer);\r\n\r\n    this.processing = true;\r\n    this.cartApi.checkout(this.cart).subscribe(\r\n      data => {\r\n        this.submitDone = true;\r\n        this.cartApi.clearCart();\r\n        console.log('checkout successfully.', data);\r\n        this.submitMsg = `Order submitted; order no: ${data.orderId}.`;\r\n        this.processing = false;\r\n      },\r\n      err => {\r\n        this.submitMsg = JSON.stringify(err);\r\n        console.log('checkout failed.', err);\r\n        this.processing = false;\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\nimport { CartHomeComponent } from './cart-home.component';\r\nimport { CartCheckoutComponent } from './checkout/checkout.component';\r\n\r\nconst giftsCartRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CartHomeComponent\r\n  },\r\n  { path: 'checkout', component: CartCheckoutComponent }\r\n];\r\n\r\n@NgModule({\r\n  declarations: [CartHomeComponent, CartCheckoutComponent],\r\n  imports: [SharedModule, RouterModule.forChild(giftsCartRoutes)]\r\n})\r\nexport class GiftsCartModule {}\r\n"],"sourceRoot":""}