{"version":3,"sources":["webpack:///./src/app/core/cart-interface.ts","webpack:///./src/app/core/services/cart-api.service.ts"],"names":[],"mappings":"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","file":"common.js","sourcesContent":["import { Product } from './products-interface';\r\n\r\nexport interface CartItem {\r\n  product: Product;\r\n  qty: number;\r\n}\r\n\r\nexport class Cart {\r\n  customer: {\r\n    name: string;\r\n    mobile: number;\r\n    address: string;\r\n    message: string;\r\n  };\r\n  cartItems: CartItem[];\r\n  total: number;\r\n  constructor() {\r\n    this.customer = { name: null, mobile: null, address: null, message: null };\r\n    this.cartItems = [];\r\n    this.total = 0;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { throwError, BehaviorSubject } from 'rxjs';\r\nimport { CookieService } from 'ngx-cookie-service';\r\n\r\nimport { UsersService } from './users.service';\r\n\r\nimport { Product } from '../products-interface';\r\nimport { Cart } from '../cart-interface';\r\nimport { httpOptions } from '../http-interface';\r\n\r\nconst cookieExpireDays: number = 90;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CartApiService {\r\n  private cartSubject = new BehaviorSubject<Cart>(new Cart());\r\n  private cartItemCountSubject = new BehaviorSubject<number>(0);\r\n  bLogin: boolean;\r\n  cart$ = this.cartSubject.asObservable();\r\n  cart: Cart;\r\n  cartItemCount$ = this.cartItemCountSubject.asObservable();\r\n\r\n  constructor(\r\n    private httpClient: HttpClient,\r\n    private cookieService: CookieService,\r\n    private usersService: UsersService\r\n  ) {\r\n    usersService.bLogin$.subscribe(data => {\r\n      this.bLogin = data;\r\n      if (data === true) {\r\n        this.initCart();\r\n      }\r\n    });\r\n    this.cart$.subscribe(data => {\r\n      this.cart = data;\r\n      this.cartItemCountSubject.next(data.cartItems.length);\r\n    });\r\n\r\n    this.initCart();\r\n  }\r\n\r\n  initCart() {\r\n    let cookie = this.cookieService.get('InSgCart');\r\n    let cookie_cart: Cart;\r\n    if (!cookie) {\r\n      cookie_cart = new Cart();\r\n    } else {\r\n      cookie_cart = JSON.parse(cookie);\r\n    }\r\n    this.cartSubject.next(cookie_cart);\r\n    this.cartItemCountSubject.next(cookie_cart.cartItems.length);\r\n\r\n    if (this.bLogin) {\r\n      this.httpClient\r\n        .get<Cart>('/api/gifts/users/cart')\r\n        .subscribe(serverCart => {\r\n          if (\r\n            serverCart &&\r\n            serverCart.cartItems &&\r\n            serverCart.cartItems.length > 0\r\n          ) {\r\n            serverCart.cartItems.forEach(cartItem => {\r\n              let i = 0;\r\n              for (i = 0; i < cookie_cart.cartItems.length; ++i) {\r\n                if (\r\n                  cookie_cart.cartItems[i].product._id === cartItem.product._id\r\n                ) {\r\n                  cookie_cart.cartItems[i].qty += cartItem.qty;\r\n                  break;\r\n                }\r\n              }\r\n              if (i >= cookie_cart.cartItems.length) {\r\n                cookie_cart.cartItems.push({\r\n                  product: cartItem.product,\r\n                  qty: cartItem.qty\r\n                });\r\n              }\r\n              cookie_cart.total += cartItem.product.price * cartItem.qty;\r\n            });\r\n\r\n            this.cartSubject.next(cookie_cart);\r\n            this.cartItemCountSubject.next(cookie_cart.cartItems.length);\r\n          }\r\n          \r\n          this.cookieService.set(\r\n            'InSgCart',\r\n            JSON.stringify(cookie_cart),\r\n            cookieExpireDays,\r\n            '/'\r\n          );\r\n        });\r\n    }\r\n  }\r\n\r\n  addToCart(product: Product, qty: number) {\r\n    let i = 0;\r\n    for (i = 0; i < this.cart.cartItems.length; i++) {\r\n      if (this.cart.cartItems[i].product._id === product._id) {\r\n        this.cart.cartItems[i].qty += qty;\r\n        break;\r\n      }\r\n    }\r\n    if (i >= this.cart.cartItems.length) {\r\n      this.cart.cartItems.push({ product: product, qty: qty });\r\n    }\r\n    this.cart.total += product.price * qty;\r\n    this.cartSubject.next(this.cart);\r\n    this.cartItemCountSubject.next(this.cart.cartItems.length);\r\n    this.cookieService.set(\r\n      'InSgCart',\r\n      JSON.stringify(this.cart),\r\n      cookieExpireDays,\r\n      '/'\r\n    );\r\n\r\n    console.log('addToCart this.bLogin: ', this.bLogin);\r\n    if (this.bLogin) {\r\n      this.httpClient\r\n        .post('/api/gifts/users/cart', { product: product, qty: qty })\r\n        .subscribe(r => {\r\n          console.log('addToCart result: ', r);\r\n        });\r\n    }\r\n  }\r\n\r\n  updateInCart(product: Product, qty: number) {\r\n    for (let i = 0; i < this.cart.cartItems.length; ++i) {\r\n      if (this.cart.cartItems[i].product._id === product._id) {\r\n        this.cart.total -=\r\n          this.cart.cartItems[i].product.price * this.cart.cartItems[i].qty;\r\n        this.cart.cartItems[i].qty = qty;\r\n        this.cart.total += product.price * qty;\r\n        break;\r\n      }\r\n    }\r\n    this.cartSubject.next(this.cart);\r\n    this.cartItemCountSubject.next(this.cart.cartItems.length);\r\n\r\n    this.cookieService.set(\r\n      'InSgCart',\r\n      JSON.stringify(this.cart),\r\n      cookieExpireDays,\r\n      '/'\r\n    );\r\n\r\n    if (this.bLogin) {\r\n      return this.httpClient\r\n        .put('/api/gifts/users/cart', { cart: this.cart })\r\n        .subscribe(r => {\r\n          console.log('updateInCart rslt: ', r);\r\n        });\r\n    }\r\n  }\r\n\r\n  removeFromCart(_id: string) {\r\n    for (let i = 0; i < this.cart.cartItems.length; i++) {\r\n      if (this.cart.cartItems[i].product._id === _id) {\r\n        this.cart.total -=\r\n          this.cart.cartItems[i].product.price * this.cart.cartItems[i].qty;\r\n        this.cart.cartItems.splice(i, 1);\r\n        this.cartSubject.next(this.cart);\r\n        this.cartItemCountSubject.next(this.cart.cartItems.length);\r\n\r\n        this.cookieService.set(\r\n          'InSgCart',\r\n          JSON.stringify(this.cart),\r\n          cookieExpireDays,\r\n          '/'\r\n        );\r\n\r\n        if (this.bLogin) {\r\n          this.httpClient\r\n            .delete('/api/gifts/users/cart/product', {\r\n              headers: new HttpHeaders().set(\r\n                'Content-Type',\r\n                'application/json'\r\n              ),\r\n              params: new HttpParams().set('_id', _id)\r\n            })\r\n            .subscribe(r => {\r\n              console.log('removeFromCart rslt: ', r);\r\n            });\r\n        }\r\n\r\n        break;\r\n      }\r\n    }\r\n    // this.cart.cartItems.filter(h => h.product._id != product._id);\r\n    // this.cookieService.set('InSgCart', JSON.stringify(this.cart));\r\n    // this.cart.total -= this.cart.cartItems[i].product.price  * this.cart.cartItems[i].product.qty;\r\n    console.log('removeFromCart : ', this.cart);\r\n  }\r\n\r\n  clearCart() {\r\n    this.cart.total = 0;\r\n    this.cart.cartItems = [];\r\n    this.cartSubject.next(this.cart);\r\n    this.cartItemCountSubject.next(this.cart.cartItems.length);\r\n    this.cookieService.set(\r\n      'InSgCart',\r\n      JSON.stringify(this.cart),\r\n      cookieExpireDays,\r\n      '/'\r\n    );\r\n    if (this.bLogin) {\r\n      this.httpClient.delete('/api/gifts/users/cart').subscribe(r => {\r\n        console.log('clearCart rslt: ', r);\r\n      });\r\n    }\r\n  }\r\n\r\n  checkout(cart: Cart) {\r\n    if (\r\n      !cart ||\r\n      !cart.customer ||\r\n      !cart.customer.name ||\r\n      !cart.customer.mobile ||\r\n      !cart.customer.address\r\n    ) {\r\n      return throwError('Name, mobile and address are required.');\r\n    }\r\n    return this.httpClient.post<{ orderId: string }>(\r\n      '/api/gifts/users/cart/checkout',\r\n      { cart: this.cart },\r\n      httpOptions\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}