{"version":3,"sources":["webpack:///./src/app/register-login/login/login.component.html","webpack:///./src/app/register-login/register/register.component.html","webpack:///./src/app/register-login/login/login.component.css","webpack:///./src/app/register-login/login/login.component.ts","webpack:///./src/app/register-login/register-login-routing.module.ts","webpack:///./src/app/register-login/register-login.module.ts","webpack:///./src/app/register-login/register/register.component.css","webpack:///./src/app/register-login/register/register.component.ts"],"names":[],"mappings":"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","file":"default~register-login-register-login-module~staffs-staffs-module-es2015.js","sourcesContent":["module.exports = \"<div class=\\\"d-flex my-5\\\">\\r\\n  <mat-card class=\\\"container col-sm-12 col-md-6 col-lg-4\\\">\\r\\n    <mat-card-title class=\\\"text-center\\\">\\r\\n      <h2>Welcome! Please login.</h2>\\r\\n    </mat-card-title>\\r\\n    <mat-card-content class=\\\"row no-gutters\\\">\\r\\n      <mat-form-field class=\\\"col-12\\\">\\r\\n        <mat-label>Username</mat-label>\\r\\n        <input #uid matInput id=\\\"uid\\\" required />\\r\\n        <span matSuffix><i class=\\\"fa fa-user m-2\\\"></i></span>\\r\\n      </mat-form-field>\\r\\n      <mat-form-field class=\\\"col-12\\\">\\r\\n        <mat-label>Password</mat-label>\\r\\n        <input #pwd matInput id=\\\"pwd\\\" type=\\\"password\\\" required />\\r\\n        <span matSuffix><i class=\\\"fa fa-key m-2\\\"></i></span>\\r\\n      </mat-form-field>\\r\\n      <mat-error>{{errMsg}}</mat-error>\\r\\n      <span *ngIf=\\\"!bStaffLogin\\\" class=\\\"small\\\"><a>New memober Register</a></span>\\r\\n      <button mat-raised-button color=\\\"primary\\\" (click)='login(uid.value, pwd.value)'>Login</button>\\r\\n    </mat-card-content>\\r\\n    <!-- <mat-card-footer class=\\\"text-center\\\">&copy; 2019</mat-card-footer> -->\\r\\n  </mat-card>\\r\\n</div>\\r\\n\"","module.exports = \"<div class=\\\"d-flex\\\">\\r\\n  <mat-card class='container col-sm-12 col-md-8 col-lg-6 my-5 py-3'>\\r\\n    <mat-card-title class=\\\"text-center\\\">\\r\\n      <h2>Register</h2>\\r\\n    </mat-card-title>\\r\\n    <mat-card-content>\\r\\n      <form [formGroup]=\\\"registerForm\\\" clss=\\\"row no-gutters\\\">\\r\\n        <mat-form-field appearance=\\\"outline\\\" class=\\\"col-sm-12 col-md-6\\\">\\r\\n          <mat-label>First Name</mat-label>\\r\\n          <input matInput formControlName=\\\"firstName\\\" [ngClass]=\\\"{ 'is-invalid': submitted && fg.firstName.errors }\\\"\\r\\n            required />\\r\\n          <mat-error *ngIf=\\\"submitted && fg['firstName'].errors\\\">\\r\\n            First Name is required\\r\\n          </mat-error>\\r\\n        </mat-form-field>\\r\\n        <mat-form-field appearance=\\\"outline\\\" class=\\\"col-sm-12 col-md-6\\\">\\r\\n          <mat-label>Last Name</mat-label>\\r\\n          <input matInput formControlName=\\\"lastName\\\" [ngClass]=\\\"{ 'is-invalid': submitted && fg.lastName.errors }\\\"\\r\\n            required />\\r\\n          <mat-error *ngIf=\\\"submitted && fg['lastName'].errors\\\">\\r\\n            Last Name is required\\r\\n          </mat-error>\\r\\n        </mat-form-field>\\r\\n        <mat-form-field appearance=\\\"outline\\\" class=\\\"col-12\\\">\\r\\n          <mat-label>Username</mat-label>\\r\\n          <input matInput formControlName=\\\"uid\\\" [ngClass]=\\\"{ 'is-invalid': submitted && fg.uid.errors }\\\" required />\\r\\n          <mat-error *ngIf=\\\"submitted && fg['uid'].errors\\\">\\r\\n            Username is required\\r\\n          </mat-error>\\r\\n        </mat-form-field>\\r\\n        <mat-form-field appearance=\\\"outline\\\" class=\\\"col-12\\\">\\r\\n          <mat-label>Email</mat-label>\\r\\n          <input matInput type=\\\"text\\\" formControlName=\\\"email\\\" required />\\r\\n          <mat-error *ngIf=\\\"submitted && fg['email'].errors.required\\\">\\r\\n            Email is required\\r\\n          </mat-error>\\r\\n          <mat-error *ngIf=\\\"submitted && fg['email'].errors.email\\\">\\r\\n            Email is invalid\\r\\n          </mat-error>\\r\\n        </mat-form-field>\\r\\n        <mat-form-field appearance=\\\"outline\\\" class=\\\"col-12\\\">\\r\\n          <mat-label>Password</mat-label>\\r\\n          <input matInput type=\\\"password\\\" formControlName=\\\"pwd\\\" [ngClass]=\\\"{ 'is-invalid': submitted && fg.pwd.errors }\\\"\\r\\n            required />\\r\\n          <mat-error *ngIf=\\\"submitted && fg['pwd'].errors\\\">\\r\\n            <div *ngIf=\\\"fg['pwd'].errors.required\\\">Password is required</div>\\r\\n            <div *ngIf=\\\"fg['pwd'].errors.minlength\\\">\\r\\n              Password must be at least 6 characters\\r\\n            </div>\\r\\n          </mat-error>\\r\\n        </mat-form-field>\\r\\n        <div>\\r\\n          <mat-error>{{errMsg}}</mat-error>\\r\\n          <button mat-raised-button (click)=\\\"onSubmit()\\\" color=\\\"primary\\\" [disabled]=\\\"loading\\\">Register</button>\\r\\n          <img *ngIf=\\\"loading\\\" class=\\\"pl-3\\\" src=\\\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\\\" />\\r\\n          <button mat-button routerLink=\\\"/gifts\\\">Cancel</button>\\r\\n        </div>\\r\\n      </form>\\r\\n    </mat-card-content>\\r\\n  </mat-card>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JlZ2lzdGVyLWxvZ2luL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport { UsersService } from '../../core/services/users.service';\r\n\r\n@Component({\r\n  selector: 'registerlogin-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  bStaffLogin: boolean;\r\n  uid: string;\r\n  pwd: string;\r\n  errMsg: string;\r\n\r\n  constructor(private usersService: UsersService, private router: Router) {\r\n    console.log('routes.url : ', router);\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.bStaffLogin = false;\r\n    this.uid = '';\r\n    this.pwd = '';\r\n    this.errMsg = '';\r\n\r\n    this.bStaffLogin = this.router.url.includes('/staffs/registerLogin/');\r\n  }\r\n\r\n  login(uid: string, pwd: string) {\r\n    this.usersService.login(this.bStaffLogin, uid, pwd).subscribe(\r\n      data => {\r\n        this.errMsg = '';\r\n        console.log('login succeed: ', data);\r\n\r\n        this.usersService.sendLoginStatus(true);\r\n        if (this.bStaffLogin) {\r\n          this.router.navigate(['/staffs']);\r\n        } else {\r\n          this.router.navigate(['/gifts']);\r\n        }\r\n      },\r\n      err => {\r\n        this.errMsg = err;\r\n        console.error('login failed, ', err);\r\n        this.usersService.sendLoginStatus(false);\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginComponent } from './login/login.component';\r\nimport { RegisterComponent } from './register/register.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'login',\r\n    component: LoginComponent\r\n  },\r\n  {\r\n    path: 'register',\r\n    component: RegisterComponent\r\n  }\r\n];\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class RegisterLoginRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\n\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { RegisterLoginRoutingModule } from './register-login-routing.module';\r\n\r\nimport { LoginComponent } from './login/login.component';\r\nimport { RegisterComponent } from './register/register.component';\r\n\r\n@NgModule({\r\n  declarations: [LoginComponent, RegisterComponent],\r\n  imports: [SharedModule, RegisterLoginRoutingModule],\r\n  exports: [LoginComponent, RegisterComponent]\r\n})\r\nexport class RegisterLoginModule {}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JlZ2lzdGVyLWxvZ2luL3JlZ2lzdGVyL3JlZ2lzdGVyLmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\nimport { UsersService } from '../../core/services/users.service';\r\n\r\n@Component({\r\n  selector: 'registerlogin-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.css']\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n  registerForm: FormGroup;\r\n  loading: boolean;\r\n  submitted: boolean;\r\n  errMsg: string;\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private usersService: UsersService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.loading = false;\r\n    this.submitted = false;\r\n    this.errMsg = '';\r\n    this.registerForm = this.formBuilder.group({\r\n      firstName: ['', Validators.required],\r\n      lastName: ['', Validators.required],\r\n      uid: ['', Validators.required],\r\n      email: ['', [Validators.required, Validators.email]],\r\n      pwd: ['', [Validators.required, Validators.minLength(2)]]\r\n    });\r\n  }\r\n  get fg() {\r\n    return this.registerForm.controls;\r\n  }\r\n\r\n  onSubmit() {\r\n    console.log('Register onSubmit()');\r\n    this.submitted = true;\r\n\r\n    // stop here if form is invalid\r\n    if (this.registerForm.invalid) {\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n    this.errMsg = '';\r\n    this.usersService.register(this.registerForm).subscribe(\r\n      data => {\r\n        console.log('Register successfully.', data);\r\n        this.loading = false;\r\n      },\r\n      error => {\r\n        console.log('Register failed.', error);\r\n        this.loading = false;\r\n        this.errMsg = error;\r\n      }\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}